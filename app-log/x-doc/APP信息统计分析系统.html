<html xmlns:v="urn:schemas-microsoft-com:vml"
xmlns:o="urn:schemas-microsoft-com:office:office"
xmlns:w="urn:schemas-microsoft-com:office:word"
xmlns:dt="uuid:C2F41010-65B3-11d1-A29F-00AA00C14882"
xmlns:m="http://schemas.microsoft.com/office/2004/12/omml"
xmlns="http://www.w3.org/TR/REC-html40">

<head>
<meta http-equiv=Content-Type content="text/html; charset=utf-8">
<meta name=ProgId content=Word.Document>
<meta name=Generator content="Microsoft Word 15">
<meta name=Originator content="Microsoft Word 15">
<link rel=File-List href="APP信息统计分析系统.fld/filelist.xml">
<link rel=Edit-Time-Data href="APP信息统计分析系统.fld/editdata.mso">
<link rel=OLE-Object-Data href="APP信息统计分析系统.fld/oledata.mso">
<!--[if !mso]>
<style>
v\:* {behavior:url(#default#VML);}
o\:* {behavior:url(#default#VML);}
w\:* {behavior:url(#default#VML);}
.shape {behavior:url(#default#VML);}
</style>
<![endif]--><!--[if gte mso 9]><xml>
 <o:DocumentProperties>
  <o:Author>shkstart</o:Author>
  <o:LastAuthor>whohow@aliyun.com</o:LastAuthor>
  <o:Revision>2</o:Revision>
  <o:TotalTime>23825</o:TotalTime>
  <o:LastPrinted>2014-02-13T02:31:00Z</o:LastPrinted>
  <o:Created>2018-06-14T08:39:00Z</o:Created>
  <o:LastSaved>2018-06-14T08:39:00Z</o:LastSaved>
  <o:Pages>1</o:Pages>
  <o:Words>15493</o:Words>
  <o:Characters>88311</o:Characters>
  <o:Lines>735</o:Lines>
  <o:Paragraphs>207</o:Paragraphs>
  <o:CharactersWithSpaces>103597</o:CharactersWithSpaces>
  <o:Version>16.00</o:Version>
 </o:DocumentProperties>
 <o:CustomDocumentProperties>
  <o:KSOProductBuildVer dt:dt="string">2052-10.1.0.5850</o:KSOProductBuildVer>
 </o:CustomDocumentProperties>
 <o:OfficeDocumentSettings>
  <o:AllowPNG/>
 </o:OfficeDocumentSettings>
</xml><![endif]-->
<link rel=dataStoreItem href="APP信息统计分析系统.fld/item0001.xml"
target="APP信息统计分析系统.fld/props002.xml">
<link rel=themeData href="APP信息统计分析系统.fld/themedata.thmx">
<link rel=colorSchemeMapping href="APP信息统计分析系统.fld/colorschememapping.xml">
<!--[if gte mso 9]><xml>
 <w:WordDocument>
  <w:HideSpellingErrors/>
  <w:TrackMoves>false</w:TrackMoves>
  <w:TrackFormatting/>
  <w:DrawingGridVerticalSpacing>7.8 磅</w:DrawingGridVerticalSpacing>
  <w:ValidateAgainstSchemas/>
  <w:SaveIfXMLInvalid>false</w:SaveIfXMLInvalid>
  <w:IgnoreMixedContent>false</w:IgnoreMixedContent>
  <w:AlwaysShowPlaceholderText>false</w:AlwaysShowPlaceholderText>
  <w:DoNotPromoteQF/>
  <w:LidThemeOther>EN-US</w:LidThemeOther>
  <w:LidThemeAsian>ZH-CN</w:LidThemeAsian>
  <w:LidThemeComplexScript>X-NONE</w:LidThemeComplexScript>
  <w:Compatibility>
   <w:SpaceForUL/>
   <w:BalanceSingleByteDoubleByteWidth/>
   <w:DoNotLeaveBackslashAlone/>
   <w:DoNotExpandShiftReturn/>
   <w:AdjustLineHeightInTable/>
   <w:BreakWrappedTables/>
   <w:SnapToGridInCell/>
   <w:UseWord2010TableStyleRules/>
   <w:DontGrowAutofit/>
   <w:DontUseIndentAsNumberingTabStop/>
   <w:FELineBreak11/>
   <w:WW11IndentRules/>
   <w:DontAutofitConstrainedTables/>
   <w:AutofitLikeWW11/>
   <w:HangulWidthLikeWW11/>
   <w:UseNormalStyleForList/>
   <w:DontVertAlignCellWithSp/>
   <w:DontBreakConstrainedForcedTables/>
   <w:DontVertAlignInTxbx/>
   <w:Word11KerningPairs/>
   <w:CachedColBalance/>
   <w:UseFELayout/>
  </w:Compatibility>
  <m:mathPr>
   <m:mathFont m:val="Cambria Math"/>
   <m:brkBin m:val="before"/>
   <m:brkBinSub m:val="&#45;-"/>
   <m:smallFrac m:val="off"/>
   <m:dispDef/>
   <m:lMargin m:val="0"/>
   <m:rMargin m:val="0"/>
   <m:defJc m:val="centerGroup"/>
   <m:wrapIndent m:val="1440"/>
   <m:intLim m:val="subSup"/>
   <m:naryLim m:val="undOvr"/>
  </m:mathPr></w:WordDocument>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:LatentStyles DefLockedState="false" DefUnhideWhenUsed="false"
  DefSemiHidden="false" DefQFormat="false" DefPriority="99"
  LatentStyleCount="375">
  <w:LsdException Locked="false" Priority="0" QFormat="true" Name="Normal"/>
  <w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 1"/>
  <w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 2"/>
  <w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 3"/>
  <w:LsdException Locked="false" Priority="9" SemiHidden="true"
   UnhideWhenUsed="true" QFormat="true" Name="heading 4"/>
  <w:LsdException Locked="false" Priority="9" SemiHidden="true"
   UnhideWhenUsed="true" QFormat="true" Name="heading 5"/>
  <w:LsdException Locked="false" Priority="9" SemiHidden="true"
   UnhideWhenUsed="true" QFormat="true" Name="heading 6"/>
  <w:LsdException Locked="false" Priority="9" SemiHidden="true"
   UnhideWhenUsed="true" QFormat="true" Name="heading 7"/>
  <w:LsdException Locked="false" Priority="9" SemiHidden="true"
   UnhideWhenUsed="true" QFormat="true" Name="heading 8"/>
  <w:LsdException Locked="false" Priority="9" SemiHidden="true"
   UnhideWhenUsed="true" QFormat="true" Name="heading 9"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="index 1"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="index 2"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="index 3"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="index 4"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="index 5"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="index 6"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="index 7"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="index 8"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="index 9"/>
  <w:LsdException Locked="false" Priority="39" SemiHidden="true"
   UnhideWhenUsed="true" Name="toc 1"/>
  <w:LsdException Locked="false" Priority="39" SemiHidden="true"
   UnhideWhenUsed="true" Name="toc 2"/>
  <w:LsdException Locked="false" Priority="39" SemiHidden="true"
   UnhideWhenUsed="true" Name="toc 3"/>
  <w:LsdException Locked="false" Priority="39" SemiHidden="true"
   UnhideWhenUsed="true" Name="toc 4"/>
  <w:LsdException Locked="false" Priority="39" SemiHidden="true"
   UnhideWhenUsed="true" Name="toc 5"/>
  <w:LsdException Locked="false" Priority="39" SemiHidden="true"
   UnhideWhenUsed="true" Name="toc 6"/>
  <w:LsdException Locked="false" Priority="39" SemiHidden="true"
   UnhideWhenUsed="true" Name="toc 7"/>
  <w:LsdException Locked="false" Priority="39" SemiHidden="true"
   UnhideWhenUsed="true" Name="toc 8"/>
  <w:LsdException Locked="false" Priority="39" SemiHidden="true"
   UnhideWhenUsed="true" Name="toc 9"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Normal Indent"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="footnote text"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="annotation text"/>
  <w:LsdException Locked="false" UnhideWhenUsed="true" Name="header"/>
  <w:LsdException Locked="false" UnhideWhenUsed="true" Name="footer"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="index heading"/>
  <w:LsdException Locked="false" Priority="35" SemiHidden="true"
   UnhideWhenUsed="true" QFormat="true" Name="caption"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="table of figures"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="envelope address"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="envelope return"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="footnote reference"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="annotation reference"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="line number"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="page number"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="endnote reference"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="endnote text"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="table of authorities"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="macro"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="toa heading"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List Bullet"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List Number"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List 2"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List 3"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List 4"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List 5"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List Bullet 2"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List Bullet 3"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List Bullet 4"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List Bullet 5"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List Number 2"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List Number 3"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List Number 4"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List Number 5"/>
  <w:LsdException Locked="false" Priority="10" QFormat="true" Name="Title"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Closing"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Signature"/>
  <w:LsdException Locked="false" Priority="1" UnhideWhenUsed="true"
   Name="Default Paragraph Font"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Body Text"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Body Text Indent"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List Continue"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List Continue 2"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List Continue 3"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List Continue 4"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List Continue 5"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Message Header"/>
  <w:LsdException Locked="false" Priority="11" QFormat="true" Name="Subtitle"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Salutation"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Date"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Body Text First Indent"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Body Text First Indent 2"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Note Heading"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Body Text 2"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Body Text 3"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Body Text Indent 2"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Body Text Indent 3"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Block Text"/>
  <w:LsdException Locked="false" UnhideWhenUsed="true" Name="Hyperlink"/>
  <w:LsdException Locked="false" UnhideWhenUsed="true" Name="FollowedHyperlink"/>
  <w:LsdException Locked="false" Priority="22" QFormat="true" Name="Strong"/>
  <w:LsdException Locked="false" Priority="20" QFormat="true" Name="Emphasis"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Document Map"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Plain Text"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="E-mail Signature"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="HTML Top of Form"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="HTML Bottom of Form"/>
  <w:LsdException Locked="false" UnhideWhenUsed="true" Name="Normal (Web)"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="HTML Acronym"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="HTML Address"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="HTML Cite"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="HTML Code"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="HTML Definition"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="HTML Keyboard"/>
  <w:LsdException Locked="false" UnhideWhenUsed="true" Name="HTML Preformatted"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="HTML Sample"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="HTML Typewriter"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="HTML Variable"/>
  <w:LsdException Locked="false" UnhideWhenUsed="true" Name="Normal Table"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="annotation subject"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="No List"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Outline List 1"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Outline List 2"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Outline List 3"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Simple 1"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Simple 2"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Simple 3"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Classic 1"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Classic 2"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Classic 3"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Classic 4"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Colorful 1"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Colorful 2"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Colorful 3"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Columns 1"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Columns 2"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Columns 3"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Columns 4"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Columns 5"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Grid 1"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Grid 2"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Grid 3"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Grid 4"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Grid 5"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Grid 6"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Grid 7"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Grid 8"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table List 1"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table List 2"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table List 3"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table List 4"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table List 5"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table List 6"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table List 7"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table List 8"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table 3D effects 1"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table 3D effects 2"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table 3D effects 3"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Contemporary"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Elegant"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Professional"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Subtle 1"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Subtle 2"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Web 1"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Web 2"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Web 3"/>
  <w:LsdException Locked="false" UnhideWhenUsed="true" Name="Balloon Text"/>
  <w:LsdException Locked="false" Priority="39" QFormat="true" Name="Table Grid"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Theme"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Placeholder Text"/>
  <w:LsdException Locked="false" QFormat="true" Name="No Spacing"/>
  <w:LsdException Locked="false" Priority="60" Name="Light Shading"/>
  <w:LsdException Locked="false" Priority="61" Name="Light List"/>
  <w:LsdException Locked="false" Priority="62" Name="Light Grid"/>
  <w:LsdException Locked="false" Priority="63" Name="Medium Shading 1"/>
  <w:LsdException Locked="false" Priority="64" Name="Medium Shading 2"/>
  <w:LsdException Locked="false" Priority="65" Name="Medium List 1"/>
  <w:LsdException Locked="false" Priority="66" Name="Medium List 2"/>
  <w:LsdException Locked="false" Priority="67" Name="Medium Grid 1"/>
  <w:LsdException Locked="false" Priority="68" Name="Medium Grid 2"/>
  <w:LsdException Locked="false" Priority="69" Name="Medium Grid 3"/>
  <w:LsdException Locked="false" Priority="70" Name="Dark List"/>
  <w:LsdException Locked="false" Priority="71" Name="Colorful Shading"/>
  <w:LsdException Locked="false" Priority="72" Name="Colorful List"/>
  <w:LsdException Locked="false" Priority="73" Name="Colorful Grid"/>
  <w:LsdException Locked="false" Priority="60" Name="Light Shading Accent 1"/>
  <w:LsdException Locked="false" Priority="61" Name="Light List Accent 1"/>
  <w:LsdException Locked="false" Priority="62" Name="Light Grid Accent 1"/>
  <w:LsdException Locked="false" Priority="63" Name="Medium Shading 1 Accent 1"/>
  <w:LsdException Locked="false" Priority="64" Name="Medium Shading 2 Accent 1"/>
  <w:LsdException Locked="false" Priority="65" Name="Medium List 1 Accent 1"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Revision"/>
  <w:LsdException Locked="false" Priority="34" QFormat="true"
   Name="List Paragraph"/>
  <w:LsdException Locked="false" QFormat="true" Name="Quote"/>
  <w:LsdException Locked="false" QFormat="true" Name="Intense Quote"/>
  <w:LsdException Locked="false" Priority="66" Name="Medium List 2 Accent 1"/>
  <w:LsdException Locked="false" Priority="67" Name="Medium Grid 1 Accent 1"/>
  <w:LsdException Locked="false" Priority="68" Name="Medium Grid 2 Accent 1"/>
  <w:LsdException Locked="false" Priority="69" Name="Medium Grid 3 Accent 1"/>
  <w:LsdException Locked="false" Priority="70" Name="Dark List Accent 1"/>
  <w:LsdException Locked="false" Priority="71" Name="Colorful Shading Accent 1"/>
  <w:LsdException Locked="false" Priority="72" Name="Colorful List Accent 1"/>
  <w:LsdException Locked="false" Priority="73" Name="Colorful Grid Accent 1"/>
  <w:LsdException Locked="false" Priority="60" Name="Light Shading Accent 2"/>
  <w:LsdException Locked="false" Priority="61" Name="Light List Accent 2"/>
  <w:LsdException Locked="false" Priority="62" Name="Light Grid Accent 2"/>
  <w:LsdException Locked="false" Priority="63" Name="Medium Shading 1 Accent 2"/>
  <w:LsdException Locked="false" Priority="64" Name="Medium Shading 2 Accent 2"/>
  <w:LsdException Locked="false" Priority="65" Name="Medium List 1 Accent 2"/>
  <w:LsdException Locked="false" Priority="66" Name="Medium List 2 Accent 2"/>
  <w:LsdException Locked="false" Priority="67" Name="Medium Grid 1 Accent 2"/>
  <w:LsdException Locked="false" Priority="68" Name="Medium Grid 2 Accent 2"/>
  <w:LsdException Locked="false" Priority="69" Name="Medium Grid 3 Accent 2"/>
  <w:LsdException Locked="false" Priority="70" Name="Dark List Accent 2"/>
  <w:LsdException Locked="false" Priority="71" Name="Colorful Shading Accent 2"/>
  <w:LsdException Locked="false" Priority="72" Name="Colorful List Accent 2"/>
  <w:LsdException Locked="false" Priority="73" Name="Colorful Grid Accent 2"/>
  <w:LsdException Locked="false" Priority="60" Name="Light Shading Accent 3"/>
  <w:LsdException Locked="false" Priority="61" Name="Light List Accent 3"/>
  <w:LsdException Locked="false" Priority="62" Name="Light Grid Accent 3"/>
  <w:LsdException Locked="false" Priority="63" Name="Medium Shading 1 Accent 3"/>
  <w:LsdException Locked="false" Priority="64" Name="Medium Shading 2 Accent 3"/>
  <w:LsdException Locked="false" Priority="65" Name="Medium List 1 Accent 3"/>
  <w:LsdException Locked="false" Priority="66" Name="Medium List 2 Accent 3"/>
  <w:LsdException Locked="false" Priority="67" Name="Medium Grid 1 Accent 3"/>
  <w:LsdException Locked="false" Priority="68" Name="Medium Grid 2 Accent 3"/>
  <w:LsdException Locked="false" Priority="69" Name="Medium Grid 3 Accent 3"/>
  <w:LsdException Locked="false" Priority="70" Name="Dark List Accent 3"/>
  <w:LsdException Locked="false" Priority="71" Name="Colorful Shading Accent 3"/>
  <w:LsdException Locked="false" Priority="72" Name="Colorful List Accent 3"/>
  <w:LsdException Locked="false" Priority="73" Name="Colorful Grid Accent 3"/>
  <w:LsdException Locked="false" Priority="60" Name="Light Shading Accent 4"/>
  <w:LsdException Locked="false" Priority="61" Name="Light List Accent 4"/>
  <w:LsdException Locked="false" Priority="62" Name="Light Grid Accent 4"/>
  <w:LsdException Locked="false" Priority="63" Name="Medium Shading 1 Accent 4"/>
  <w:LsdException Locked="false" Priority="64" Name="Medium Shading 2 Accent 4"/>
  <w:LsdException Locked="false" Priority="65" Name="Medium List 1 Accent 4"/>
  <w:LsdException Locked="false" Priority="66" Name="Medium List 2 Accent 4"/>
  <w:LsdException Locked="false" Priority="67" Name="Medium Grid 1 Accent 4"/>
  <w:LsdException Locked="false" Priority="68" Name="Medium Grid 2 Accent 4"/>
  <w:LsdException Locked="false" Priority="69" Name="Medium Grid 3 Accent 4"/>
  <w:LsdException Locked="false" Priority="70" Name="Dark List Accent 4"/>
  <w:LsdException Locked="false" Priority="71" Name="Colorful Shading Accent 4"/>
  <w:LsdException Locked="false" Priority="72" Name="Colorful List Accent 4"/>
  <w:LsdException Locked="false" Priority="73" Name="Colorful Grid Accent 4"/>
  <w:LsdException Locked="false" Priority="60" Name="Light Shading Accent 5"/>
  <w:LsdException Locked="false" Priority="61" Name="Light List Accent 5"/>
  <w:LsdException Locked="false" Priority="62" Name="Light Grid Accent 5"/>
  <w:LsdException Locked="false" Priority="63" Name="Medium Shading 1 Accent 5"/>
  <w:LsdException Locked="false" Priority="64" Name="Medium Shading 2 Accent 5"/>
  <w:LsdException Locked="false" Priority="65" Name="Medium List 1 Accent 5"/>
  <w:LsdException Locked="false" Priority="66" Name="Medium List 2 Accent 5"/>
  <w:LsdException Locked="false" Priority="67" Name="Medium Grid 1 Accent 5"/>
  <w:LsdException Locked="false" Priority="68" Name="Medium Grid 2 Accent 5"/>
  <w:LsdException Locked="false" Priority="69" Name="Medium Grid 3 Accent 5"/>
  <w:LsdException Locked="false" Priority="70" Name="Dark List Accent 5"/>
  <w:LsdException Locked="false" Priority="71" Name="Colorful Shading Accent 5"/>
  <w:LsdException Locked="false" Priority="72" Name="Colorful List Accent 5"/>
  <w:LsdException Locked="false" Priority="73" Name="Colorful Grid Accent 5"/>
  <w:LsdException Locked="false" Priority="60" Name="Light Shading Accent 6"/>
  <w:LsdException Locked="false" Priority="61" Name="Light List Accent 6"/>
  <w:LsdException Locked="false" Priority="62" Name="Light Grid Accent 6"/>
  <w:LsdException Locked="false" Priority="63" Name="Medium Shading 1 Accent 6"/>
  <w:LsdException Locked="false" Priority="64" Name="Medium Shading 2 Accent 6"/>
  <w:LsdException Locked="false" Priority="65" Name="Medium List 1 Accent 6"/>
  <w:LsdException Locked="false" Priority="66" Name="Medium List 2 Accent 6"/>
  <w:LsdException Locked="false" Priority="67" Name="Medium Grid 1 Accent 6"/>
  <w:LsdException Locked="false" Priority="68" Name="Medium Grid 2 Accent 6"/>
  <w:LsdException Locked="false" Priority="69" Name="Medium Grid 3 Accent 6"/>
  <w:LsdException Locked="false" Priority="70" Name="Dark List Accent 6"/>
  <w:LsdException Locked="false" Priority="71" Name="Colorful Shading Accent 6"/>
  <w:LsdException Locked="false" Priority="72" Name="Colorful List Accent 6"/>
  <w:LsdException Locked="false" Priority="73" Name="Colorful Grid Accent 6"/>
  <w:LsdException Locked="false" Priority="19" QFormat="true"
   Name="Subtle Emphasis"/>
  <w:LsdException Locked="false" Priority="21" QFormat="true"
   Name="Intense Emphasis"/>
  <w:LsdException Locked="false" Priority="31" QFormat="true"
   Name="Subtle Reference"/>
  <w:LsdException Locked="false" Priority="32" QFormat="true"
   Name="Intense Reference"/>
  <w:LsdException Locked="false" Priority="33" QFormat="true" Name="Book Title"/>
  <w:LsdException Locked="false" Priority="37" SemiHidden="true"
   UnhideWhenUsed="true" Name="Bibliography"/>
  <w:LsdException Locked="false" Priority="39" SemiHidden="true"
   UnhideWhenUsed="true" QFormat="true" Name="TOC Heading"/>
  <w:LsdException Locked="false" Priority="41" Name="Plain Table 1"/>
  <w:LsdException Locked="false" Priority="42" Name="Plain Table 2"/>
  <w:LsdException Locked="false" Priority="43" Name="Plain Table 3"/>
  <w:LsdException Locked="false" Priority="44" Name="Plain Table 4"/>
  <w:LsdException Locked="false" Priority="45" Name="Plain Table 5"/>
  <w:LsdException Locked="false" Priority="40" Name="Grid Table Light"/>
  <w:LsdException Locked="false" Priority="46" Name="Grid Table 1 Light"/>
  <w:LsdException Locked="false" Priority="47" Name="Grid Table 2"/>
  <w:LsdException Locked="false" Priority="48" Name="Grid Table 3"/>
  <w:LsdException Locked="false" Priority="49" Name="Grid Table 4"/>
  <w:LsdException Locked="false" Priority="50" Name="Grid Table 5 Dark"/>
  <w:LsdException Locked="false" Priority="51" Name="Grid Table 6 Colorful"/>
  <w:LsdException Locked="false" Priority="52" Name="Grid Table 7 Colorful"/>
  <w:LsdException Locked="false" Priority="46"
   Name="Grid Table 1 Light Accent 1"/>
  <w:LsdException Locked="false" Priority="47" Name="Grid Table 2 Accent 1"/>
  <w:LsdException Locked="false" Priority="48" Name="Grid Table 3 Accent 1"/>
  <w:LsdException Locked="false" Priority="49" Name="Grid Table 4 Accent 1"/>
  <w:LsdException Locked="false" Priority="50" Name="Grid Table 5 Dark Accent 1"/>
  <w:LsdException Locked="false" Priority="51"
   Name="Grid Table 6 Colorful Accent 1"/>
  <w:LsdException Locked="false" Priority="52"
   Name="Grid Table 7 Colorful Accent 1"/>
  <w:LsdException Locked="false" Priority="46"
   Name="Grid Table 1 Light Accent 2"/>
  <w:LsdException Locked="false" Priority="47" Name="Grid Table 2 Accent 2"/>
  <w:LsdException Locked="false" Priority="48" Name="Grid Table 3 Accent 2"/>
  <w:LsdException Locked="false" Priority="49" Name="Grid Table 4 Accent 2"/>
  <w:LsdException Locked="false" Priority="50" Name="Grid Table 5 Dark Accent 2"/>
  <w:LsdException Locked="false" Priority="51"
   Name="Grid Table 6 Colorful Accent 2"/>
  <w:LsdException Locked="false" Priority="52"
   Name="Grid Table 7 Colorful Accent 2"/>
  <w:LsdException Locked="false" Priority="46"
   Name="Grid Table 1 Light Accent 3"/>
  <w:LsdException Locked="false" Priority="47" Name="Grid Table 2 Accent 3"/>
  <w:LsdException Locked="false" Priority="48" Name="Grid Table 3 Accent 3"/>
  <w:LsdException Locked="false" Priority="49" Name="Grid Table 4 Accent 3"/>
  <w:LsdException Locked="false" Priority="50" Name="Grid Table 5 Dark Accent 3"/>
  <w:LsdException Locked="false" Priority="51"
   Name="Grid Table 6 Colorful Accent 3"/>
  <w:LsdException Locked="false" Priority="52"
   Name="Grid Table 7 Colorful Accent 3"/>
  <w:LsdException Locked="false" Priority="46"
   Name="Grid Table 1 Light Accent 4"/>
  <w:LsdException Locked="false" Priority="47" Name="Grid Table 2 Accent 4"/>
  <w:LsdException Locked="false" Priority="48" Name="Grid Table 3 Accent 4"/>
  <w:LsdException Locked="false" Priority="49" Name="Grid Table 4 Accent 4"/>
  <w:LsdException Locked="false" Priority="50" Name="Grid Table 5 Dark Accent 4"/>
  <w:LsdException Locked="false" Priority="51"
   Name="Grid Table 6 Colorful Accent 4"/>
  <w:LsdException Locked="false" Priority="52"
   Name="Grid Table 7 Colorful Accent 4"/>
  <w:LsdException Locked="false" Priority="46"
   Name="Grid Table 1 Light Accent 5"/>
  <w:LsdException Locked="false" Priority="47" Name="Grid Table 2 Accent 5"/>
  <w:LsdException Locked="false" Priority="48" Name="Grid Table 3 Accent 5"/>
  <w:LsdException Locked="false" Priority="49" Name="Grid Table 4 Accent 5"/>
  <w:LsdException Locked="false" Priority="50" Name="Grid Table 5 Dark Accent 5"/>
  <w:LsdException Locked="false" Priority="51"
   Name="Grid Table 6 Colorful Accent 5"/>
  <w:LsdException Locked="false" Priority="52"
   Name="Grid Table 7 Colorful Accent 5"/>
  <w:LsdException Locked="false" Priority="46"
   Name="Grid Table 1 Light Accent 6"/>
  <w:LsdException Locked="false" Priority="47" Name="Grid Table 2 Accent 6"/>
  <w:LsdException Locked="false" Priority="48" Name="Grid Table 3 Accent 6"/>
  <w:LsdException Locked="false" Priority="49" Name="Grid Table 4 Accent 6"/>
  <w:LsdException Locked="false" Priority="50" Name="Grid Table 5 Dark Accent 6"/>
  <w:LsdException Locked="false" Priority="51"
   Name="Grid Table 6 Colorful Accent 6"/>
  <w:LsdException Locked="false" Priority="52"
   Name="Grid Table 7 Colorful Accent 6"/>
  <w:LsdException Locked="false" Priority="46" Name="List Table 1 Light"/>
  <w:LsdException Locked="false" Priority="47" Name="List Table 2"/>
  <w:LsdException Locked="false" Priority="48" Name="List Table 3"/>
  <w:LsdException Locked="false" Priority="49" Name="List Table 4"/>
  <w:LsdException Locked="false" Priority="50" Name="List Table 5 Dark"/>
  <w:LsdException Locked="false" Priority="51" Name="List Table 6 Colorful"/>
  <w:LsdException Locked="false" Priority="52" Name="List Table 7 Colorful"/>
  <w:LsdException Locked="false" Priority="46"
   Name="List Table 1 Light Accent 1"/>
  <w:LsdException Locked="false" Priority="47" Name="List Table 2 Accent 1"/>
  <w:LsdException Locked="false" Priority="48" Name="List Table 3 Accent 1"/>
  <w:LsdException Locked="false" Priority="49" Name="List Table 4 Accent 1"/>
  <w:LsdException Locked="false" Priority="50" Name="List Table 5 Dark Accent 1"/>
  <w:LsdException Locked="false" Priority="51"
   Name="List Table 6 Colorful Accent 1"/>
  <w:LsdException Locked="false" Priority="52"
   Name="List Table 7 Colorful Accent 1"/>
  <w:LsdException Locked="false" Priority="46"
   Name="List Table 1 Light Accent 2"/>
  <w:LsdException Locked="false" Priority="47" Name="List Table 2 Accent 2"/>
  <w:LsdException Locked="false" Priority="48" Name="List Table 3 Accent 2"/>
  <w:LsdException Locked="false" Priority="49" Name="List Table 4 Accent 2"/>
  <w:LsdException Locked="false" Priority="50" Name="List Table 5 Dark Accent 2"/>
  <w:LsdException Locked="false" Priority="51"
   Name="List Table 6 Colorful Accent 2"/>
  <w:LsdException Locked="false" Priority="52"
   Name="List Table 7 Colorful Accent 2"/>
  <w:LsdException Locked="false" Priority="46"
   Name="List Table 1 Light Accent 3"/>
  <w:LsdException Locked="false" Priority="47" Name="List Table 2 Accent 3"/>
  <w:LsdException Locked="false" Priority="48" Name="List Table 3 Accent 3"/>
  <w:LsdException Locked="false" Priority="49" Name="List Table 4 Accent 3"/>
  <w:LsdException Locked="false" Priority="50" Name="List Table 5 Dark Accent 3"/>
  <w:LsdException Locked="false" Priority="51"
   Name="List Table 6 Colorful Accent 3"/>
  <w:LsdException Locked="false" Priority="52"
   Name="List Table 7 Colorful Accent 3"/>
  <w:LsdException Locked="false" Priority="46"
   Name="List Table 1 Light Accent 4"/>
  <w:LsdException Locked="false" Priority="47" Name="List Table 2 Accent 4"/>
  <w:LsdException Locked="false" Priority="48" Name="List Table 3 Accent 4"/>
  <w:LsdException Locked="false" Priority="49" Name="List Table 4 Accent 4"/>
  <w:LsdException Locked="false" Priority="50" Name="List Table 5 Dark Accent 4"/>
  <w:LsdException Locked="false" Priority="51"
   Name="List Table 6 Colorful Accent 4"/>
  <w:LsdException Locked="false" Priority="52"
   Name="List Table 7 Colorful Accent 4"/>
  <w:LsdException Locked="false" Priority="46"
   Name="List Table 1 Light Accent 5"/>
  <w:LsdException Locked="false" Priority="47" Name="List Table 2 Accent 5"/>
  <w:LsdException Locked="false" Priority="48" Name="List Table 3 Accent 5"/>
  <w:LsdException Locked="false" Priority="49" Name="List Table 4 Accent 5"/>
  <w:LsdException Locked="false" Priority="50" Name="List Table 5 Dark Accent 5"/>
  <w:LsdException Locked="false" Priority="51"
   Name="List Table 6 Colorful Accent 5"/>
  <w:LsdException Locked="false" Priority="52"
   Name="List Table 7 Colorful Accent 5"/>
  <w:LsdException Locked="false" Priority="46"
   Name="List Table 1 Light Accent 6"/>
  <w:LsdException Locked="false" Priority="47" Name="List Table 2 Accent 6"/>
  <w:LsdException Locked="false" Priority="48" Name="List Table 3 Accent 6"/>
  <w:LsdException Locked="false" Priority="49" Name="List Table 4 Accent 6"/>
  <w:LsdException Locked="false" Priority="50" Name="List Table 5 Dark Accent 6"/>
  <w:LsdException Locked="false" Priority="51"
   Name="List Table 6 Colorful Accent 6"/>
  <w:LsdException Locked="false" Priority="52"
   Name="List Table 7 Colorful Accent 6"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Mention"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Smart Hyperlink"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Hashtag"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Unresolved Mention"/>
 </w:LatentStyles>
</xml><![endif]-->
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Helvetica;
	panose-1:0 0 0 0 0 0 0 0 0 0;
	mso-font-charset:0;
	mso-generic-font-family:swiss;
	mso-font-pitch:variable;
	mso-font-signature:3 0 0 0 1 0;}
@font-face
	{font-family:Courier;
	panose-1:0 0 0 0 0 0 0 0 0 0;
	mso-font-charset:0;
	mso-generic-font-family:modern;
	mso-font-pitch:fixed;
	mso-font-signature:3 0 0 0 1 0;}
@font-face
	{font-family:"Tms Rmn";
	panose-1:2 11 6 4 2 2 2 2 2 4;
	mso-font-charset:0;
	mso-generic-font-family:roman;
	mso-font-pitch:variable;
	mso-font-signature:3 0 0 0 1 0;}
@font-face
	{font-family:Helv;
	panose-1:2 11 6 4 2 2 2 2 2 4;
	mso-font-charset:0;
	mso-generic-font-family:swiss;
	mso-font-pitch:variable;
	mso-font-signature:3 0 0 0 1 0;}
@font-face
	{font-family:"New York";
	panose-1:2 11 6 4 2 2 2 2 2 4;
	mso-font-charset:0;
	mso-generic-font-family:roman;
	mso-font-pitch:variable;
	mso-font-signature:3 0 0 0 1 0;}
@font-face
	{font-family:System;
	panose-1:2 11 6 4 2 2 2 2 2 4;
	mso-font-charset:134;
	mso-generic-font-family:auto;
	mso-font-pitch:auto;
	mso-font-signature:1 135135232 16 0 262144 0;}
@font-face
	{font-family:Wingdings;
	panose-1:5 0 0 0 0 0 0 0 0 0;
	mso-font-charset:2;
	mso-generic-font-family:auto;
	mso-font-pitch:variable;
	mso-font-signature:0 268435456 0 0 -2147483648 0;}
@font-face
	{font-family:"MS Mincho";
	panose-1:2 2 6 9 4 2 5 8 3 4;
	mso-font-alt:"ＭＳ 明朝";
	mso-font-charset:128;
	mso-generic-font-family:modern;
	mso-font-pitch:fixed;
	mso-font-signature:-536870145 1791491579 134217746 0 131231 0;}
@font-face
	{font-family:Batang;
	panose-1:2 3 6 0 0 1 1 1 1 1;
	mso-font-alt:바탕;
	mso-font-charset:129;
	mso-generic-font-family:auto;
	mso-font-pitch:fixed;
	mso-font-signature:1 151388160 16 0 524288 0;}
@font-face
	{font-family:宋体;
	panose-1:2 1 6 0 3 1 1 1 1 1;
	mso-font-alt:SimSun;
	mso-font-charset:134;
	mso-generic-font-family:auto;
	mso-font-pitch:variable;
	mso-font-signature:3 680460288 22 0 262145 0;}
@font-face
	{font-family:PMingLiU;
	panose-1:2 2 5 0 0 0 0 0 0 0;
	mso-font-alt:新細明體;
	mso-font-charset:136;
	mso-generic-font-family:auto;
	mso-font-pitch:variable;
	mso-font-signature:1 134742016 16 0 1048576 0;}
@font-face
	{font-family:"MS Gothic";
	panose-1:2 11 6 9 7 2 5 8 2 4;
	mso-font-alt:"ＭＳ ゴシック";
	mso-font-charset:128;
	mso-generic-font-family:modern;
	mso-font-pitch:fixed;
	mso-font-signature:1 134676480 16 0 131072 0;}
@font-face
	{font-family:Dotum;
	panose-1:2 11 6 0 0 1 1 1 1 1;
	mso-font-alt:돋움;
	mso-font-charset:129;
	mso-generic-font-family:modern;
	mso-font-pitch:fixed;
	mso-font-signature:1 151388160 16 0 524288 0;}
@font-face
	{font-family:黑体;
	panose-1:2 1 6 9 6 1 1 1 1 1;
	mso-font-alt:SimHei;
	mso-font-charset:134;
	mso-generic-font-family:modern;
	mso-font-pitch:fixed;
	mso-font-signature:-2147482945 953122042 22 0 262145 0;}
@font-face
	{font-family:MingLiU;
	panose-1:2 2 5 9 0 0 0 0 0 0;
	mso-font-alt:細明體;
	mso-font-charset:136;
	mso-generic-font-family:modern;
	mso-font-pitch:fixed;
	mso-font-signature:1 134742016 16 0 1048576 0;}
@font-face
	{font-family:Mincho;
	panose-1:2 11 6 4 2 2 2 2 2 4;
	mso-font-alt:明朝;
	mso-font-charset:128;
	mso-generic-font-family:roman;
	mso-font-pitch:fixed;
	mso-font-signature:1 134676480 16 0 131072 0;}
@font-face
	{font-family:Gulim;
	panose-1:2 11 6 0 0 1 1 1 1 1;
	mso-font-alt:굴림;
	mso-font-charset:129;
	mso-generic-font-family:roman;
	mso-font-pitch:fixed;
	mso-font-signature:1 151388160 16 0 524288 0;}
@font-face
	{font-family:Century;
	panose-1:2 4 6 4 5 5 5 2 3 4;
	mso-font-charset:0;
	mso-generic-font-family:roman;
	mso-font-pitch:variable;
	mso-font-signature:3 0 0 0 1 0;}
@font-face
	{font-family:"Angsana New";
	panose-1:2 2 6 3 5 4 5 2 3 4;
	mso-font-charset:222;
	mso-generic-font-family:roman;
	mso-font-pitch:variable;
	mso-font-signature:16777217 0 0 0 65536 0;}
@font-face
	{font-family:"Cordia New";
	panose-1:2 11 3 4 2 2 2 2 2 4;
	mso-font-charset:222;
	mso-generic-font-family:roman;
	mso-font-pitch:variable;
	mso-font-signature:16777217 0 0 0 65536 0;}
@font-face
	{font-family:Mangal;
	panose-1:2 4 5 3 5 2 3 3 2 2;
	mso-font-charset:1;
	mso-generic-font-family:roman;
	mso-font-pitch:variable;
	mso-font-signature:8192 0 0 0 0 0;}
@font-face
	{font-family:Latha;
	panose-1:2 11 6 4 2 2 2 2 2 4;
	mso-font-charset:1;
	mso-generic-font-family:roman;
	mso-font-pitch:variable;
	mso-font-signature:262144 0 0 0 0 0;}
@font-face
	{font-family:Sylfaen;
	panose-1:2 11 6 4 2 2 2 2 2 4;
	mso-font-charset:0;
	mso-generic-font-family:roman;
	mso-font-pitch:variable;
	mso-font-signature:67110535 0 0 0 159 0;}
@font-face
	{font-family:Vrinda;
	panose-1:2 11 6 4 2 2 2 2 2 4;
	mso-font-charset:1;
	mso-generic-font-family:roman;
	mso-font-pitch:variable;
	mso-font-signature:0 0 0 0 0 0;}
@font-face
	{font-family:Raavi;
	panose-1:2 11 6 4 2 2 2 2 2 4;
	mso-font-charset:1;
	mso-generic-font-family:roman;
	mso-font-pitch:variable;
	mso-font-signature:0 0 0 0 0 0;}
@font-face
	{font-family:Shruti;
	panose-1:2 11 6 4 2 2 2 2 2 4;
	mso-font-charset:1;
	mso-generic-font-family:roman;
	mso-font-pitch:variable;
	mso-font-signature:0 0 0 0 0 0;}
@font-face
	{font-family:Sendnya;
	panose-1:2 11 6 4 2 2 2 2 2 4;
	mso-font-charset:1;
	mso-generic-font-family:roman;
	mso-font-pitch:variable;
	mso-font-signature:0 0 0 0 0 0;}
@font-face
	{font-family:Gautami;
	panose-1:2 11 5 2 4 2 4 2 2 3;
	mso-font-charset:1;
	mso-generic-font-family:roman;
	mso-font-pitch:variable;
	mso-font-signature:0 0 0 0 0 0;}
@font-face
	{font-family:Tunga;
	panose-1:2 11 5 2 4 2 4 2 2 3;
	mso-font-charset:1;
	mso-generic-font-family:roman;
	mso-font-pitch:variable;
	mso-font-signature:0 0 0 0 0 0;}
@font-face
	{font-family:"Estrangelo Edessa";
	panose-1:2 11 6 4 2 2 2 2 2 4;
	mso-font-charset:1;
	mso-generic-font-family:roman;
	mso-font-pitch:variable;
	mso-font-signature:0 0 0 0 0 0;}
@font-face
	{font-family:"Cambria Math";
	panose-1:2 4 5 3 5 4 6 3 2 4;
	mso-font-charset:0;
	mso-generic-font-family:roman;
	mso-font-pitch:variable;
	mso-font-signature:-536870145 1107305727 0 0 415 0;}
@font-face
	{font-family:"Yu Gothic";
	panose-1:2 11 4 0 0 0 0 0 0 0;
	mso-font-alt:游ゴシック;
	mso-font-charset:128;
	mso-generic-font-family:modern;
	mso-font-pitch:fixed;
	mso-font-signature:1 134676480 16 0 131072 0;}
@font-face
	{font-family:DengXian;
	panose-1:2 1 6 0 3 1 1 1 1 1;
	mso-font-alt:等线;
	mso-font-charset:134;
	mso-generic-font-family:auto;
	mso-font-pitch:variable;
	mso-font-signature:-1610612033 953122042 22 0 262159 0;}
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;
	mso-font-charset:0;
	mso-generic-font-family:swiss;
	mso-font-pitch:variable;
	mso-font-signature:-1610611985 1073750139 0 0 159 0;}
@font-face
	{font-family:"Calibri Light";
	panose-1:2 15 3 2 2 2 4 3 2 4;
	mso-font-charset:0;
	mso-generic-font-family:swiss;
	mso-font-pitch:variable;
	mso-font-signature:-536859905 -1073732485 9 0 511 0;}
@font-face
	{font-family:"Palatino Linotype";
	panose-1:2 4 5 2 5 5 5 3 3 4;
	mso-font-charset:0;
	mso-generic-font-family:roman;
	mso-font-pitch:variable;
	mso-font-signature:3 0 0 0 1 0;}
@font-face
	{font-family:Verdana;
	panose-1:2 11 6 4 3 5 4 4 2 4;
	mso-font-charset:0;
	mso-generic-font-family:swiss;
	mso-font-pitch:variable;
	mso-font-signature:-1593833729 1073750107 16 0 415 0;}
@font-face
	{font-family:"Arial Unicode MS";
	panose-1:2 11 6 4 2 2 2 2 2 4;
	mso-font-charset:0;
	mso-generic-font-family:roman;
	mso-font-pitch:variable;
	mso-font-signature:3 0 0 0 1 0;}
@font-face
	{font-family:"等线 Light";
	panose-1:2 1 6 0 3 1 1 1 1 1;
	mso-font-charset:134;
	mso-generic-font-family:auto;
	mso-font-pitch:variable;
	mso-font-signature:-1610612033 953122042 22 0 262159 0;}
@font-face
	{font-family:"Arial Narrow";
	panose-1:2 11 6 6 2 2 2 3 2 4;
	mso-font-charset:0;
	mso-generic-font-family:swiss;
	mso-font-pitch:variable;
	mso-font-signature:3 0 0 0 1 0;}
@font-face
	{font-family:"Arial Black";
	panose-1:2 11 10 4 2 1 2 2 2 4;
	mso-font-charset:0;
	mso-generic-font-family:swiss;
	mso-font-pitch:variable;
	mso-font-signature:-1610612049 1073772795 0 0 159 0;}
@font-face
	{font-family:华文细黑;
	panose-1:2 1 6 0 4 1 1 1 1 1;
	mso-font-alt:STXihei;
	mso-font-charset:134;
	mso-generic-font-family:auto;
	mso-font-pitch:variable;
	mso-font-signature:647 135200768 16 0 262145 0;}
@font-face
	{font-family:STHeiti;
	panose-1:2 1 6 0 4 1 1 1 1 1;
	mso-font-charset:134;
	mso-generic-font-family:auto;
	mso-font-pitch:variable;
	mso-font-signature:647 135200768 16 0 262303 0;}
@font-face
	{font-family:Tahoma;
	panose-1:2 11 6 4 3 5 4 4 2 4;
	mso-font-charset:0;
	mso-generic-font-family:swiss;
	mso-font-pitch:variable;
	mso-font-signature:3 0 0 0 1 0;}
@font-face
	{font-family:"微软雅黑 Light";
	panose-1:2 11 5 2 4 2 4 2 2 3;
	mso-font-charset:134;
	mso-generic-font-family:swiss;
	mso-font-pitch:variable;
	mso-font-signature:-1610612033 684654608 22 0 262159 0;}
@font-face
	{font-family:微软雅黑;
	panose-1:2 11 5 3 2 2 4 2 2 4;
	mso-font-charset:134;
	mso-generic-font-family:swiss;
	mso-font-pitch:variable;
	mso-font-signature:-2147483001 684670034 22 0 262175 0;}
@font-face
	{font-family:Consolas;
	panose-1:2 11 6 9 2 2 4 3 2 4;
	mso-font-charset:0;
	mso-generic-font-family:modern;
	mso-font-pitch:fixed;
	mso-font-signature:-520092929 1073806591 9 0 415 0;}
@font-face
	{font-family:"\@宋体";
	panose-1:2 1 6 0 3 1 1 1 1 1;
	mso-font-charset:134;
	mso-generic-font-family:auto;
	mso-font-pitch:variable;
	mso-font-signature:3 680460288 22 0 262145 0;}
@font-face
	{font-family:Cambria;
	panose-1:2 4 5 3 5 4 6 3 2 4;
	mso-font-charset:0;
	mso-generic-font-family:roman;
	mso-font-pitch:variable;
	mso-font-signature:-1610611985 1073741899 0 0 159 0;}
@font-face
	{font-family:Impact;
	panose-1:2 11 8 6 3 9 2 5 2 4;
	mso-font-charset:0;
	mso-generic-font-family:swiss;
	mso-font-pitch:variable;
	mso-font-signature:647 0 0 0 159 0;}
@font-face
	{font-family:"MS PGothic";
	panose-1:2 11 6 0 7 2 5 8 2 4;
	mso-font-charset:128;
	mso-generic-font-family:swiss;
	mso-font-pitch:variable;
	mso-font-signature:-536870145 1791491579 18 0 131231 0;}
@font-face
	{font-family:"MS PMincho";
	panose-1:2 2 6 0 4 2 5 8 3 4;
	mso-font-charset:128;
	mso-generic-font-family:roman;
	mso-font-pitch:variable;
	mso-font-signature:-536870145 1791491579 18 0 131231 0;}
@font-face
	{font-family:方正舒体;
	panose-1:2 11 6 4 2 2 2 2 2 4;
	mso-font-charset:134;
	mso-generic-font-family:roman;
	mso-font-pitch:auto;
	mso-font-signature:0 0 0 0 0 0;}
@font-face
	{font-family:"Wingdings 2";
	panose-1:5 2 1 2 1 5 7 7 7 7;
	mso-font-charset:2;
	mso-generic-font-family:roman;
	mso-font-pitch:variable;
	mso-font-signature:0 268435456 0 0 -2147483648 0;}
@font-face
	{font-family:"Tw Cen MT";
	panose-1:2 11 6 2 2 1 4 2 6 3;
	mso-font-charset:0;
	mso-generic-font-family:swiss;
	mso-font-pitch:variable;
	mso-font-signature:7 0 0 0 3 0;}
@font-face
	{font-family:华文仿宋;
	panose-1:2 1 6 0 4 1 1 1 1 1;
	mso-font-charset:134;
	mso-generic-font-family:roman;
	mso-font-pitch:auto;
	mso-font-signature:0 0 0 0 0 0;}
@font-face
	{font-family:"\@MS Mincho";
	panose-1:2 2 6 9 4 2 5 8 3 4;
	mso-font-charset:128;
	mso-generic-font-family:modern;
	mso-font-pitch:fixed;
	mso-font-signature:-536870145 1791491579 134217746 0 131231 0;}
@font-face
	{font-family:"\@微软雅黑";
	mso-font-charset:134;
	mso-generic-font-family:swiss;
	mso-font-pitch:variable;
	mso-font-signature:-2147483001 684670034 22 0 262175 0;}
@font-face
	{font-family:"\@微软雅黑 Light";
	mso-font-charset:134;
	mso-generic-font-family:swiss;
	mso-font-pitch:variable;
	mso-font-signature:-1610612033 684654608 22 0 262159 0;}
@font-face
	{font-family:"\@黑体";
	panose-1:2 1 6 0 3 1 1 1 1 1;
	mso-font-charset:134;
	mso-generic-font-family:modern;
	mso-font-pitch:fixed;
	mso-font-signature:-2147482945 953122042 22 0 262145 0;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{mso-style-unhide:no;
	mso-style-qformat:yes;
	mso-style-parent:"";
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	mso-pagination:none;
	font-size:10.5pt;
	mso-bidi-font-size:11.0pt;
	font-family:"Times New Roman",serif;
	mso-fareast-font-family:宋体;
	mso-font-kerning:1.0pt;}
h1
	{mso-style-priority:9;
	mso-style-unhide:no;
	mso-style-qformat:yes;
	mso-style-link:"标题 1 Char";
	mso-style-next:正文;
	margin-top:17.0pt;
	margin-right:0cm;
	margin-bottom:16.5pt;
	margin-left:0cm;
	text-align:justify;
	text-justify:inter-ideograph;
	line-height:240%;
	mso-pagination:lines-together;
	page-break-after:avoid;
	mso-outline-level:1;
	font-size:22.0pt;
	mso-bidi-font-size:11.0pt;
	font-family:"Times New Roman",serif;
	mso-font-kerning:22.0pt;
	mso-ansi-language:X-NONE;
	mso-fareast-language:X-NONE;
	font-weight:bold;
	mso-bidi-font-weight:normal;}
h2
	{mso-style-priority:9;
	mso-style-unhide:no;
	mso-style-qformat:yes;
	mso-style-link:"标题 2 Char";
	mso-style-next:正文;
	margin-top:13.0pt;
	margin-right:0cm;
	margin-bottom:13.0pt;
	margin-left:0cm;
	text-align:justify;
	text-justify:inter-ideograph;
	line-height:172%;
	mso-pagination:lines-together;
	page-break-after:avoid;
	mso-outline-level:2;
	font-size:16.0pt;
	mso-bidi-font-size:11.0pt;
	font-family:"Arial",sans-serif;
	mso-fareast-font-family:黑体;
	mso-bidi-font-family:"Times New Roman";
	mso-font-kerning:1.0pt;
	mso-ansi-language:X-NONE;
	mso-fareast-language:X-NONE;
	font-weight:bold;
	mso-bidi-font-weight:normal;}
h3
	{mso-style-priority:9;
	mso-style-unhide:no;
	mso-style-qformat:yes;
	mso-style-link:"标题 3 Char";
	mso-style-next:正文;
	margin-top:13.0pt;
	margin-right:0cm;
	margin-bottom:13.0pt;
	margin-left:0cm;
	text-align:justify;
	text-justify:inter-ideograph;
	line-height:172%;
	mso-pagination:lines-together;
	page-break-after:avoid;
	mso-outline-level:3;
	font-size:16.0pt;
	mso-bidi-font-size:11.0pt;
	font-family:"Times New Roman",serif;
	mso-font-kerning:1.0pt;
	mso-ansi-language:X-NONE;
	mso-fareast-language:X-NONE;
	font-weight:bold;
	mso-bidi-font-weight:normal;}
p.MsoHeader, li.MsoHeader, div.MsoHeader
	{mso-style-priority:99;
	mso-style-link:"页眉 Char";
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:center;
	mso-pagination:none;
	tab-stops:center 207.65pt right 415.3pt;
	layout-grid-mode:char;
	border:none;
	mso-border-bottom-alt:solid windowtext .75pt;
	padding:0cm;
	mso-padding-alt:0cm 0cm 1.0pt 0cm;
	font-size:9.0pt;
	font-family:"Times New Roman",serif;
	mso-fareast-font-family:宋体;
	mso-ansi-language:X-NONE;
	mso-fareast-language:X-NONE;}
p.MsoFooter, li.MsoFooter, div.MsoFooter
	{mso-style-priority:99;
	mso-style-link:"页脚 Char";
	margin:0cm;
	margin-bottom:.0001pt;
	mso-pagination:none;
	tab-stops:center 207.65pt right 415.3pt;
	layout-grid-mode:char;
	font-size:9.0pt;
	font-family:"Times New Roman",serif;
	mso-fareast-font-family:宋体;
	mso-ansi-language:X-NONE;
	mso-fareast-language:X-NONE;}
p.MsoDate, li.MsoDate, div.MsoDate
	{mso-style-noshow:yes;
	mso-style-priority:99;
	mso-style-link:"日期 Char";
	mso-style-next:正文;
	margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:5.0pt;
	margin-bottom:.0001pt;
	mso-para-margin-top:0cm;
	mso-para-margin-right:0cm;
	mso-para-margin-bottom:0cm;
	mso-para-margin-left:25.0gd;
	mso-para-margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	mso-pagination:none;
	font-size:10.5pt;
	mso-bidi-font-size:11.0pt;
	font-family:"Times New Roman",serif;
	mso-fareast-font-family:宋体;
	mso-font-kerning:1.0pt;
	mso-ansi-language:X-NONE;
	mso-fareast-language:X-NONE;}
a:link, span.MsoHyperlink
	{mso-style-priority:99;
	mso-style-parent:"";
	color:blue;
	text-decoration:underline;
	text-underline:single;}
a:visited, span.MsoHyperlinkFollowed
	{mso-style-priority:99;
	mso-style-parent:"";
	color:purple;
	text-decoration:underline;
	text-underline:single;}
p.MsoDocumentMap, li.MsoDocumentMap, div.MsoDocumentMap
	{mso-style-noshow:yes;
	mso-style-priority:99;
	mso-style-link:"文档结构图 Char";
	margin-top:0cm;
	margin-right:0cm;
	margin-bottom:10.0pt;
	margin-left:0cm;
	mso-pagination:widow-orphan;
	layout-grid-mode:char;
	mso-layout-grid-align:none;
	font-size:9.0pt;
	font-family:宋体;
	mso-hansi-font-family:Tahoma;
	mso-bidi-font-family:"Times New Roman";
	mso-ansi-language:X-NONE;
	mso-fareast-language:X-NONE;}
p
	{mso-style-priority:99;
	mso-margin-top-alt:auto;
	margin-right:0cm;
	mso-margin-bottom-alt:auto;
	margin-left:0cm;
	mso-pagination:none;
	font-size:12.0pt;
	mso-bidi-font-size:11.0pt;
	font-family:"Times New Roman",serif;
	mso-fareast-font-family:宋体;}
code
	{mso-style-noshow:yes;
	mso-style-priority:99;
	mso-style-parent:"";
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	font-family:宋体;
	mso-ascii-font-family:宋体;
	mso-fareast-font-family:宋体;
	mso-hansi-font-family:宋体;
	mso-bidi-font-family:宋体;}
pre
	{mso-style-priority:99;
	mso-style-link:"HTML 预设格式 Char";
	margin:0cm;
	margin-bottom:.0001pt;
	mso-pagination:none;
	tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
	font-size:12.0pt;
	font-family:宋体;
	mso-bidi-font-family:"Times New Roman";
	mso-ansi-language:X-NONE;
	mso-fareast-language:X-NONE;}
p.MsoAcetate, li.MsoAcetate, div.MsoAcetate
	{mso-style-priority:99;
	mso-style-link:"批注框文本 Char";
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	mso-pagination:none;
	font-size:9.0pt;
	font-family:"Times New Roman",serif;
	mso-fareast-font-family:宋体;
	mso-ansi-language:X-NONE;
	mso-fareast-language:X-NONE;}
p.MsoListParagraph, li.MsoListParagraph, div.MsoListParagraph
	{mso-style-priority:34;
	mso-style-unhide:no;
	mso-style-qformat:yes;
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	text-indent:21.0pt;
	mso-char-indent-count:2.0;
	mso-pagination:none;
	font-size:10.5pt;
	mso-bidi-font-size:11.0pt;
	font-family:"Times New Roman",serif;
	mso-fareast-font-family:宋体;
	mso-font-kerning:1.0pt;}
span.Char
	{mso-style-name:"页眉 Char";
	mso-style-priority:99;
	mso-style-unhide:no;
	mso-style-locked:yes;
	mso-style-parent:"";
	mso-style-link:页眉;
	mso-ansi-font-size:9.0pt;
	mso-bidi-font-size:9.0pt;}
span.Char0
	{mso-style-name:"批注框文本 Char";
	mso-style-noshow:yes;
	mso-style-priority:99;
	mso-style-unhide:no;
	mso-style-locked:yes;
	mso-style-parent:"";
	mso-style-link:批注框文本;
	mso-ansi-font-size:9.0pt;
	mso-bidi-font-size:9.0pt;}
span.Char1
	{mso-style-name:"页脚 Char";
	mso-style-priority:99;
	mso-style-unhide:no;
	mso-style-locked:yes;
	mso-style-parent:"";
	mso-style-link:页脚;
	mso-ansi-font-size:9.0pt;
	mso-bidi-font-size:9.0pt;}
span.apple-converted-space
	{mso-style-name:apple-converted-space;
	mso-style-unhide:no;}
span.HTMLChar
	{mso-style-name:"HTML 预设格式 Char";
	mso-style-priority:99;
	mso-style-unhide:no;
	mso-style-locked:yes;
	mso-style-parent:"";
	mso-style-link:"HTML 预设格式";
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	font-family:宋体;
	mso-ascii-font-family:宋体;
	mso-hansi-font-family:宋体;}
span.sc3
	{mso-style-name:sc3;
	mso-style-unhide:no;
	mso-style-parent:"";}
span.re1
	{mso-style-name:re1;
	mso-style-unhide:no;
	mso-style-parent:"";}
span.re0
	{mso-style-name:re0;
	mso-style-unhide:no;
	mso-style-parent:"";}
span.st0
	{mso-style-name:st0;
	mso-style-unhide:no;
	mso-style-parent:"";}
span.re2
	{mso-style-name:re2;
	mso-style-unhide:no;
	mso-style-parent:"";}
span.sc-1
	{mso-style-name:sc-1;
	mso-style-unhide:no;
	mso-style-parent:"";}
span.1Char
	{mso-style-name:"标题 1 Char";
	mso-style-priority:9;
	mso-style-unhide:no;
	mso-style-locked:yes;
	mso-style-parent:"";
	mso-style-link:"标题 1";
	mso-ansi-font-size:22.0pt;
	mso-bidi-font-size:11.0pt;
	mso-font-kerning:22.0pt;
	font-weight:bold;
	mso-bidi-font-weight:normal;}
span.Char2
	{mso-style-name:"文档结构图 Char";
	mso-style-noshow:yes;
	mso-style-priority:99;
	mso-style-unhide:no;
	mso-style-locked:yes;
	mso-style-parent:"";
	mso-style-link:文档结构图;
	mso-ansi-font-size:9.0pt;
	mso-bidi-font-size:9.0pt;
	font-family:宋体;
	mso-ascii-font-family:宋体;
	mso-hansi-font-family:Tahoma;}
span.2Char
	{mso-style-name:"标题 2 Char";
	mso-style-priority:9;
	mso-style-unhide:no;
	mso-style-locked:yes;
	mso-style-parent:"";
	mso-style-link:"标题 2";
	mso-ansi-font-size:16.0pt;
	mso-bidi-font-size:11.0pt;
	font-family:"Arial",sans-serif;
	mso-ascii-font-family:Arial;
	mso-fareast-font-family:黑体;
	mso-hansi-font-family:Arial;
	mso-font-kerning:1.0pt;
	font-weight:bold;
	mso-bidi-font-weight:normal;}
span.3Char
	{mso-style-name:"标题 3 Char";
	mso-style-priority:9;
	mso-style-unhide:no;
	mso-style-locked:yes;
	mso-style-parent:"";
	mso-style-link:"标题 3";
	mso-ansi-font-size:16.0pt;
	mso-bidi-font-size:11.0pt;
	mso-font-kerning:1.0pt;
	font-weight:bold;
	mso-bidi-font-weight:normal;}
span.ttag
	{mso-style-name:t_tag;
	mso-style-unhide:no;
	mso-style-parent:"";}
p.1, li.1, div.1
	{mso-style-name:列出段落1;
	mso-style-priority:34;
	mso-style-unhide:no;
	mso-style-qformat:yes;
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	text-indent:21.0pt;
	mso-char-indent-count:2.0;
	mso-pagination:none;
	font-size:10.5pt;
	mso-bidi-font-size:11.0pt;
	font-family:"Calibri",sans-serif;
	mso-fareast-font-family:宋体;
	mso-bidi-font-family:"Times New Roman";
	mso-font-kerning:1.0pt;}
span.cp
	{mso-style-name:cp;
	mso-style-unhide:no;
	mso-style-parent:"";}
span.n
	{mso-style-name:n;
	mso-style-unhide:no;
	mso-style-parent:"";}
span.o
	{mso-style-name:o;
	mso-style-unhide:no;
	mso-style-parent:"";}
span.p
	{mso-style-name:p;
	mso-style-unhide:no;
	mso-style-parent:"";}
span.Char3
	{mso-style-name:"日期 Char";
	mso-style-noshow:yes;
	mso-style-priority:99;
	mso-style-unhide:no;
	mso-style-locked:yes;
	mso-style-parent:"";
	mso-style-link:日期;
	mso-ansi-font-size:10.5pt;
	mso-bidi-font-size:11.0pt;
	mso-font-kerning:1.0pt;}
span.msoIns
	{mso-style-type:export-only;
	mso-style-name:"";
	text-decoration:underline;
	text-underline:single;
	color:teal;}
span.msoDel
	{mso-style-type:export-only;
	mso-style-name:"";
	text-decoration:line-through;
	color:red;}
.MsoChpDefault
	{mso-style-type:export-only;
	mso-default-props:yes;
	mso-fareast-font-family:宋体;}
 /* Page Definitions */
 @page
	{mso-footnote-separator:url("APP信息统计分析系统.fld/header.html") fs;
	mso-footnote-continuation-separator:url("APP信息统计分析系统.fld/header.html") fcs;
	mso-endnote-separator:url("APP信息统计分析系统.fld/header.html") es;
	mso-endnote-continuation-separator:url("APP信息统计分析系统.fld/header.html") ecs;}
@page WordSection1
	{size:595.3pt 841.9pt;
	margin:72.0pt 90.0pt 72.0pt 90.0pt;
	mso-header-margin:42.55pt;
	mso-footer-margin:49.6pt;
	mso-header:url("APP信息统计分析系统.fld/header.html") h1;
	mso-footer:url("APP信息统计分析系统.fld/header.html") f1;
	mso-paper-source:0;
	layout-grid:15.6pt;}
div.WordSection1
	{page:WordSection1;}
 /* List Definitions */
 @list l0
	{mso-list-id:104619080;
	mso-list-type:hybrid;
	mso-list-template-ids:-118294808 1763489688 67698713 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}
@list l0:level1
	{mso-level-start-at:7;
	mso-level-number-format:japanese-counting;
	mso-level-text:%1、;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	text-indent:-36.0pt;}
@list l0:level2
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%2\)";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:42.0pt;
	text-indent:-21.0pt;}
@list l0:level3
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:none;
	mso-level-number-position:right;
	margin-left:63.0pt;
	text-indent:-21.0pt;}
@list l0:level4
	{mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:84.0pt;
	text-indent:-21.0pt;}
@list l0:level5
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%5\)";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:105.0pt;
	text-indent:-21.0pt;}
@list l0:level6
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:none;
	mso-level-number-position:right;
	margin-left:126.0pt;
	text-indent:-21.0pt;}
@list l0:level7
	{mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:147.0pt;
	text-indent:-21.0pt;}
@list l0:level8
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%8\)";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:168.0pt;
	text-indent:-21.0pt;}
@list l0:level9
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:none;
	mso-level-number-position:right;
	margin-left:189.0pt;
	text-indent:-21.0pt;}
@list l1
	{mso-list-id:254100175;
	mso-list-type:hybrid;
	mso-list-template-ids:-598017306 1221880426 67698713 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}
@list l1:level1
	{mso-level-start-at:3;
	mso-level-text:%1）;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:18.0pt;
	text-indent:-18.0pt;}
@list l1:level2
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%2\)";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:42.0pt;
	text-indent:-21.0pt;}
@list l1:level3
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:none;
	mso-level-number-position:right;
	margin-left:63.0pt;
	text-indent:-21.0pt;}
@list l1:level4
	{mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:84.0pt;
	text-indent:-21.0pt;}
@list l1:level5
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%5\)";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:105.0pt;
	text-indent:-21.0pt;}
@list l1:level6
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:none;
	mso-level-number-position:right;
	margin-left:126.0pt;
	text-indent:-21.0pt;}
@list l1:level7
	{mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:147.0pt;
	text-indent:-21.0pt;}
@list l1:level8
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%8\)";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:168.0pt;
	text-indent:-21.0pt;}
@list l1:level9
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:none;
	mso-level-number-position:right;
	margin-left:189.0pt;
	text-indent:-21.0pt;}
@list l2
	{mso-list-id:307907140;
	mso-list-type:hybrid;
	mso-list-template-ids:887623778 -293203068 67698713 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}
@list l2:level1
	{mso-level-start-at:4;
	mso-level-text:%1）;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	text-indent:-36.0pt;}
@list l2:level2
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%2\)";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:42.0pt;
	text-indent:-21.0pt;}
@list l2:level3
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:none;
	mso-level-number-position:right;
	margin-left:63.0pt;
	text-indent:-21.0pt;}
@list l2:level4
	{mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:84.0pt;
	text-indent:-21.0pt;}
@list l2:level5
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%5\)";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:105.0pt;
	text-indent:-21.0pt;}
@list l2:level6
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:none;
	mso-level-number-position:right;
	margin-left:126.0pt;
	text-indent:-21.0pt;}
@list l2:level7
	{mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:147.0pt;
	text-indent:-21.0pt;}
@list l2:level8
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%8\)";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:168.0pt;
	text-indent:-21.0pt;}
@list l2:level9
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:none;
	mso-level-number-position:right;
	margin-left:189.0pt;
	text-indent:-21.0pt;}
@list l3
	{mso-list-id:345985681;
	mso-list-type:hybrid;
	mso-list-template-ids:24159666 1528465074 67698713 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}
@list l3:level1
	{mso-level-start-at:2;
	mso-level-text:%1）;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:18.0pt;
	text-indent:-18.0pt;}
@list l3:level2
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%2\)";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:42.0pt;
	text-indent:-21.0pt;}
@list l3:level3
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:none;
	mso-level-number-position:right;
	margin-left:63.0pt;
	text-indent:-21.0pt;}
@list l3:level4
	{mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:84.0pt;
	text-indent:-21.0pt;}
@list l3:level5
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%5\)";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:105.0pt;
	text-indent:-21.0pt;}
@list l3:level6
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:none;
	mso-level-number-position:right;
	margin-left:126.0pt;
	text-indent:-21.0pt;}
@list l3:level7
	{mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:147.0pt;
	text-indent:-21.0pt;}
@list l3:level8
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%8\)";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:168.0pt;
	text-indent:-21.0pt;}
@list l3:level9
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:none;
	mso-level-number-position:right;
	margin-left:189.0pt;
	text-indent:-21.0pt;}
@list l4
	{mso-list-id:393815499;
	mso-list-template-ids:918611410;}
@list l4:level1
	{mso-level-start-at:6;
	mso-level-text:%1;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:30.0pt;
	text-indent:-30.0pt;}
@list l4:level2
	{mso-level-start-at:3;
	mso-level-text:"%1\.%2";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:30.0pt;
	text-indent:-30.0pt;}
@list l4:level3
	{mso-level-text:"%1\.%2\.%3";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:36.0pt;
	text-indent:-36.0pt;}
@list l4:level4
	{mso-level-text:"%1\.%2\.%3\.%4";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:36.0pt;
	text-indent:-36.0pt;}
@list l4:level5
	{mso-level-text:"%1\.%2\.%3\.%4\.%5";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:54.0pt;
	text-indent:-54.0pt;}
@list l4:level6
	{mso-level-text:"%1\.%2\.%3\.%4\.%5\.%6";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:54.0pt;
	text-indent:-54.0pt;}
@list l4:level7
	{mso-level-text:"%1\.%2\.%3\.%4\.%5\.%6\.%7";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:54.0pt;
	text-indent:-54.0pt;}
@list l4:level8
	{mso-level-text:"%1\.%2\.%3\.%4\.%5\.%6\.%7\.%8";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:72.0pt;
	text-indent:-72.0pt;}
@list l4:level9
	{mso-level-text:"%1\.%2\.%3\.%4\.%5\.%6\.%7\.%8\.%9";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:72.0pt;
	text-indent:-72.0pt;}
@list l5
	{mso-list-id:484784876;
	mso-list-type:hybrid;
	mso-list-template-ids:-1927015580 629593342 67698713 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}
@list l5:level1
	{mso-level-start-at:9;
	mso-level-text:%1）;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	text-indent:-36.0pt;}
@list l5:level2
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%2\)";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:42.0pt;
	text-indent:-21.0pt;}
@list l5:level3
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:none;
	mso-level-number-position:right;
	margin-left:63.0pt;
	text-indent:-21.0pt;}
@list l5:level4
	{mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:84.0pt;
	text-indent:-21.0pt;}
@list l5:level5
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%5\)";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:105.0pt;
	text-indent:-21.0pt;}
@list l5:level6
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:none;
	mso-level-number-position:right;
	margin-left:126.0pt;
	text-indent:-21.0pt;}
@list l5:level7
	{mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:147.0pt;
	text-indent:-21.0pt;}
@list l5:level8
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%8\)";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:168.0pt;
	text-indent:-21.0pt;}
@list l5:level9
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:none;
	mso-level-number-position:right;
	margin-left:189.0pt;
	text-indent:-21.0pt;}
@list l6
	{mso-list-id:516163740;
	mso-list-template-ids:516163740;}
@list l6:level1
	{mso-level-text:%1、;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:39.0pt;
	text-indent:-18.0pt;}
@list l6:level2
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%2\)";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:63.0pt;
	text-indent:-21.0pt;}
@list l6:level3
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:none;
	mso-level-number-position:right;
	margin-left:84.0pt;
	text-indent:-21.0pt;}
@list l6:level4
	{mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:105.0pt;
	text-indent:-21.0pt;}
@list l6:level5
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%5\)";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:126.0pt;
	text-indent:-21.0pt;}
@list l6:level6
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:none;
	mso-level-number-position:right;
	margin-left:147.0pt;
	text-indent:-21.0pt;}
@list l6:level7
	{mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:168.0pt;
	text-indent:-21.0pt;}
@list l6:level8
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%8\)";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:189.0pt;
	text-indent:-21.0pt;}
@list l6:level9
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:none;
	mso-level-number-position:right;
	margin-left:210.0pt;
	text-indent:-21.0pt;}
@list l7
	{mso-list-id:558320582;
	mso-list-template-ids:558320582;}
@list l7:level1
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%1\)";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:42.0pt;
	text-indent:-21.0pt;}
@list l7:level2
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%2\)";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:63.0pt;
	text-indent:-21.0pt;}
@list l7:level3
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:none;
	mso-level-number-position:right;
	margin-left:84.0pt;
	text-indent:-21.0pt;}
@list l7:level4
	{mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:105.0pt;
	text-indent:-21.0pt;}
@list l7:level5
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%5\)";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:126.0pt;
	text-indent:-21.0pt;}
@list l7:level6
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:none;
	mso-level-number-position:right;
	margin-left:147.0pt;
	text-indent:-21.0pt;}
@list l7:level7
	{mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:168.0pt;
	text-indent:-21.0pt;}
@list l7:level8
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%8\)";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:189.0pt;
	text-indent:-21.0pt;}
@list l7:level9
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:none;
	mso-level-number-position:right;
	margin-left:210.0pt;
	text-indent:-21.0pt;}
@list l8
	{mso-list-id:758021068;
	mso-list-type:hybrid;
	mso-list-template-ids:-16993610 -1857018516 67698713 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}
@list l8:level1
	{mso-level-text:%1）;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:18.0pt;
	text-indent:-18.0pt;}
@list l8:level2
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%2\)";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:42.0pt;
	text-indent:-21.0pt;}
@list l8:level3
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:none;
	mso-level-number-position:right;
	margin-left:63.0pt;
	text-indent:-21.0pt;}
@list l8:level4
	{mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:84.0pt;
	text-indent:-21.0pt;}
@list l8:level5
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%5\)";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:105.0pt;
	text-indent:-21.0pt;}
@list l8:level6
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:none;
	mso-level-number-position:right;
	margin-left:126.0pt;
	text-indent:-21.0pt;}
@list l8:level7
	{mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:147.0pt;
	text-indent:-21.0pt;}
@list l8:level8
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%8\)";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:168.0pt;
	text-indent:-21.0pt;}
@list l8:level9
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:none;
	mso-level-number-position:right;
	margin-left:189.0pt;
	text-indent:-21.0pt;}
@list l9
	{mso-list-id:831026855;
	mso-list-template-ids:1211401682;}
@list l9:level1
	{mso-level-text:%1;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:20.25pt;
	text-indent:-20.25pt;}
@list l9:level2
	{mso-level-start-at:4;
	mso-level-text:"%1\.%2";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:36.0pt;
	text-indent:-36.0pt;}
@list l9:level3
	{mso-level-text:"%1\.%2\.%3";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:36.0pt;
	text-indent:-36.0pt;}
@list l9:level4
	{mso-level-text:"%1\.%2\.%3\.%4";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:54.0pt;
	text-indent:-54.0pt;}
@list l9:level5
	{mso-level-text:"%1\.%2\.%3\.%4\.%5";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:72.0pt;
	text-indent:-72.0pt;}
@list l9:level6
	{mso-level-text:"%1\.%2\.%3\.%4\.%5\.%6";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:72.0pt;
	text-indent:-72.0pt;}
@list l9:level7
	{mso-level-text:"%1\.%2\.%3\.%4\.%5\.%6\.%7";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:90.0pt;
	text-indent:-90.0pt;}
@list l9:level8
	{mso-level-text:"%1\.%2\.%3\.%4\.%5\.%6\.%7\.%8";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:90.0pt;
	text-indent:-90.0pt;}
@list l9:level9
	{mso-level-text:"%1\.%2\.%3\.%4\.%5\.%6\.%7\.%8\.%9";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:108.0pt;
	text-indent:-108.0pt;}
@list l10
	{mso-list-id:880629076;
	mso-list-template-ids:880629076;}
@list l10:level1
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%1\)";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:42.3pt;
	text-indent:-21.0pt;}
@list l10:level2
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%2\)";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:63.3pt;
	text-indent:-21.0pt;}
@list l10:level3
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:none;
	mso-level-number-position:right;
	margin-left:84.3pt;
	text-indent:-21.0pt;}
@list l10:level4
	{mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:105.3pt;
	text-indent:-21.0pt;}
@list l10:level5
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%5\)";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:126.3pt;
	text-indent:-21.0pt;}
@list l10:level6
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:none;
	mso-level-number-position:right;
	margin-left:147.3pt;
	text-indent:-21.0pt;}
@list l10:level7
	{mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:168.3pt;
	text-indent:-21.0pt;}
@list l10:level8
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%8\)";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:189.3pt;
	text-indent:-21.0pt;}
@list l10:level9
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:none;
	mso-level-number-position:right;
	margin-left:210.3pt;
	text-indent:-21.0pt;}
@list l11
	{mso-list-id:893350879;
	mso-list-template-ids:893350879;}
@list l11:level1
	{mso-level-text:%1、;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:60.0pt;
	text-indent:-18.0pt;}
@list l11:level2
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%2\)";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:84.0pt;
	text-indent:-21.0pt;}
@list l11:level3
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:none;
	mso-level-number-position:right;
	margin-left:105.0pt;
	text-indent:-21.0pt;}
@list l11:level4
	{mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:126.0pt;
	text-indent:-21.0pt;}
@list l11:level5
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%5\)";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:147.0pt;
	text-indent:-21.0pt;}
@list l11:level6
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:none;
	mso-level-number-position:right;
	margin-left:168.0pt;
	text-indent:-21.0pt;}
@list l11:level7
	{mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:189.0pt;
	text-indent:-21.0pt;}
@list l11:level8
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%8\)";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:210.0pt;
	text-indent:-21.0pt;}
@list l11:level9
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:none;
	mso-level-number-position:right;
	margin-left:231.0pt;
	text-indent:-21.0pt;}
@list l12
	{mso-list-id:1182622114;
	mso-list-type:hybrid;
	mso-list-template-ids:230833408 693125370 67698713 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}
@list l12:level1
	{mso-level-text:%1）;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:18.0pt;
	text-indent:-18.0pt;}
@list l12:level2
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%2\)";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:42.0pt;
	text-indent:-21.0pt;}
@list l12:level3
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:none;
	mso-level-number-position:right;
	margin-left:63.0pt;
	text-indent:-21.0pt;}
@list l12:level4
	{mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:84.0pt;
	text-indent:-21.0pt;}
@list l12:level5
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%5\)";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:105.0pt;
	text-indent:-21.0pt;}
@list l12:level6
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:none;
	mso-level-number-position:right;
	margin-left:126.0pt;
	text-indent:-21.0pt;}
@list l12:level7
	{mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:147.0pt;
	text-indent:-21.0pt;}
@list l12:level8
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%8\)";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:168.0pt;
	text-indent:-21.0pt;}
@list l12:level9
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:none;
	mso-level-number-position:right;
	margin-left:189.0pt;
	text-indent:-21.0pt;}
@list l13
	{mso-list-id:1390113685;
	mso-list-type:hybrid;
	mso-list-template-ids:912044596 1718543278 67698713 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}
@list l13:level1
	{mso-level-start-at:3;
	mso-level-text:%1）;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:18.0pt;
	text-indent:-18.0pt;}
@list l13:level2
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%2\)";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:42.0pt;
	text-indent:-21.0pt;}
@list l13:level3
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:none;
	mso-level-number-position:right;
	margin-left:63.0pt;
	text-indent:-21.0pt;}
@list l13:level4
	{mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:84.0pt;
	text-indent:-21.0pt;}
@list l13:level5
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%5\)";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:105.0pt;
	text-indent:-21.0pt;}
@list l13:level6
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:none;
	mso-level-number-position:right;
	margin-left:126.0pt;
	text-indent:-21.0pt;}
@list l13:level7
	{mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:147.0pt;
	text-indent:-21.0pt;}
@list l13:level8
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%8\)";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:168.0pt;
	text-indent:-21.0pt;}
@list l13:level9
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:none;
	mso-level-number-position:right;
	margin-left:189.0pt;
	text-indent:-21.0pt;}
@list l14
	{mso-list-id:1395927037;
	mso-list-type:hybrid;
	mso-list-template-ids:-1296667050 694201396 67698713 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}
@list l14:level1
	{mso-level-text:%1）;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:18.0pt;
	text-indent:-18.0pt;}
@list l14:level2
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%2\)";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:42.0pt;
	text-indent:-21.0pt;}
@list l14:level3
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:none;
	mso-level-number-position:right;
	margin-left:63.0pt;
	text-indent:-21.0pt;}
@list l14:level4
	{mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:84.0pt;
	text-indent:-21.0pt;}
@list l14:level5
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%5\)";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:105.0pt;
	text-indent:-21.0pt;}
@list l14:level6
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:none;
	mso-level-number-position:right;
	margin-left:126.0pt;
	text-indent:-21.0pt;}
@list l14:level7
	{mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:147.0pt;
	text-indent:-21.0pt;}
@list l14:level8
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%8\)";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:168.0pt;
	text-indent:-21.0pt;}
@list l14:level9
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:none;
	mso-level-number-position:right;
	margin-left:189.0pt;
	text-indent:-21.0pt;}
@list l15
	{mso-list-id:1432450322;
	mso-list-type:simple;
	mso-list-template-ids:1432450322;}
@list l15:level1
	{mso-level-number-format:alpha-upper;
	mso-level-suffix:none;
	mso-level-text:%1、;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:0cm;
	text-indent:0cm;}
@list l16
	{mso-list-id:1665279529;
	mso-list-type:hybrid;
	mso-list-template-ids:-522452286 1983824730 67698713 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}
@list l16:level1
	{mso-level-number-format:japanese-counting;
	mso-level-text:%1、;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:43.1pt;
	text-indent:-36.0pt;}
@list l16:level2
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%2\)";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:49.1pt;
	text-indent:-21.0pt;}
@list l16:level3
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:none;
	mso-level-number-position:right;
	margin-left:70.1pt;
	text-indent:-21.0pt;}
@list l16:level4
	{mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:91.1pt;
	text-indent:-21.0pt;}
@list l16:level5
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%5\)";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:112.1pt;
	text-indent:-21.0pt;}
@list l16:level6
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:none;
	mso-level-number-position:right;
	margin-left:133.1pt;
	text-indent:-21.0pt;}
@list l16:level7
	{mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:154.1pt;
	text-indent:-21.0pt;}
@list l16:level8
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%8\)";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:175.1pt;
	text-indent:-21.0pt;}
@list l16:level9
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:none;
	mso-level-number-position:right;
	margin-left:196.1pt;
	text-indent:-21.0pt;}
@list l17
	{mso-list-id:1942058848;
	mso-list-type:hybrid;
	mso-list-template-ids:1531622292 518915778 67698713 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}
@list l17:level1
	{mso-level-text:%1）;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:20.25pt;
	text-indent:-18.0pt;}
@list l17:level2
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%2\)";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:44.25pt;
	text-indent:-21.0pt;}
@list l17:level3
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:none;
	mso-level-number-position:right;
	margin-left:65.25pt;
	text-indent:-21.0pt;}
@list l17:level4
	{mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:86.25pt;
	text-indent:-21.0pt;}
@list l17:level5
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%5\)";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:107.25pt;
	text-indent:-21.0pt;}
@list l17:level6
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:none;
	mso-level-number-position:right;
	margin-left:128.25pt;
	text-indent:-21.0pt;}
@list l17:level7
	{mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:149.25pt;
	text-indent:-21.0pt;}
@list l17:level8
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%8\)";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:170.25pt;
	text-indent:-21.0pt;}
@list l17:level9
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:none;
	mso-level-number-position:right;
	margin-left:191.25pt;
	text-indent:-21.0pt;}
@list l18
	{mso-list-id:2146193303;
	mso-list-type:hybrid;
	mso-list-template-ids:-278084158 -719571756 67698713 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}
@list l18:level1
	{mso-level-start-at:3;
	mso-level-text:%1）;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:18.0pt;
	text-indent:-18.0pt;}
@list l18:level2
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%2\)";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:42.0pt;
	text-indent:-21.0pt;}
@list l18:level3
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:none;
	mso-level-number-position:right;
	margin-left:63.0pt;
	text-indent:-21.0pt;}
@list l18:level4
	{mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:84.0pt;
	text-indent:-21.0pt;}
@list l18:level5
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%5\)";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:105.0pt;
	text-indent:-21.0pt;}
@list l18:level6
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:none;
	mso-level-number-position:right;
	margin-left:126.0pt;
	text-indent:-21.0pt;}
@list l18:level7
	{mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:147.0pt;
	text-indent:-21.0pt;}
@list l18:level8
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%8\)";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:168.0pt;
	text-indent:-21.0pt;}
@list l18:level9
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:none;
	mso-level-number-position:right;
	margin-left:189.0pt;
	text-indent:-21.0pt;}
ol
	{margin-bottom:0cm;}
ul
	{margin-bottom:0cm;}
-->
</style>
<!--[if gte mso 10]>
<style>
 /* Style Definitions */
 table.MsoNormalTable
	{mso-style-name:普通表格;
	mso-tstyle-rowband-size:0;
	mso-tstyle-colband-size:0;
	mso-style-priority:99;
	mso-style-parent:"";
	mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
	mso-para-margin:0cm;
	mso-para-margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:10.0pt;
	font-family:"Times New Roman",serif;}
table.MsoTableGrid
	{mso-style-name:网格型;
	mso-tstyle-rowband-size:0;
	mso-tstyle-colband-size:0;
	mso-style-priority:39;
	mso-style-unhide:no;
	mso-style-qformat:yes;
	border:solid windowtext 1.0pt;
	mso-border-alt:solid windowtext .5pt;
	mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
	mso-border-insideh:.5pt solid windowtext;
	mso-border-insidev:.5pt solid windowtext;
	mso-para-margin:0cm;
	mso-para-margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	mso-pagination:none;
	font-size:10.0pt;
	font-family:"Times New Roman",serif;}
</style>
<![endif]--><!--[if gte mso 9]><xml>
 <o:shapedefaults v:ext="edit" spidmax="2050" fillcolor="white">
  <v:fill color="white"/>
 </o:shapedefaults></xml><![endif]--><!--[if gte mso 9]><xml>
 <o:shapelayout v:ext="edit">
  <o:idmap v:ext="edit" data="1"/>
 </o:shapelayout></xml><![endif]-->
</head>

<body lang=ZH-CN link=blue vlink=purple style='tab-interval:21.0pt;text-justify-trim:
punctuation'>

<div class=WordSection1 style='layout-grid:15.6pt'>

<p class=MsoNormal align=center style='text-align:center;mso-line-height-alt:
11.0pt'><span lang=EN-US style='font-size:22.0pt'>RT</span><span
style='font-size:22.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>手机</span><span lang=EN-US
style='font-size:22.0pt'>APP</span><span style='font-size:22.0pt;font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>信息统计分析系统</span><span
lang=EN-US style='font-size:22.0pt'><o:p></o:p></span></p>

<p class=MsoNormal align=center style='text-align:center;mso-line-height-alt:
11.0pt'><span lang=EN-US style='font-size:12.0pt'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal align=center style='text-align:center;mso-line-height-alt:
11.0pt'><span style='font-size:12.0pt;font-family:"微软雅黑",sans-serif;mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:微软雅黑;mso-font-kerning:0pt'>版本：<span
lang=EN-US>V1.0<o:p></o:p></span></span></p>

<h1 style='margin:0cm;margin-bottom:.0001pt'><span lang=X-NONE
style='font-size:15.0pt;line-height:240%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>一</span><span
lang=X-NONE style='font-size:15.0pt;line-height:240%'> </span><span
lang=X-NONE style='font-size:15.0pt;line-height:240%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>项目概述</span><span
lang=X-NONE style='font-size:15.0pt;line-height:240%'><o:p></o:p></span></h1>

<h2 style='margin:0cm;margin-bottom:.0001pt'><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'>1.1 </span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%;font-family:黑体;mso-ascii-font-family:
Arial;mso-hansi-font-family:Arial'>角色</span><span lang=X-NONE style='font-size:
14.0pt;line-height:172%'><o:p></o:p></span></h2>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>1</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）</span><span lang=EN-US>App</span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>开发商</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US><span
style='mso-tab-count:1'>       </span></span><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>每个开发商可以有多个</span><span
lang=EN-US>App</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>产品</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>2</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）</span><span lang=EN-US>App</span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>软件</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>3</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）数据服务平台提供商</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US><span
style='mso-tab-count:1'>       </span></span><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>友盟，向</span><span
lang=EN-US>App</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>开发商提供服务。提供</span><span lang=EN-US>App</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>使用情况的统计服务。</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US><span
style='mso-tab-count:1'>       </span></span><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>友盟官方网址：</span><span
lang=EN-US>https://www.umeng.com/</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>4</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）</span><span lang=EN-US>SDK</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US><span
style='mso-tab-count:1'>       </span></span><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>数据服务平台提供商提供给</span><span
lang=EN-US>App</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>开发商的软件包。</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US><span
style='mso-tab-count:1'>       </span></span><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>内置</span><span
lang=EN-US>log</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>上报程序。</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>5</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）用户</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US><span
style='mso-tab-count:1'>       </span></span><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>每个使用</span><span
lang=EN-US>App</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>的设备。</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>6</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）租户</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US><span
style='mso-tab-count:1'>       </span></span><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>购买了数据服务平台提供商服务的</span><span
lang=EN-US>App</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>开发商。</span></p>

<h2 style='margin:0cm;margin-bottom:.0001pt'><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'>1.2 </span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%;font-family:黑体;mso-ascii-font-family:
Arial;mso-hansi-font-family:Arial'>业务术语</span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'><o:p></o:p></span></h2>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>1</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）用户</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US><span
style='mso-tab-count:1'>       </span></span><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>用户以设备为判断标准，在移动统计中，每个独立设备认为是一个独立用户。</span><span
lang=EN-US>Android</span><span style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>系统根据</span><span
lang=EN-US>IMEI</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>号，</span><span lang=EN-US>IOS</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>系统根据</span><span lang=EN-US>OpenUDID</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>来标识一个独立用户，每部手机一个用户。</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>2</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）新增用户</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US><span
style='mso-tab-count:1'>       </span></span><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>首次联网使用应用的用户。如果一个用户首次打开某</span><span
lang=EN-US>app</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>，那这个用户定义为新增用户；卸载再安装的设备，不会被算作一次新增。日新增用户、周新增用户、月新增用户。</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>3</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）活跃用户</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US><span
style='mso-tab-count:1'>       </span></span><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>打开应用的用户即为活跃用户，不考虑用户的使用情况。每天一台设备打开多次会被计为一个活跃用户。</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>4</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）周（月）活跃用户</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US><span
style='mso-tab-count:1'>       </span></span><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>某个自然周（月）内启动过应用的用户，该周（月）内的多次启动只记一个活跃用户。</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>5</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）月活跃率</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US><span
style='mso-tab-count:1'>       </span></span><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>月活跃用户与截止到该月累计的用户总和之间的比例。</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>6</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）沉默用户</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US><span
style='mso-tab-count:1'>       </span></span><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>用户仅在安装当天（次日）启动一次，后续时间无再启动行为。该指标可以反映新增用户质量和用户与</span><span
lang=EN-US>APP</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>的匹配程度。</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>7</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）版本分布</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US><span
style='mso-tab-count:1'>       </span></span><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>不同版本的周内各天新增用户数，活跃用户数和启动次数。利于判断</span><span
lang=EN-US>App</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>各个版本之间的优劣和用户行为习惯。</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>8</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）本周回流用户</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US><span
style='mso-tab-count:1'>       </span></span><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>上周未启动过应用，本周启动了应用的用户。</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>9</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）连续</span><span lang=EN-US>n</span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>周活跃用户</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US><span
style='mso-tab-count:1'>       </span></span><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>连续</span><span
lang=EN-US>n</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>周，每周至少启动一次。</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>10</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）忠诚用户</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US><span
style='mso-tab-count:1'>       </span></span><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>连续活跃</span><span
lang=EN-US>5</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>周以上的用户</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>11</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）连续活跃用户</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US><span
style='mso-tab-count:1'>       </span></span><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>连续</span><span
lang=EN-US>2</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>周及以上活跃的用户</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>12</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）近期流失用户</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US><span
style='mso-tab-count:1'>       </span></span><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>连续</span><span
lang=EN-US>n(2&lt;= n &lt;= 4)</span><span style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>周没有启动应用的用户。（第</span><span
lang=EN-US>n+1</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>周没有启动过）</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>13</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）留存用户</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US><span
style='mso-tab-count:1'>       </span></span><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>某段时间内的新增用户，经过一段时间后，仍然使用应用的被认作是留存用户；这部分用户占当时新增用户的比例即是留存率。例如，</span><span
lang=EN-US>5</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>月份新增用户</span><span lang=EN-US>200</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>，这</span><span lang=EN-US>200</span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>人在</span><span
lang=EN-US>6</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>月份启动过应用的有</span><span lang=EN-US>100</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>人，</span><span lang=EN-US>7</span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>月份启动过应用的有</span><span
lang=EN-US>80</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>人，</span><span lang=EN-US>8</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>月份启动过应用的有</span><span lang=EN-US>50</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>人；则</span><span lang=EN-US>5</span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>月份新增用户一个月后的留存率是</span><span
lang=EN-US>50%</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>，二个月后的留存率是</span><span lang=EN-US>40%</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>，三个月后的留存率是</span><span lang=EN-US>25%.</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>14</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）用户新鲜度</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US><span
style='mso-tab-count:1'>       </span></span><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>每天启动应用的新老用户比例。</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>15</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）单次使用时长</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US><span
style='mso-tab-count:1'>       </span></span><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>每次启动使用的时间长度。</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>16</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）日使用时长</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US><span
style='mso-tab-count:1'>       </span></span><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>累计一天内的使用时间长度。</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>17</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）启动次数计算标准</span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
lang=EN-US>IOS</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>平台应用退到后台就算一次独立的启动；</span><span
lang=EN-US>Android</span><span style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>平台我们规定，两次启动之间的间隔小于</span><span
lang=EN-US>30</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>秒，被计算一次启动。用户在使用过程中，若因收发短信或接电话等退出应用</span><span
lang=EN-US>30</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>秒又再次返回应用中，那这两次行为应该是延续而非独立的，所以可以被算作一次使用行为，即一次启动。业内大多使用</span><span
lang=EN-US>30</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>秒这个标准，但用户还是可以自定义此时间间隔。</span></p>

<h2 style='margin:0cm;margin-bottom:.0001pt'><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'>1.3 </span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%;font-family:黑体;mso-ascii-font-family:
Arial;mso-hansi-font-family:Arial'>项目效果展示</span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'><o:p></o:p></span></h2>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>略</span></p>

<h1 style='margin:0cm;margin-bottom:.0001pt'><span lang=X-NONE
style='font-size:15.0pt;line-height:240%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>二</span><span
lang=X-NONE style='font-size:15.0pt;line-height:240%'> </span><span
lang=X-NONE style='font-size:15.0pt;line-height:240%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>项目需求</span><span
lang=X-NONE style='font-size:15.0pt;line-height:240%'><o:p></o:p></span></h1>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>1</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）实现收集手机</span><span lang=EN-US>APP</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>日志。</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>2</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）定期离线分析手机</span><span lang=EN-US>APP</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>新增用户、活跃用户、沉默用户、启动次数、版本分布、和留存用户等业务指标。</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>3</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）在数据展示服务上可以查询结果。</span></p>

<h1 style='margin:0cm;margin-bottom:.0001pt'><span lang=X-NONE
style='font-size:15.0pt;line-height:240%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>三</span><span
lang=X-NONE style='font-size:15.0pt;line-height:240%'> </span><span
lang=X-NONE style='font-size:15.0pt;line-height:240%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>项目概要</span><span
lang=X-NONE style='font-size:15.0pt;line-height:240%'><o:p></o:p></span></h1>

<h2 style='margin:0cm;margin-bottom:.0001pt'><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'>3.1 </span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%;font-family:黑体;mso-ascii-font-family:
Arial;mso-hansi-font-family:Arial'>项目技术架构</span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%;mso-fareast-language:ZH-CN'><o:p></o:p></span></h2>

<p class=MsoNormal><span lang=X-NONE style='mso-ansi-language:X-NONE;
mso-no-proof:yes'><!--[if gte vml 1]><v:shapetype id="_x0000_t75" coordsize="21600,21600"
 o:spt="75" o:preferrelative="t" path="m@4@5l@4@11@9@11@9@5xe" filled="f"
 stroked="f">
 <v:stroke joinstyle="miter"/>
 <v:formulas>
  <v:f eqn="if lineDrawn pixelLineWidth 0"/>
  <v:f eqn="sum @0 1 0"/>
  <v:f eqn="sum 0 0 @1"/>
  <v:f eqn="prod @2 1 2"/>
  <v:f eqn="prod @3 21600 pixelWidth"/>
  <v:f eqn="prod @3 21600 pixelHeight"/>
  <v:f eqn="sum @0 0 1"/>
  <v:f eqn="prod @6 1 2"/>
  <v:f eqn="prod @7 21600 pixelWidth"/>
  <v:f eqn="sum @8 21600 0"/>
  <v:f eqn="prod @7 21600 pixelHeight"/>
  <v:f eqn="sum @10 21600 0"/>
 </v:formulas>
 <v:path o:extrusionok="f" gradientshapeok="t" o:connecttype="rect"/>
 <o:lock v:ext="edit" aspectratio="t"/>
</v:shapetype><v:shape id="_x0000_i1078" type="#_x0000_t75" alt="" style='width:416pt;
 height:203pt;mso-width-percent:0;mso-height-percent:0;mso-width-percent:0;
 mso-height-percent:0'>
 <v:imagedata src="APP信息统计分析系统.fld/image001.png" o:title=""/>
</v:shape><![endif]--><![if !vml]><img width=416 height=203
src="APP信息统计分析系统.fld/image001.png" v:shapes="_x0000_i1078"><![endif]></span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>1</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）手机</span><span lang=EN-US>APP</span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>启动时，上报启动日志、错误日志、页面日志、事件日志、使用时长日志等信息到日志收集服务器。</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>2</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）日志收集服务器将收集到的日志信息发送给</span><span lang=EN-US>kafka</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>。</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>3</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）</span><span lang=EN-US>Flume</span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>分别消费</span><span
lang=EN-US>kafka</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>中的</span><span lang=EN-US>5</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>种主题信息，并把数据存储到</span><span lang=EN-US>HDFS</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>上。</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>4</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）通过</span><span lang=EN-US>crontab</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>任务调度定时把</span><span lang=EN-US>HDFS</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>中的信息拷贝到</span><span lang=EN-US>Hive</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>数据仓库中。</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>5</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）核心业务操作采用</span><span lang=EN-US>Hive</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>查询。</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>6</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）查询结果通过数据展示平台展示。</span></p>

<p class=MsoNormal><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<h2 style='margin:0cm;margin-bottom:.0001pt'><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'>3.2 </span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%;font-family:黑体;mso-ascii-font-family:
Arial;mso-hansi-font-family:Arial'>项目目录结构</span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'><o:p></o:p></span></h2>

<p class=MsoNormal><span lang=EN-US style='mso-no-proof:yes'><!--[if gte vml 1]><v:shape
 id="_x0000_i1077" type="#_x0000_t75" alt="" style='width:412pt;height:210pt;
 visibility:visible;mso-width-percent:0;mso-height-percent:0;
 mso-width-percent:0;mso-height-percent:0'>
 <v:imagedata src="APP信息统计分析系统.fld/image002.png" o:title=""/>
</v:shape><![endif]--><![if !vml]><img width=412 height=210
src="APP信息统计分析系统.fld/image002.png" v:shapes="_x0000_i1077"><![endif]><o:p></o:p></span></p>

<h2 style='margin:0cm;margin-bottom:.0001pt'><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'>3.3 </span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%;font-family:黑体;mso-ascii-font-family:
Arial;mso-hansi-font-family:Arial'>项目技术选型</span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'><o:p></o:p></span></h2>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US style='mso-no-proof:
yes'>1</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-no-proof:yes'>）</span><span
lang=EN-US>Kafka_2.11-0.11.0.0<span style='mso-no-proof:yes'><o:p></o:p></span></span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US style='mso-no-proof:
yes'>2</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-no-proof:yes'>）</span><span
lang=EN-US>Zookeeper3.4.10<span style='mso-no-proof:yes'><o:p></o:p></span></span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US style='mso-no-proof:
yes'>3</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-no-proof:yes'>）</span><span
lang=EN-US>Hadoop2.7.2<span style='mso-no-proof:yes'><o:p></o:p></span></span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US style='mso-no-proof:
yes'>4</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-no-proof:yes'>）</span><span
lang=EN-US style='mso-no-proof:yes'>Flume1.7.0<o:p></o:p></span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US style='mso-no-proof:
yes'>5</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-no-proof:yes'>）</span><span
lang=EN-US>Tomcat7.0.72</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>6</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）</span><span lang=EN-US>Mysql 5.6.24</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>7</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）</span><span lang=EN-US>SSM</span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>框架</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>8</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）</span><span lang=EN-US>echarts.js<span style='mso-no-proof:
yes'><o:p></o:p></span></span></p>

<h2 style='margin:0cm;margin-bottom:.0001pt'><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'>3.4 </span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%;font-family:黑体;mso-ascii-font-family:
Arial;mso-hansi-font-family:Arial'>项目整体集群规划</span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'><o:p></o:p></span></h2>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none;mso-border-alt:
 solid windowtext .5pt;mso-yfti-tbllook:1184;mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
 mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes'>
  <td width=182 valign=top style='width:136.6pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>Hadoop102</span><span style='font-family:
  宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>主机</span></p>
  </td>
  <td width=189 valign=top style='width:142.05pt;border:solid windowtext 1.0pt;
  border-left:none;mso-border-left-alt:solid windowtext .5pt;mso-border-alt:
  solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>Hadoop103</span><span style='font-family:
  宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>主机</span></p>
  </td>
  <td width=182 valign=top style='width:136.75pt;border:solid windowtext 1.0pt;
  border-left:none;mso-border-left-alt:solid windowtext .5pt;mso-border-alt:
  solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>Hadoop104</span><span style='font-family:
  宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>主机</span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1'>
  <td width=182 valign=top style='width:136.6pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>Zookeeper3.4.10</span></p>
  </td>
  <td width=189 valign=top style='width:142.05pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>Zookeeper3.4.10</span></p>
  </td>
  <td width=182 valign=top style='width:136.75pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>Zookeeper3.4.10</span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:2'>
  <td width=182 valign=top style='width:136.6pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>kafka_2.11-0.11.0.0</span></p>
  </td>
  <td width=189 valign=top style='width:142.05pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>kafka_2.11-0.11.0.0</span></p>
  </td>
  <td width=182 valign=top style='width:136.75pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>kafka_2.11-0.11.0.0</span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:3'>
  <td width=182 valign=top style='width:136.6pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>Flume1.7.0</span></p>
  </td>
  <td width=189 valign=top style='width:142.05pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=182 valign=top style='width:136.75pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US><o:p>&nbsp;</o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:4'>
  <td width=182 valign=top style='width:136.6pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>Hadoop2.7.2(namenode)</span></p>
  <p class=MsoNormal><span lang=EN-US>Hadoop(datanode)</span></p>
  </td>
  <td width=189 valign=top style='width:142.05pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>Hadoop2.7.2(datanode)</span></p>
  </td>
  <td width=182 valign=top style='width:136.75pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>Hadoop2.7.2(datanode)</span></p>
  <p class=MsoNormal><span lang=EN-US>Hadoop(secondarynamenode)</span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:5'>
  <td width=182 valign=top style='width:136.6pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>Hadoop(nodemanager)</span></p>
  </td>
  <td width=189 valign=top style='width:142.05pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>Hadoop(nodemanager)</span></p>
  <p class=MsoNormal><span lang=EN-US>Hadoop(resourcemanager)</span></p>
  </td>
  <td width=182 valign=top style='width:136.75pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>Hadoop(nodemanager)</span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:6'>
  <td width=182 valign=top style='width:136.6pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>Tomcat7.0.72</span></p>
  </td>
  <td width=189 valign=top style='width:142.05pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=182 valign=top style='width:136.75pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US><o:p>&nbsp;</o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:7'>
  <td width=182 valign=top style='width:136.6pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=189 valign=top style='width:142.05pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>Hive1.2.1</span></p>
  </td>
  <td width=182 valign=top style='width:136.75pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US><o:p>&nbsp;</o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:8;mso-yfti-lastrow:yes'>
  <td width=182 valign=top style='width:136.6pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>Mysql 5.6.24</span></p>
  </td>
  <td width=189 valign=top style='width:142.05pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=182 valign=top style='width:136.75pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US><o:p>&nbsp;</o:p></span></p>
  </td>
 </tr>
</table>

<h2 style='margin:0cm;margin-bottom:.0001pt'><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'>3.5 </span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%;font-family:黑体;mso-ascii-font-family:
Arial;mso-hansi-font-family:Arial'>创建项目工程</span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'><o:p></o:p></span></h2>

<p class=MsoNormal><span lang=EN-US style='mso-no-proof:yes'><!--[if gte vml 1]><v:shape
 id="_x0000_i1076" type="#_x0000_t75" alt="" style='width:384pt;height:91pt;
 visibility:visible;mso-width-percent:0;mso-height-percent:0;
 mso-width-percent:0;mso-height-percent:0'>
 <v:imagedata src="APP信息统计分析系统.fld/image003.png" o:title=""/>
</v:shape><![endif]--><![if !vml]><img width=384 height=91
src="APP信息统计分析系统.fld/image003.png" v:shapes="_x0000_i1076"><![endif]><o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-no-proof:yes'><!--[if gte vml 1]><v:shape
 id="_x0000_i1075" type="#_x0000_t75" alt="" style='width:416pt;height:306pt;
 visibility:visible;mso-width-percent:0;mso-height-percent:0;
 mso-width-percent:0;mso-height-percent:0'>
 <v:imagedata src="APP信息统计分析系统.fld/image004.png" o:title=""/>
</v:shape><![endif]--><![if !vml]><img width=416 height=306
src="APP信息统计分析系统.fld/image004.png" v:shapes="_x0000_i1075"><![endif]></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-no-proof:yes'><!--[if gte vml 1]><v:shape
 id="_x0000_i1074" type="#_x0000_t75" alt="" style='width:415pt;height:305pt;
 visibility:visible;mso-width-percent:0;mso-height-percent:0;
 mso-width-percent:0;mso-height-percent:0'>
 <v:imagedata src="APP信息统计分析系统.fld/image005.png" o:title=""/>
</v:shape><![endif]--><![if !vml]><img width=415 height=305
src="APP信息统计分析系统.fld/image005.png" v:shapes="_x0000_i1074"><![endif]><o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-no-proof:yes'><!--[if gte vml 1]><v:shape
 id="_x0000_i1073" type="#_x0000_t75" alt="" style='width:416pt;height:304pt;
 visibility:visible;mso-width-percent:0;mso-height-percent:0;
 mso-width-percent:0;mso-height-percent:0'>
 <v:imagedata src="APP信息统计分析系统.fld/image006.png" o:title=""/>
</v:shape><![endif]--><![if !vml]><img width=416 height=304
src="APP信息统计分析系统.fld/image006.png" v:shapes="_x0000_i1073"><![endif]></span></p>

<h1 style='margin:0cm;margin-bottom:.0001pt'><span lang=X-NONE
style='font-size:15.0pt;line-height:240%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>四</span><span
lang=X-NONE style='font-size:15.0pt;line-height:240%'> APP</span><span
lang=X-NONE style='font-size:15.0pt;line-height:240%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>数据生成模块</span><span
lang=X-NONE style='font-size:15.0pt;line-height:240%'><o:p></o:p></span></h1>

<h2 style='margin:0cm;margin-bottom:.0001pt'><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'>4.1 </span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%;font-family:黑体;mso-ascii-font-family:
Arial;mso-hansi-font-family:Arial'>创建公共模块工程</span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'><o:p></o:p></span></h2>

<h3 style='margin:0cm;margin-bottom:.0001pt'><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'>4.1.1 </span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>创建</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'>Java</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>工程，导入</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'>pom</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>文件</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'><o:p></o:p></span></h3>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>1</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）创建</span><span lang=EN-US>app_logs_common</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>工程，主要用于编写公共的</span><span lang=EN-US>javabean</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>和工具类。</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>2</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）添加</span><span lang=EN-US>maven</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US><span
style='mso-tab-count:1'>       </span></span><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>在</span><span
lang=EN-US>app_logs_common</span><span style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>模块上方右键，选择</span><span
lang=EN-US>Add Framework Support…-&gt;</span><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>勾选</span><span
lang=EN-US>maven</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>，然后点击</span><span lang=EN-US>OK</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>。</span></p>

<p class=MsoNormal><span lang=EN-US style='mso-no-proof:yes'><!--[if gte vml 1]><v:shape
 id="_x0000_i1072" type="#_x0000_t75" alt="" style='width:327pt;height:197pt;
 visibility:visible;mso-width-percent:0;mso-height-percent:0;
 mso-width-percent:0;mso-height-percent:0'>
 <v:imagedata src="APP信息统计分析系统.fld/image007.png" o:title=""/>
</v:shape><![endif]--><![if !vml]><img width=327 height=197
src="APP信息统计分析系统.fld/image007.png" v:shapes="_x0000_i1072"><![endif]><o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-no-proof:yes'><!--[if gte vml 1]><v:shape
 id="_x0000_i1071" type="#_x0000_t75" alt="" style='width:344pt;height:280pt;
 visibility:visible;mso-width-percent:0;mso-height-percent:0;
 mso-width-percent:0;mso-height-percent:0'>
 <v:imagedata src="APP信息统计分析系统.fld/image008.png" o:title=""/>
</v:shape><![endif]--><![if !vml]><img width=344 height=280
src="APP信息统计分析系统.fld/image008.png" v:shapes="_x0000_i1071"><![endif]><o:p></o:p></span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>3</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）导入</span><span lang=EN-US>pom</span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>文件，并刷新一下</span><span
lang=EN-US>maven</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none;mso-border-alt:
 solid windowtext .5pt;mso-yfti-tbllook:1184;mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
 mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=548 valign=top style='width:411.1pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><i><span lang=EN-US>&lt;?</span></i><b><span lang=EN-US>xml
  version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;</span></b><i><span
  lang=EN-US>?&gt;<br>
  </span></i><span lang=EN-US>&lt;<b>project
  xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;<br>
  <span style='mso-spacerun:yes'>        
  </span>xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;<br>
  <span style='mso-spacerun:yes'>        
  </span>xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0
  http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</b>&gt;<br>
  <span style='mso-spacerun:yes'>    </span>&lt;<b>modelVersion</b>&gt;4.0.0&lt;/<b>modelVersion</b>&gt;<br>
  <br>
  <span style='mso-spacerun:yes'> </span><span style='mso-spacerun:yes'>  
  </span>&lt;<b>groupId</b>&gt;com.atguigu&lt;/<b>groupId</b>&gt;<br>
  <span style='mso-spacerun:yes'>    </span>&lt;<b>artifactId</b>&gt;app_common&lt;/<b>artifactId</b>&gt;<br>
  <span style='mso-spacerun:yes'>    </span>&lt;<b>version</b>&gt;1.0-SNAPSHOT&lt;/<b>version</b>&gt;<br>
  <br>
  <span style='mso-spacerun:yes'>    </span>&lt;<b>dependencies</b>&gt;<br>
  <span style='mso-spacerun:yes'>        </span><i>&lt;!--</i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>地理信息工具类</span><span lang=EN-US>--&gt;<br>
  <span style='mso-spacerun:yes'>        </span></span></i><span lang=EN-US>&lt;<b>dependency</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>groupId</b>&gt;com.maxmind.db&lt;/<b>groupId</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>artifactId</b>&gt;maxmind-db&lt;/<b>artifactId</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>version</b>&gt;1.0.0&lt;/<b>version</b>&gt;<br>
  <span style='mso-spacerun:yes'>        </span>&lt;/<b>dependency</b>&gt;<br>
  <br>
  <span style='mso-spacerun:yes'>        </span><i>&lt;!--</i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>地理信息工具类，类加载</span><span lang=EN-US>--&gt;<br>
  <span style='mso-spacerun:yes'>        </span></span></i><span lang=EN-US>&lt;<b>dependency</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>groupId</b>&gt;org.springframework&lt;/<b>groupId</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>artifactId</b>&gt;spring-core&lt;/<b>artifactId</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>version</b>&gt;4.3.4.RELEASE&lt;/<b>version</b>&gt;<br>
  <span style='mso-spacerun:yes'>        </span>&lt;/<b>dependency</b>&gt;<br>
  <span style='mso-spacerun:yes'>    </span>&lt;/<b>dependencies</b>&gt;<br>
  &lt;/<b>project</b>&gt;</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=EN-US style='mso-no-proof:yes'><o:p>&nbsp;</o:p></span></p>

<h3 style='margin:0cm;margin-bottom:.0001pt'><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'>4.1.2 </span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>创建</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'>AppBaseLog</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>基类</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'><o:p></o:p></span></h3>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>1</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）创建</span><span lang=EN-US>package</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>：</span><span lang=EN-US>com.atguigu.app.common</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US style='mso-no-proof:
yes'><!--[if gte vml 1]><v:shape id="_x0000_i1070" type="#_x0000_t75" alt=""
 style='width:415pt;height:123pt;visibility:visible;mso-width-percent:0;
 mso-height-percent:0;mso-width-percent:0;mso-height-percent:0'>
 <v:imagedata src="APP信息统计分析系统.fld/image009.png" o:title=""/>
</v:shape><![endif]--><![if !vml]><img width=415 height=123
src="APP信息统计分析系统.fld/image009.png" v:shapes="_x0000_i1070"><![endif]></span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>2</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）编写具体的类</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none;mso-border-alt:
 solid windowtext .5pt;mso-yfti-tbllook:1184;mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
 mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=548 valign=top style='width:411.1pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><b><span lang=EN-US>package </span></b><span lang=EN-US>com.atguigu.app.common;<br>
  <b>import </b>java.io.Serializable;<br>
  <i>/**<br>
  <span style='mso-spacerun:yes'> </span>* AppBaseLog<br>
  <span style='mso-spacerun:yes'> </span>*/<br>
  </i><b>public class </b>AppBaseLog <b>implements </b>Serializable {<br>
  <span style='mso-spacerun:yes'>    </span><b>private </b>Long <b>createdAtMs</b>;<span
  style='mso-spacerun:yes'>           </span><i>//</i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>日志创建时间</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>    </span></span></i><b><span lang=EN-US>private
  </span></b><span lang=EN-US>String <b>appId</b>;<span
  style='mso-spacerun:yes'>               </span><i>//</i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>应用唯一标识</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>    </span></span></i><b><span lang=EN-US>private
  </span></b><span lang=EN-US>String <b>tenantId</b>;<span
  style='mso-spacerun:yes'>        </span><span
  style='mso-spacerun:yes'>    </span><i>//</i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>租户唯一标识</span><span lang=EN-US>,</span></i><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>企业用户</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>    </span></span></i><b><span lang=EN-US>private
  </span></b><span lang=EN-US>String <b>deviceId</b>;<span
  style='mso-spacerun:yes'>            </span><i>//</i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>设备唯一标识</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>    </span></span></i><b><span lang=EN-US>private
  </span></b><span lang=EN-US>String <b>appVersion</b>;<span
  style='mso-spacerun:yes'>          </span><i>//</i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>版本</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>    </span></span></i><b><span lang=EN-US>private
  </span></b><span lang=EN-US>String <b>appChannel</b>;<span
  style='mso-spacerun:yes'>          </span><i>//</i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>渠道</span><span lang=EN-US>,</span></i><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>安装时就在清单中制定了，</span><span lang=EN-US>appStore</span></i><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>等。</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>    </span></span></i><b><span lang=EN-US>private
  </span></b><span lang=EN-US>String <b>appPlatform</b>;<span
  style='mso-spacerun:yes'>         </span><i>//</i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>平台</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>    </span></span></i><b><span lang=EN-US>private
  </span></b><span lang=EN-US>String <b>osType</b>;<span
  style='mso-spacerun:yes'>     </span><span
  style='mso-spacerun:yes'>         </span><i>//</i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>操作系统</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>    </span></span></i><b><span lang=EN-US>private
  </span></b><span lang=EN-US>String <b>deviceStyle</b>;<span
  style='mso-spacerun:yes'>         </span><i>//</i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>机型</span><span lang=EN-US><br>
  <br>
  <span style='mso-spacerun:yes'>    </span></span></i><b><span lang=EN-US>public
  </span></b><span lang=EN-US>Long getCreatedAtMs() {<br>
  <span style='mso-spacerun:yes'>        </span><b>return createdAtMs</b>;<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><b>public void </b>setCreatedAtMs(Long
  createdAtMs) {<br>
  <span style='mso-spacerun:yes'>        </span><b>this</b>.<b>createdAtMs </b>=
  createdAtMs;<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><b>public </b>String getAppId() {<br>
  <span style='mso-spacerun:yes'>        </span><b>return appId</b>;<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><b>public void </b>setAppId(String
  appId) {<br>
  <span style='mso-spacerun:yes'>        </span><b>this</b>.<b>appId </b>=
  appId;<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><b>public </b>String getTenantId()
  {<br>
  <span style='mso-spacerun:yes'>        </span><b>return tenantId</b>;<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><b>public void </b>setTenantId(String
  tenantId) {<br>
  <span style='mso-spacerun:yes'>        </span><b>this</b>.<b>tenantId </b>=
  tenantId;<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><b>public </b>String getDeviceId()
  {<br>
  <span style='mso-spacerun:yes'>        </span><b>return deviceId</b>;<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><b>public void </b>setDeviceId(String
  deviceId) {<br>
  <span style='mso-spacerun:yes'>        </span><b>this</b>.<b>deviceId </b>=
  deviceId;<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><b>public </b>String
  getAppVersion() {<br>
  <span style='mso-spacerun:yes'>        </span><b>return appVersion</b>;<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><b>public void </b>setAppVersion(String
  appVersion) {<br>
  <span style='mso-spacerun:yes'>        </span><b>this</b>.<b>appVersion </b>=
  appVersion;<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><b>public </b>String
  getAppChannel() {<br>
  <span style='mso-spacerun:yes'>        </span><b>return appChannel</b>;<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><b>public void </b>setAppChannel(String
  appChannel) {<br>
  <span style='mso-spacerun:yes'>        </span><b>this</b>.<b>appChannel </b>=
  appChannel;<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><b>public </b>String getAppPlatform()
  {<br>
  <span style='mso-spacerun:yes'>        </span><b>return appPlatform</b>;<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><b>public void </b>setAppPlatform(String
  appPlatform) {<br>
  <span style='mso-spacerun:yes'>        </span><b>this</b>.<b>appPlatform </b>=
  appPlatform;<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><b>public </b>String getOsType() {<br>
  <span style='mso-spacerun:yes'>        </span><b>return osType</b>;<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><b>public void </b>setOsType(String
  osType) {<br>
  <span style='mso-spacerun:yes'>        </span><b>this</b>.<b>osType </b>=
  osType;<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><b>public </b>String
  getDeviceStyle() {<br>
  <span style='mso-spacerun:yes'>        </span><b>return deviceStyle</b>;<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><b>public void </b>setDeviceStyle(String
  deviceStyle) {<br>
  <span style='mso-spacerun:yes'>        </span><b>this</b>.<b>deviceStyle </b>=
  deviceStyle;<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  }</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<h3 style='margin:0cm;margin-bottom:.0001pt'><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'>4.1.3 </span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>创建</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'>AppErrorLog</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>错误日志类</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'><o:p></o:p></span></h3>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none;mso-border-alt:
 solid windowtext .5pt;mso-yfti-tbllook:1184;mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
 mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=548 valign=top style='width:411.1pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><b><span lang=EN-US>package </span></b><span lang=EN-US>com.atguigu.app.common;<br>
  <i>/**<br>
  <span style='mso-spacerun:yes'> </span>* </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>应用上报的</span><span lang=EN-US>app</span></i><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>错误日志相关信息</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'> </span>*/<br>
  </span></i><b><span lang=EN-US>public class </span></b><span lang=EN-US>AppErrorLog
  <b>extends </b>AppBaseLog {<br>
  <br>
  <span style='mso-spacerun:yes'>   </span><b>private </b>String <b>errorBrief</b>;<span
  style='mso-spacerun:yes'>    </span><i>//</i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>错误摘要</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>   </span></span></i><b><span lang=EN-US>private
  </span></b><span lang=EN-US>String <b>errorDetail</b>;<span
  style='mso-spacerun:yes'>       </span><i>//</i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>错误详情</span><span lang=EN-US><br>
  <br>
  <span style='mso-spacerun:yes'>   </span></span></i><b><span lang=EN-US>public
  </span></b><span lang=EN-US>String getErrorBrief() {<br>
  <span style='mso-spacerun:yes'>      </span><b>return errorBrief</b>;<br>
  <span style='mso-spacerun:yes'>   </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>   </span><b>public void </b>setErrorBrief(String
  errorBrief) {<br>
  <span style='mso-spacerun:yes'>      </span><b>this</b>.<b>errorBrief </b>=
  errorBrief;<br>
  <span style='mso-spacerun:yes'>   </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>   </span><b>public </b>String
  getErrorDetail() {<br>
  <span style='mso-spacerun:yes'>      </span><b>return errorDetail</b>;<br>
  <span style='mso-spacerun:yes'>   </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>   </span><b>public void </b>setErrorDetail(String
  errorDetail) {<br>
  <span style='mso-spacerun:yes'>      </span><b>this</b>.<b>errorDetail </b>=
  errorDetail;<br>
  <span style='mso-spacerun:yes'>   </span>}<br>
  }</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<h3 style='margin:0cm;margin-bottom:.0001pt'><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'>4.1.4 </span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>创建</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'>AppEventLog</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>事件日志类</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'><o:p></o:p></span></h3>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none;mso-border-alt:
 solid windowtext .5pt;mso-yfti-tbllook:1184;mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
 mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=548 valign=top style='width:411.1pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><b><span lang=EN-US>package </span></b><span lang=EN-US>com.atguigu.app.common;<br>
  <b>import </b>java.util.Map;<br>
  <i>/**<br>
  <span style='mso-spacerun:yes'> </span>* </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>应用上报的事件相关信息</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'> </span>*/<br>
  </span></i><b><span lang=EN-US>public class </span></b><span lang=EN-US>AppEventLog
  <b>extends </b>AppBaseLog {<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><b>private </b>String <b>eventId</b>;<span
  style='mso-spacerun:yes'>                         </span><i>//</i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>事件唯一标识</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>    </span></span></i><b><span lang=EN-US>private
  </span></b><span lang=EN-US>Long <b>eventDurationSecs</b>;<span
  style='mso-spacerun:yes'>                 </span><i>//</i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>事件持续时长</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>    </span></span></i><b><span lang=EN-US>private
  </span></b><span lang=EN-US>Map&lt;String,String&gt; <b>paramKeyValueMap</b>;<span
  style='mso-spacerun:yes'>    </span><i>//</i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>参数名</span><span lang=EN-US>/</span></i><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>值对</span><span lang=EN-US><br>
  <br>
  <span style='mso-spacerun:yes'>    </span></span></i><b><span lang=EN-US>public
  </span></b><span lang=EN-US>String getEventId() {<br>
  <span style='mso-spacerun:yes'>        </span><b>return eventId</b>;<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><b>public void </b>setEventId(String
  eventId) {<br>
  <span style='mso-spacerun:yes'>        </span><b>this</b>.<b>eventId </b>=
  eventId;<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><b>public </b>Long
  getEventDurationSecs() {<br>
  <span style='mso-spacerun:yes'> </span><span style='mso-spacerun:yes'>      
  </span><b>return eventDurationSecs</b>;<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><b>public void </b>setEventDurationSecs(Long
  eventDurationSecs) {<br>
  <span style='mso-spacerun:yes'>        </span><b>this</b>.<b>eventDurationSecs
  </b>= eventDurationSecs;<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><b>public </b>Map&lt;String,
  String&gt; getParamKeyValueMap() {<br>
  <span style='mso-spacerun:yes'>        </span><b>return paramKeyValueMap</b>;<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><b>public void </b>setParamKeyValueMap(Map&lt;String,
  String&gt; paramKeyValueMap) {<br>
  <span style='mso-spacerun:yes'>        </span><b>this</b>.<b>paramKeyValueMap
  </b>= paramKeyValueMap;<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  }</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<h3 style='margin:0cm;margin-bottom:.0001pt'><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'>4.1.5 </span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>创建</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'>AppPageLog</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>页面日志类</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'><o:p></o:p></span></h3>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none;mso-border-alt:
 solid windowtext .5pt;mso-yfti-tbllook:1184;mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
 mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=548 valign=top style='width:411.1pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><b><span lang=EN-US>package </span></b><span lang=EN-US>com.atguigu.app.common;<br>
  <i>/**<br>
  <span style='mso-spacerun:yes'> </span>* </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>应用上报的页面相关信息</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'> </span>*/<br>
  </span></i><b><span lang=EN-US>public class </span></b><span lang=EN-US>AppPageLog
  <b>extends </b>AppBaseLog {<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><b>private </b>String <b>pageId</b>;<span
  style='mso-spacerun:yes'>                  </span><i>//</i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>页面</span><span lang=EN-US>id<br>
  <span style='mso-spacerun:yes'>    </span></span></i><b><span lang=EN-US>private
  int visitIndex </span></b><span lang=EN-US>= 0;<span
  style='mso-spacerun:yes'>                </span><i>//</i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>访问顺序号，</span><span lang=EN-US>0</span></i><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>为第一个页面</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>    </span></span></i><b><span lang=EN-US>private
  </span></b><span lang=EN-US>String <b>nextPage</b>;<span
  style='mso-spacerun:yes'>       </span><i>//</i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>下一个访问页面，如为空则表示为退出应用的页面</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>    </span></span></i><b><span lang=EN-US>private
  </span></b><span lang=EN-US>Long <b>stayDurationSecs </b>= (<b>long</b>)
  0;<span style='mso-spacerun:yes'>      </span><i>//</i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>当前页面停留时长</span><span lang=EN-US><br>
  <br>
  <span style='mso-spacerun:yes'>    </span></span></i><b><span lang=EN-US>public
  </span></b><span lang=EN-US>String getPageId() {<br>
  <span style='mso-spacerun:yes'>        </span><b>return pageId</b>;<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><b>public void </b>setPageId(String
  pageId) {<br>
  <span style='mso-spacerun:yes'>        </span><b>this</b>.<b>pageId </b>=
  pageId;<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><b>public int </b>getVisitIndex() {<br>
  <span style='mso-spacerun:yes'>        </span><b>return visitIndex</b>;<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><b>public void </b>setVisitIndex(<b>int
  </b>visitIndex) {<br>
  <span style='mso-spacerun:yes'>        </span><b>this</b>.<b>visitIndex </b>=
  visitIndex;<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><b>public </b>String getNextPage()
  {<br>
  <span style='mso-spacerun:yes'>        </span><b>return nextPage</b>;<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><b>public void </b>setNextPage(String
  nextPage) {<br>
  <span style='mso-spacerun:yes'>        </span><b>this</b>.<b>nextPage </b>=
  nextPage;<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><b>public </b>Long
  getStayDurationSecs() {<br>
  <span style='mso-spacerun:yes'>        </span><b>return stayDurationSecs</b>;<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><b>public void </b>setStayDurationSecs(Long
  stayDurationSecs) {<br>
  <span style='mso-spacerun:yes'>        </span><b>this</b>.<b>stayDurationSecs
  </b>= stayDurationSecs;<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  }</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<h3 style='margin:0cm;margin-bottom:.0001pt'><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'>4.1.6 </span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>创建</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'>AppStartupLog</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>启动日志类</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'><o:p></o:p></span></h3>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none;mso-border-alt:
 solid windowtext .5pt;mso-yfti-tbllook:1184;mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
 mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=548 valign=top style='width:411.1pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><b><span lang=EN-US>package </span></b><span lang=EN-US>com.atguigu.app.common;<br>
  <i>/**<br>
  <span style='mso-spacerun:yes'> </span>* </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>启动日志</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'> </span>*/<br>
  </span></i><b><span lang=EN-US>public class </span></b><span lang=EN-US>AppStartupLog
  <b>extends </b>AppBaseLog {<br>
  <span style='mso-spacerun:yes'>    </span><b>private </b>String <b>country</b>;<span
  style='mso-spacerun:yes'>          </span><i>//</i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>国家，终端不用上报，服务器自动填充该属性</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>    </span></span></i><b><span lang=EN-US>private
  </span></b><span lang=EN-US>String <b>province</b>;<span
  style='mso-spacerun:yes'>         </span><i>//</i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>省份，终端不用上报，服务器自动填充该属性</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>    </span></span></i><b><span lang=EN-US>private
  </span></b><span lang=EN-US>String <b>ipAddress</b>;<span
  style='mso-spacerun:yes'>        </span><i>//ip</i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>地址</span><span lang=EN-US><br>
  <br>
  <span style='mso-spacerun:yes'>    </span></span></i><b><span lang=EN-US>private
  </span></b><span lang=EN-US>String <b>network</b>;<span
  style='mso-spacerun:yes'>          </span><i>//</i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>网络</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>    </span></span></i><b><span lang=EN-US>private
  </span></b><span lang=EN-US>String <b>carrier</b>;<span
  style='mso-spacerun:yes'>          </span><i>//</i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>运营商</span><span lang=EN-US><br>
  <br>
  <span style='mso-spacerun:yes'>    </span></span></i><b><span lang=EN-US>private
  </span></b><span lang=EN-US>String <b>brand</b>;<span
  style='mso-spacerun:yes'>            </span><i>//</i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>品牌</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>    </span></span></i><b><span lang=EN-US>private
  </span></b><span lang=EN-US>String <b>screenSize</b>;<span
  style='mso-spacerun:yes'>       </span><i>//</i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>分辨率</span><span lang=EN-US><br>
  <br>
  <span style='mso-spacerun:yes'>    </span></span></i><b><span lang=EN-US>public
  </span></b><span lang=EN-US>String getCountry() {<br>
  <span style='mso-spacerun:yes'>        </span><b>return country</b>;<br>
  <span style='mso-spacerun:yes'> </span><span style='mso-spacerun:yes'>  
  </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><b>public void </b>setCountry(String
  country) {<br>
  <span style='mso-spacerun:yes'>        </span><b>this</b>.<b>country </b>=
  country;<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><b>public </b>String getProvince()
  {<br>
  <span style='mso-spacerun:yes'>        </span><b>return province</b>;<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><b>public void </b>setProvince(String
  province) {<br>
  <span style='mso-spacerun:yes'>        </span><b>this</b>.<b>province </b>=
  province;<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><b>public </b>String getIpAddress()
  {<br>
  <span style='mso-spacerun:yes'>        </span><b>return ipAddress</b>;<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><b>public void </b>setIpAddress(String
  ipAddress) {<br>
  <span style='mso-spacerun:yes'>        </span><b>this</b>.<b>ipAddress </b>=
  ipAddress;<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><b>public </b>String getNetwork() {<br>
  <span style='mso-spacerun:yes'>        </span><b>return network</b>;<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><b>public void </b>setNetwork(String
  network) {<br>
  <span style='mso-spacerun:yes'>        </span><b>this</b>.<b>network </b>=
  network;<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><b>public </b>String getCarrier() {<br>
  <span style='mso-spacerun:yes'>        </span><b>return carrier</b>;<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><b>public void </b>setCarrier(String
  carrier) {<br>
  <span style='mso-spacerun:yes'>        </span><b>this</b>.<b>carrier </b>=
  carrier;<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><b>public </b>String getBrand() {<br>
  <span style='mso-spacerun:yes'>        </span><b>return brand</b>;<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><b>public void </b>setBrand(String
  brand) {<br>
  <span style='mso-spacerun:yes'>        </span><b>this</b>.<b>brand </b>=
  brand;<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><b>public </b>String
  getScreenSize() {<br>
  <span style='mso-spacerun:yes'>        </span><b>return screenSize</b>;<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><b>public void </b>setScreenSize(String
  screenSize) {<br>
  <span style='mso-spacerun:yes'>        </span><b>this</b>.<b>screenSize </b>=
  screenSize;<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  }</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<h3 style='margin:0cm;margin-bottom:.0001pt'><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'>4.1.7 </span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>创建</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'>AppUsageLog</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>使用时长日志类</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'><o:p></o:p></span></h3>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none;mso-border-alt:
 solid windowtext .5pt;mso-yfti-tbllook:1184;mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
 mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=548 valign=top style='width:411.1pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><b><span lang=EN-US>package </span></b><span lang=EN-US>com.atguigu.app.common;<br>
  <i>/**<br>
  <span style='mso-spacerun:yes'> </span>* </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>应用上报的使用时长相关信息</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'> </span>*/<br>
  </span></i><b><span lang=EN-US>public class </span></b><span lang=EN-US>AppUsageLog
  <b>extends </b>AppBaseLog {<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><b>private </b>Long <b>singleUseDurationSecs</b>;<span
  style='mso-spacerun:yes'>       </span><i>//</i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>单次使用时长</span><span lang=EN-US>(</span></i><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>秒数</span><span lang=EN-US>),</span></i><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>指一次启动内应用在前台的持续时长</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>    </span></span></i><b><span lang=EN-US>private
  </span></b><span lang=EN-US>Long <b>singleUploadTraffic</b>;<span
  style='mso-spacerun:yes'>         </span><i>//</i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>单次使用过程中的上传流量</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>    </span></span></i><b><span lang=EN-US>private
  </span></b><span lang=EN-US>Long <b>singleDownloadTraffic</b>;<span
  style='mso-spacerun:yes'>       </span><i>//</i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>单次使用过程中的下载流量</span><span lang=EN-US><br>
  <br>
  <span style='mso-spacerun:yes'>    </span></span></i><b><span lang=EN-US>public
  </span></b><span lang=EN-US>Long getSingleUseDurationSecs() {<br>
  <span style='mso-spacerun:yes'>        </span><b>return singleUseDurationSecs</b>;<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><b>public void </b>setSingleUseDurationSecs(Long
  singleUseDurationSecs) {<br>
  <span style='mso-spacerun:yes'>        </span><b>this</b>.<b>singleUseDurationSecs
  </b>= singleUseDurationSecs;<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><b>public </b>Long
  getSingleUploadTraffic() {<br>
  <span style='mso-spacerun:yes'>        </span><b>return singleUploadTraffic</b>;<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><b>public void </b>setSingleUploadTraffic(Long
  singleUploadTraffic) {<br>
  <span style='mso-spacerun:yes'>        </span><b>this</b>.<b>singleUploadTraffic
  </b>= singleUploadTraffic;<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><b>public </b>Long
  getSingleDownloadTraffic() {<br>
  <span style='mso-spacerun:yes'>        </span><b>return singleDownloadTraffic</b>;<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><b>public void </b>setSingleDownloadTraffic(Long
  singleDownloadTraffic) {<br>
  <span style='mso-spacerun:yes'>        </span><b>this</b>.<b>singleDownloadTraffic
  </b>= singleDownloadTraffic;<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  }</span></p>
  </td>
 </tr>
</table>

<h3 style='margin:0cm;margin-bottom:.0001pt'><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'>4.1.8 </span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>创建</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'>AppLogEntity</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>地理信息类</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'><o:p></o:p></span></h3>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none;mso-border-alt:
 solid windowtext .5pt;mso-yfti-tbllook:1184;mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
 mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=548 valign=top style='width:411.1pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><b><span lang=EN-US>package </span></b><span lang=EN-US>com.atguigu.app.common;<br>
  <i>/**<br>
  <span style='mso-spacerun:yes'> </span>* AppLog</i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>实体类</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'> </span>* </span></i><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>内部含有各种日志时间的集合。</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'> </span>*/<br>
  </span></i><b><span lang=EN-US>public class </span></b><span lang=EN-US>AppLogEntity
  <b>extends </b>AppBaseLog{<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><b>private </b>AppStartupLog[] <b>appStartupLogs</b>;<span
  style='mso-spacerun:yes'>      </span><i>//</i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>启动相关信息的数组</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>    </span></span></i><b><span lang=EN-US>private
  </span></b><span lang=EN-US>AppPageLog[] <b>appPageLogs</b>;<span
  style='mso-spacerun:yes'>            </span><i>//</i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>页面跳转相关信息的数组</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>    </span></span></i><b><span lang=EN-US>private
  </span></b><span lang=EN-US>AppEventLog[] <b>appEventLogs</b>;<span
  style='mso-spacerun:yes'>          </span><i>//</i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>事件相关信息的数组</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>    </span></span></i><b><span lang=EN-US>private
  </span></b><span lang=EN-US>AppUsageLog[] <b>appUsageLogs</b>;<span
  style='mso-spacerun:yes'>          </span><i>//app</i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>使用情况相关信息的数组</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>    </span></span></i><b><span lang=EN-US>private
  </span></b><span lang=EN-US>AppErrorLog[] <b>appErrorLogs</b>;<span
  style='mso-spacerun:yes'>          </span><i>//</i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>错误相关信息的数组</span><span lang=EN-US><br>
  <br>
  <span style='mso-spacerun:yes'>    </span></span></i><b><span lang=EN-US>public
  </span></b><span lang=EN-US>AppStartupLog[] getAppStartupLogs() {<br>
  <span style='mso-spacerun:yes'>        </span><b>return appStartupLogs</b>;<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><b>public void </b>setAppStartupLogs(AppStartupLog[]
  appStartupLogs) {<br>
  <span style='mso-spacerun:yes'>        </span><b>this</b>.<b>appStartupLogs </b>=
  appStartupLogs;<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><b>public </b>AppPageLog[]
  getAppPageLogs() {<br>
  <span style='mso-spacerun:yes'>        </span><b>return appPageLogs</b>;<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><b>public void </b>setAppPageLogs(AppPageLog[]
  appPageLogs) {<br>
  <span style='mso-spacerun:yes'>        </span><b>this</b>.<b>appPageLogs </b>=
  appPageLogs;<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><b>public </b>AppEventLog[]
  getAppEventLogs() {<br>
  <span style='mso-spacerun:yes'>        </span><b>return appEventLogs</b>;<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><b>public void </b>setAppEventLogs(AppEventLog[]
  appEventLogs) {<br>
  <span style='mso-spacerun:yes'>        </span><b>this</b>.<b>appEventLogs </b>=
  appEventLogs;<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><b>public </b>AppUsageLog[]
  getAppUsageLogs() {<br>
  <span style='mso-spacerun:yes'>        </span><b>return appUsageLogs</b>;<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><b>public void </b>setAppUsageLogs(AppUsageLog[]
  appUsageLogs) {<br>
  <span style='mso-spacerun:yes'>        </span><b>this</b>.<b>appUsageLogs </b>=
  appUsageLogs;<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><b>public </b>AppErrorLog[]
  getAppErrorLogs() {<br>
  <span style='mso-spacerun:yes'>        </span><b>return appErrorLogs</b>;<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><b>public void </b>setAppErrorLogs(AppErrorLog[]
  appErrorLogs) {<br>
  <span style='mso-spacerun:yes'>        </span><b>this</b>.<b>appErrorLogs </b>=
  appErrorLogs;<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  }</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<h3 style='margin:0cm;margin-bottom:.0001pt'><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'>4.1.9 </span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>创建</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'>GeoInfo</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>地理信息类</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'><o:p></o:p></span></h3>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none;mso-border-alt:
 solid windowtext .5pt;mso-yfti-tbllook:1184;mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
 mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=548 valign=top style='width:411.1pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><b><span lang=EN-US>package </span></b><span lang=EN-US>com.atguigu.app.common;<br>
  <i>/**<br>
  <span style='mso-spacerun:yes'> </span>* </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>地理信息</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'> </span>*/<br>
  </span></i><b><span lang=EN-US>public class </span></b><span lang=EN-US>GeoInfo
  {<br>
  <span style='mso-spacerun:yes'>   </span><b>private </b>String <b>country </b>;<br>
  <span style='mso-spacerun:yes'>   </span><b>private </b>String <b>province </b>;<br>
  <br>
  <span style='mso-spacerun:yes'>   </span><b>public </b>String getCountry() {<br>
  <span style='mso-spacerun:yes'>      </span><b>return country</b>;<br>
  <span style='mso-spacerun:yes'>   </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>   </span><b>public void </b>setCountry(String
  country) {<br>
  <span style='mso-spacerun:yes'>      </span><b>this</b>.<b>country </b>=
  country;<br>
  <span style='mso-spacerun:yes'>   </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>   </span><b>public </b>String getProvince() {<br>
  <span style='mso-spacerun:yes'>      </span><b>return province</b>;<br>
  <span style='mso-spacerun:yes'>   </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>   </span><b>public void </b>setProvince(String
  province) {<br>
  <span style='mso-spacerun:yes'>      </span><b>this</b>.<b>province </b>=
  province;<br>
  <span style='mso-spacerun:yes'>   </span>}<br>
  }</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<h3 style='margin:0cm;margin-bottom:.0001pt'><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'>4.1.10 </span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>创建</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'>GeoUtil</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>地理信息工具类</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'><o:p></o:p></span></h3>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>1</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）创建一个工具类包：</span><span lang=EN-US>com.atguigu.app.utils</span></p>

<p class=MsoNormal><span lang=EN-US style='mso-no-proof:yes'><!--[if gte vml 1]><v:shape
 id="_x0000_i1069" type="#_x0000_t75" alt="" style='width:415pt;height:100pt;
 visibility:visible;mso-width-percent:0;mso-height-percent:0;
 mso-width-percent:0;mso-height-percent:0'>
 <v:imagedata src="APP信息统计分析系统.fld/image010.png" o:title=""/>
</v:shape><![endif]--><![if !vml]><img width=415 height=100
src="APP信息统计分析系统.fld/image010.png" v:shapes="_x0000_i1069"><![endif]></span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>2</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）编写工具类：</span></p>

<p class=MsoNormal style='line-height:150%'><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>地理信息数据库官方地址：</span><span
lang=EN-US><a href="https://www.maxmind.com/zh/geoip2-databases">https://www.maxmind.com/zh/geoip2-databases</a></span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>API</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>使用说明：</span><span lang=EN-US>http://maxmind.github.io/GeoIP2-java/</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none;mso-border-alt:
 solid windowtext .5pt;mso-yfti-tbllook:1184;mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
 mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=548 valign=top style='width:411.1pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><b><span lang=EN-US>package </span></b><span lang=EN-US>com.atguigu.app.utils;<br>
  <b>import </b>com.atguigu.app.common.GeoInfo;<br>
  <b>import </b>com.fasterxml.jackson.databind.JsonNode;<br>
  <b>import </b>com.maxmind.db.Reader;<br>
  <b>import </b>org.springframework.core.io.ClassPathResource;<br>
  <b>import </b>org.springframework.core.io.Resource;<br>
  <b>import </b>java.io.IOException;<br>
  <b>import </b>java.io.InputStream;<br>
  <b>import </b>java.net.InetAddress;<br>
  <br>
  <i>/**<br>
  <span style='mso-spacerun:yes'> </span>* </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>地理工具类，实现通过</span><span lang=EN-US>ip</span></i><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>查找地址区域</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'> </span>*/<br>
  </span></i><b><span lang=EN-US>public class </span></b><span lang=EN-US>GeoUtil
  {<br>
  <span style='mso-spacerun:yes'>    </span><b>private static </b>InputStream <i>in</i>;<br>
  <span style='mso-spacerun:yes'>    </span><b>private static </b>Reader <i>reader</i>;<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><i>/**<br>
  <span style='mso-spacerun:yes'>     </span>* </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>获得国家数据</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>     </span>*/<br>
  <span style='mso-spacerun:yes'>    </span></span></i><b><span lang=EN-US>public
  static </span></b><span lang=EN-US>String getCountry(String ip) {<br>
  <br>
  <span style='mso-spacerun:yes'>        </span><b>try </b>{<br>
  <span style='mso-spacerun:yes'>            </span>Resource resource = <b>new </b>ClassPathResource(<b>&quot;GeoLite2-City.mmdb&quot;</b>);<br>
  <span style='mso-spacerun:yes'>            </span><i>reader </i>= <b>new </b>Reader(resource.getFile());<br>
  <br>
  <span style='mso-spacerun:yes'>            </span><b>if </b>(<i>reader </i>!=
  <b>null</b>) {<br>
  <br>
  <span style='mso-spacerun:yes'>                </span>JsonNode node = <i>reader</i>.get(InetAddress.<i>getByName</i>(ip));<br>
  <br>
  <span style='mso-spacerun:yes'>                </span><b>if </b>(node != <b>null</b>){<br>
  <span style='mso-spacerun:yes'>                    </span>JsonNode
  countryNode = node.get(<b>&quot;country&quot;</b>);<br>
  <br>
  <span style='mso-spacerun:yes'>                    </span><b>if </b>(countryNode
  != <b>null </b>){<br>
  <span style='mso-spacerun:yes'>                        </span>JsonNode
  namesNode = countryNode.get(<b>&quot;names&quot;</b>);<br>
  <br>
  <span style='mso-spacerun:yes'>                        </span><b>if </b>(namesNode
  != <b>null</b>){<br>
  <span style='mso-spacerun:yes'>                            </span>JsonNode
  zhNode = namesNode.get(<b>&quot;zh-CN&quot;</b>);<br>
  <br>
  <span style='mso-spacerun:yes'>   </span><span
  style='mso-spacerun:yes'>                         </span><b>if </b>(zhNode !=
  <b>null</b>){<br>
  <span style='mso-spacerun:yes'>                                </span><b>return
  </b>zhNode.textValue();<br>
  <span style='mso-spacerun:yes'>                            </span>}<br>
  <span style='mso-spacerun:yes'>                        </span>}<br>
  <span style='mso-spacerun:yes'>                    </span>}<br>
  <span style='mso-spacerun:yes'>                </span>}<br>
  <span style='mso-spacerun:yes'>            </span>}<br>
  <span style='mso-spacerun:yes'>        </span>} <b>catch </b>(Exception e) {<br>
  <span style='mso-spacerun:yes'>         </span><span
  style='mso-spacerun:yes'>   </span>e.printStackTrace();<br>
  <span style='mso-spacerun:yes'>        </span>}<b>finally </b>{<br>
  <span style='mso-spacerun:yes'>            </span><b>if </b>(<i>reader </i>!=
  <b>null</b>){<br>
  <span style='mso-spacerun:yes'>                </span><b>try </b>{<br>
  <span style='mso-spacerun:yes'>                    </span><i>reader</i>.close();<br>
  <span style='mso-spacerun:yes'>                </span>} <b>catch </b>(IOException
  e) {<br>
  <span style='mso-spacerun:yes'>                   
  </span>e.printStackTrace();<br>
  <span style='mso-spacerun:yes'>                </span>}<br>
  <span style='mso-spacerun:yes'>            </span>}<br>
  <span style='mso-spacerun:yes'>       </span><span
  style='mso-spacerun:yes'> </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>        </span><b>return &quot;&quot;</b>;<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><i>/**<br>
  <span style='mso-spacerun:yes'>     </span>* </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>获得省份数据</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>     </span>*/<br>
  <span style='mso-spacerun:yes'>    </span></span></i><b><span lang=EN-US>public
  static </span></b><span lang=EN-US>String getProvince(String ip) {<br>
  <br>
  <span style='mso-spacerun:yes'>        </span><b>try </b>{<br>
  <br>
  <span style='mso-spacerun:yes'>            </span>Resource resource = <b>new </b>ClassPathResource(<b>&quot;GeoLite2-City.mmdb&quot;</b>);<br>
  <span style='mso-spacerun:yes'>            </span><i>reader </i>= <b>new </b>Reader(resource.getFile());<br>
  <br>
  <span style='mso-spacerun:yes'>            </span><b>if </b>(<i>reader </i>!=
  <b>null</b>) {<br>
  <span style='mso-spacerun:yes'>                </span>JsonNode node = <i>reader</i>.get(InetAddress.<i>getByName</i>(ip));<br>
  <br>
  <span style='mso-spacerun:yes'>                </span><b>if </b>(node != <b>null</b>){<br>
  <span style='mso-spacerun:yes'>                    </span>JsonNode
  subdivisionsNode = node.get(<b>&quot;subdivisions&quot;</b>);<br>
  <span style='mso-spacerun:yes'>                    </span><b>if </b>(subdivisionsNode
  != <b>null</b>){<br>
  <span style='mso-spacerun:yes'>                        </span>JsonNode
  areaNode = subdivisionsNode.get(0);<br>
  <br>
  <span style='mso-spacerun:yes'>                        </span><b>if </b>(areaNode
  != <b>null</b>){<br>
  <span style='mso-spacerun:yes'>                            </span>JsonNode
  namesNode = areaNode.get(<b>&quot;names&quot;</b>);<br>
  <br>
  <span style='mso-spacerun:yes'>                            </span><b>if </b>(namesNode
  != <b>null</b>){<br>
  <span style='mso-spacerun:yes'>   </span><span
  style='mso-spacerun:yes'>                             </span>JsonNode zhNode
  = namesNode.get(<b>&quot;zh-CN&quot;</b>);<br>
  <br>
  <span style='mso-spacerun:yes'>                                </span><b>if </b>(zhNode
  != <b>null</b>){<br>
  <span style='mso-spacerun:yes'>                                    </span><b>return
  </b>zhNode.textValue();<br>
  <span style='mso-spacerun:yes'>                                </span>}<br>
  <span style='mso-spacerun:yes'>                            </span>}<br>
  <span style='mso-spacerun:yes'>    </span><span
  style='mso-spacerun:yes'>                    </span>}<br>
  <span style='mso-spacerun:yes'>                    </span>}<br>
  <span style='mso-spacerun:yes'>                </span>}<br>
  <span style='mso-spacerun:yes'>            </span>}<br>
  <span style='mso-spacerun:yes'>        </span>} <b>catch </b>(Exception e) {<br>
  <span style='mso-spacerun:yes'>            </span>e.printStackTrace();<br>
  <span style='mso-spacerun:yes'>        </span>}<b>finally </b>{<br>
  <span style='mso-spacerun:yes'>            </span><b>if </b>(<i>reader </i>!=
  <b>null</b>){<br>
  <span style='mso-spacerun:yes'>                </span><b>try </b>{<br>
  <span style='mso-spacerun:yes'>                    </span><i>reader</i>.close();<br>
  <span style='mso-spacerun:yes'>     </span><span
  style='mso-spacerun:yes'>           </span>} <b>catch </b>(IOException e) {<br>
  <span style='mso-spacerun:yes'>                   
  </span>e.printStackTrace();<br>
  <span style='mso-spacerun:yes'>                </span>}<br>
  <span style='mso-spacerun:yes'>            </span>}<br>
  <span style='mso-spacerun:yes'>        </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>        </span><b>return &quot;&quot;</b>;<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  }</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<h2 style='margin:0cm;margin-bottom:.0001pt'><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'>4.2 </span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%;font-family:黑体;mso-ascii-font-family:
Arial;mso-hansi-font-family:Arial'>编写手机客户端工程</span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'><o:p></o:p></span></h2>

<h3 style='margin:0cm;margin-bottom:.0001pt'><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'>4.2.1 </span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>创建</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'>Java</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>工程，导入</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'>pom</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>文件</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'><o:p></o:p></span></h3>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>1</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）创建</span><span lang=EN-US>app_logs_client</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>模块</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US style='mso-no-proof:
yes'><!--[if gte vml 1]><v:shape id="_x0000_i1068" type="#_x0000_t75" alt=""
 style='width:415pt;height:305pt;visibility:visible;mso-width-percent:0;
 mso-height-percent:0;mso-width-percent:0;mso-height-percent:0'>
 <v:imagedata src="APP信息统计分析系统.fld/image011.png" o:title=""/>
</v:shape><![endif]--><![if !vml]><img border=0 width=415 height=305
src="APP信息统计分析系统.fld/image011.png" v:shapes="_x0000_i1068"><![endif]><o:p></o:p></span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US style='mso-no-proof:
yes'><!--[if gte vml 1]><v:shape id="_x0000_i1067" type="#_x0000_t75" alt=""
 style='width:415pt;height:304pt;visibility:visible;mso-width-percent:0;
 mso-height-percent:0;mso-width-percent:0;mso-height-percent:0'>
 <v:imagedata src="APP信息统计分析系统.fld/image012.png" o:title=""/>
</v:shape><![endif]--><![if !vml]><img border=0 width=415 height=304
src="APP信息统计分析系统.fld/image012.png" v:shapes="_x0000_i1067"><![endif]></span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>2</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）添加</span><span lang=EN-US>maven</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US style='mso-no-proof:
yes'><!--[if gte vml 1]><v:shape id="_x0000_i1066" type="#_x0000_t75" alt=""
 style='width:332pt;height:189pt;visibility:visible;mso-width-percent:0;
 mso-height-percent:0;mso-width-percent:0;mso-height-percent:0'>
 <v:imagedata src="APP信息统计分析系统.fld/image013.png" o:title="" cropright="2951f"/>
</v:shape><![endif]--><![if !vml]><img border=0 width=332 height=189
src="APP信息统计分析系统.fld/image014.png" v:shapes="_x0000_i1066"><![endif]><o:p></o:p></span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US style='mso-no-proof:
yes'><!--[if gte vml 1]><v:shape id="_x0000_i1065" type="#_x0000_t75" alt=""
 style='width:5in;height:293pt;visibility:visible;mso-width-percent:0;
 mso-height-percent:0;mso-width-percent:0;mso-height-percent:0'>
 <v:imagedata src="APP信息统计分析系统.fld/image015.png" o:title=""/>
</v:shape><![endif]--><![if !vml]><img border=0 width=360 height=293
src="APP信息统计分析系统.fld/image015.png" v:shapes="_x0000_i1065"><![endif]><o:p></o:p></span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>3</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）导入</span><span lang=EN-US>pom</span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>文件，并刷新一下</span><span
lang=EN-US>maven</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none;mso-border-alt:
 solid windowtext .5pt;mso-yfti-tbllook:1184;mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
 mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=548 valign=top style='width:411.1pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><i><span lang=EN-US>&lt;?</span></i><b><span lang=EN-US>xml
  version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;</span></b><i><span
  lang=EN-US>?&gt;<br>
  </span></i><span lang=EN-US>&lt;<b>project
  xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;<br>
  <span style='mso-spacerun:yes'>        
  </span>xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;<br>
  <span style='mso-spacerun:yes'>        
  </span>xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0
  http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</b>&gt;<br>
  <span style='mso-spacerun:yes'>  </span><span
  style='mso-spacerun:yes'>  </span>&lt;<b>modelVersion</b>&gt;4.0.0&lt;/<b>modelVersion</b>&gt;<br>
  <br>
  <span style='mso-spacerun:yes'>    </span>&lt;<b>groupId</b>&gt;com.atguigu&lt;/<b>groupId</b>&gt;<br>
  <span style='mso-spacerun:yes'>    </span>&lt;<b>artifactId</b>&gt;app_logs_client&lt;/<b>artifactId</b>&gt;<br>
  <span style='mso-spacerun:yes'>    </span>&lt;<b>version</b>&gt;1.0-SNAPSHOT&lt;/<b>version</b>&gt;<br>
  <br>
  <span style='mso-spacerun:yes'>    </span>&lt;<b>dependencies</b>&gt;<br>
  <span style='mso-spacerun:yes'>        </span>&lt;<b>dependency</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>groupId</b>&gt;com.atguigu&lt;/<b>groupId</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>artifactId</b>&gt;app_common&lt;/<b>artifactId</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>version</b>&gt;1.0-SNAPSHOT&lt;/<b>version</b>&gt;<br>
  <span style='mso-spacerun:yes'>        </span>&lt;/<b>dependency</b>&gt;<br>
  <br>
  <span style='mso-spacerun:yes'>        </span><i>&lt;!--json</i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>解析</span><span lang=EN-US>--&gt;<br>
  <span style='mso-spacerun:yes'>        </span></span></i><span lang=EN-US>&lt;<b>dependency</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>groupId</b>&gt;com.alibaba&lt;/<b>groupId</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>artifactId</b>&gt;fastjson&lt;/<b>artifactId</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>version</b>&gt;1.2.6&lt;/<b>version</b>&gt;<br>
  <span style='mso-spacerun:yes'>        </span>&lt;/<b>dependency</b>&gt;<br>
  <span style='mso-spacerun:yes'>    </span>&lt;/<b>dependencies</b>&gt;<br>
  &lt;/<b>project</b>&gt;</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<h3 style='margin:0cm;margin-bottom:.0001pt'><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'>4.2.2 </span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>创建</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'>GenerateData</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>数据生成类</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'><o:p></o:p></span></h3>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>1</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）创建</span><span lang=EN-US>package</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>：</span><span lang=EN-US>com.atguigu.app.client</span></p>

<p class=MsoNormal><span lang=EN-US style='mso-no-proof:yes'><!--[if gte vml 1]><v:shape
 id="_x0000_i1064" type="#_x0000_t75" alt="" style='width:415pt;height:151pt;
 visibility:visible;mso-width-percent:0;mso-height-percent:0;
 mso-width-percent:0;mso-height-percent:0'>
 <v:imagedata src="APP信息统计分析系统.fld/image016.png" o:title=""/>
</v:shape><![endif]--><![if !vml]><img border=0 width=415 height=151
src="APP信息统计分析系统.fld/image016.png" v:shapes="_x0000_i1064"><![endif]><o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-no-proof:yes'><!--[if gte vml 1]><v:shape
 id="_x0000_i1063" type="#_x0000_t75" alt="" style='width:415pt;height:131pt;
 visibility:visible;mso-width-percent:0;mso-height-percent:0;
 mso-width-percent:0;mso-height-percent:0'>
 <v:imagedata src="APP信息统计分析系统.fld/image017.png" o:title=""/>
</v:shape><![endif]--><![if !vml]><img border=0 width=415 height=131
src="APP信息统计分析系统.fld/image017.png" v:shapes="_x0000_i1063"><![endif]><o:p></o:p></span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>2</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）编写代码</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;mso-table-layout-alt:fixed;
 border:none;mso-border-alt:solid windowtext .5pt;mso-yfti-tbllook:1184;
 mso-padding-alt:0cm 5.4pt 0cm 5.4pt;mso-border-insideh:.5pt solid windowtext;
 mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=548 valign=top style='width:411.1pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><b><span lang=EN-US>package </span></b><span lang=EN-US>com.atguigu.app.client;<br>
  <b>import </b>com.alibaba.fastjson.JSONObject;<br>
  <b>import </b>com.atguigu.app.common.*;<br>
  <b>import </b>java.util.HashMap;<br>
  <b>import </b>java.util.Map;<br>
  <b>import </b>java.util.Random;<br>
  <br>
  <i>/**<br>
  <span style='mso-spacerun:yes'> </span>* Created by atguigu on 2017/10/25<br>
  <span style='mso-spacerun:yes'> </span>*/<br>
  </i><b>public class </b>GenerateData {<br>
  <span style='mso-spacerun:yes'>    </span><i>// 0 </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>创建随机数对象</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>    </span></span></i><b><span lang=EN-US>private
  static </span></b><span lang=EN-US>Random <i>random </i>= <b>new </b>Random();<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><i>// 1 </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>准备没类</span><span lang=EN-US>log</span></i><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>的属性值</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>    </span>// 1.1 </span></i><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>功能属性值</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>    </span></span></i><b><span lang=EN-US>private
  static </span></b><span lang=EN-US>Long[] <i>createdAtMsS </i>= <i>initCreatedAtMs</i>();<i>//</i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>日志创建时间</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>    </span></span></i><b><span lang=EN-US>private
  static </span></b><span lang=EN-US>String <i>appId </i>= <b>&quot;sdk34734&quot;</b>;<i>//</i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>应用唯一标识</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>    </span></span></i><b><span lang=EN-US>private
  static </span></b><span lang=EN-US>String[] <i>tenantIds </i>= {<b>&quot;cake&quot;</b>};<i>//</i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>租户唯一标识</span><span lang=EN-US>,</span></i><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>企业用户</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>    </span></span></i><b><span lang=EN-US>private
  static </span></b><span lang=EN-US>String[] <i>deviceIds </i>= <i>initDeviceId</i>();<i>//</i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>设备唯一标识</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>    </span></span></i><b><span lang=EN-US>private
  static </span></b><span lang=EN-US>String[] <i>appVersions </i>= {<b>&quot;3.2.1&quot;</b>,
  <b>&quot;3.2.2&quot;</b>};<i>//</i></span><i><span style='font-family:宋体;
  mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>版本</span><span
  lang=EN-US><br>
  <span style='mso-spacerun:yes'>    </span></span></i><b><span lang=EN-US>private
  static </span></b><span lang=EN-US>String[] <i>appChannels </i>= {<b>&quot;youmeng1&quot;</b>,
  <b>&quot;youmeng2&quot;</b>};<i>//</i></span><i><span style='font-family:
  宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>渠道</span><span
  lang=EN-US>,</span></i><i><span style='font-family:宋体;mso-ascii-font-family:
  "Times New Roman";mso-hansi-font-family:"Times New Roman"'>安装时就在清单中制定了，</span><span
  lang=EN-US>appStore</span></i><i><span style='font-family:宋体;mso-ascii-font-family:
  "Times New Roman";mso-hansi-font-family:"Times New Roman"'>等。</span><span
  lang=EN-US><br>
  <span style='mso-spacerun:yes'>    </span></span></i><b><span lang=EN-US>private
  static </span></b><span lang=EN-US>String[] <i>appPlatforms </i>= {<b>&quot;android&quot;</b>,
  <b>&quot;ios&quot;</b>};<i>//</i></span><i><span style='font-family:宋体;
  mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>平台</span><span
  lang=EN-US><br>
  <span style='mso-spacerun:yes'>    </span></span></i><b><span lang=EN-US>private
  static </span></b><span lang=EN-US>String[] <i>osTypes </i>= {<b>&quot;8.3&quot;</b>,
  <b>&quot;7.1.1&quot;</b>};<i>//</i></span><i><span style='font-family:宋体;
  mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>操作系统</span><span
  lang=EN-US><br>
  <span style='mso-spacerun:yes'>    </span></span></i><b><span lang=EN-US>private
  static </span></b><span lang=EN-US>String[] <i>deviceStyles </i>= {<b>&quot;iPhone
  6&quot;</b>, <b>&quot;iPhone 6 Plus&quot;</b>, <b>&quot;</b></span><b><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>红米手机</span><span lang=EN-US>1s&quot;</span></b><span
  lang=EN-US>};<i>//</i></span><i><span style='font-family:宋体;mso-ascii-font-family:
  "Times New Roman";mso-hansi-font-family:"Times New Roman"'>机型</span><span
  lang=EN-US><br>
  <br>
  <span style='mso-spacerun:yes'>    </span>// 1.1.1 </span></i><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>初始化设备</span><span lang=EN-US>id<br>
  <span style='mso-spacerun:yes'>    </span></span></i><b><span lang=EN-US>private
  static </span></b><span lang=EN-US>String[] initDeviceId() {<br>
  <br>
  <span style='mso-spacerun:yes'>        </span>String base = <b>&quot;device22&quot;</b>;<br>
  <span style='mso-spacerun:yes'>        </span>String[] result = <b>new </b>String[100];<br>
  <br>
  <span style='mso-spacerun:yes'>        </span><b>for </b>(<b>int </b>i = 0; i
  &lt; 100; i++) {<br>
  <span style='mso-spacerun:yes'>            </span>result[i] = base + i + <b>&quot;&quot;</b>;<br>
  <span style='mso-spacerun:yes'>        </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>        </span><b>return </b>result;<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><i>// 1.1.2 </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>初始化创建时间</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>    </span></span></i><b><span lang=EN-US>private
  static </span></b><span lang=EN-US>Long[] initCreatedAtMs() {<br>
  <br>
  <span style='mso-spacerun:yes'>        </span>Long createdAtMs = System.<i>currentTimeMillis</i>();<br>
  <span style='mso-spacerun:yes'>        </span>Long[] result = <b>new </b>Long[11];<br>
  <br>
  <span style='mso-spacerun:yes'>        </span><b>for </b>(<b>int </b>i = 0; i
  &lt; 10; i++) {<br>
  <span style='mso-spacerun:yes'>            </span>result[i] = createdAtMs - (<b>long</b>)
  (i * 24 * 3600 * 1000);<br>
  <span style='mso-spacerun:yes'>        </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>        </span>result[10] = createdAtMs;<br>
  <br>
  <span style='mso-spacerun:yes'>        </span><b>return </b>result;<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><i>// 1.2 </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>启动日志属性值</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>    </span></span></i><b><span lang=EN-US>private
  static </span></b><span lang=EN-US>String[] <i>countrys </i>= {<b>&quot;America&quot;</b>,
  <b>&quot;china&quot;</b>};<i>//</i></span><i><span style='font-family:宋体;
  mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>国家，终端不用上报，服务器自动填充该属性</span><span
  lang=EN-US><br>
  <span style='mso-spacerun:yes'>    </span></span></i><b><span lang=EN-US>private
  static </span></b><span lang=EN-US>String[] <i>provinces </i>= {<b>&quot;Washington&quot;</b>,
  <b>&quot;jiangxi&quot;</b>, <b>&quot;beijing&quot;</b>};<i>//</i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>省份，终端不用上报，服务器自动填充该属性</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>    </span></span></i><b><span lang=EN-US>private
  static </span></b><span lang=EN-US>String[] <i>networks </i>= {<b>&quot;WiFi&quot;</b>,
  <b>&quot;CellNetwork&quot;</b>};<i>//</i></span><i><span style='font-family:
  宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>网络</span><span
  lang=EN-US><br>
  <span style='mso-spacerun:yes'>    </span></span></i><b><span lang=EN-US>private
  static </span></b><span lang=EN-US>String[] <i>carriers </i>= {<b>&quot;</b></span><b><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>中国移动</span><span lang=EN-US>&quot;</span></b><span
  lang=EN-US>, <b>&quot;</b></span><b><span style='font-family:宋体;mso-ascii-font-family:
  "Times New Roman";mso-hansi-font-family:"Times New Roman"'>中国电信</span><span
  lang=EN-US>&quot;</span></b><span lang=EN-US>, <b>&quot;EE&quot;</b>};<i>//</i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>运营商</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>    </span></span></i><b><span lang=EN-US>private
  static </span></b><span lang=EN-US>String[] <i>brands </i>= {<b>&quot;</b></span><b><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>三星</span><span lang=EN-US>&quot;</span></b><span
  lang=EN-US>, <b>&quot;</b></span><b><span style='font-family:宋体;mso-ascii-font-family:
  "Times New Roman";mso-hansi-font-family:"Times New Roman"'>华为</span><span
  lang=EN-US>&quot;</span></b><span lang=EN-US>, <b>&quot;Apple&quot;</b>, <b>&quot;</b></span><b><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>魅族</span><span lang=EN-US>&quot;</span></b><span
  lang=EN-US>, <b>&quot;</b></span><b><span style='font-family:宋体;mso-ascii-font-family:
  "Times New Roman";mso-hansi-font-family:"Times New Roman"'>小米</span><span
  lang=EN-US>&quot;</span></b><span lang=EN-US>, <b>&quot;</b></span><b><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>锤子</span><span lang=EN-US>&quot;</span></b><span
  lang=EN-US>};<i>//</i></span><i><span style='font-family:宋体;mso-ascii-font-family:
  "Times New Roman";mso-hansi-font-family:"Times New Roman"'>品牌</span><span
  lang=EN-US><br>
  <span style='mso-spacerun:yes'>    </span></span></i><b><span lang=EN-US>private
  static </span></b><span lang=EN-US>String[] <i>screenSizes </i>= {<b>&quot;1136*640&quot;</b>,
  <b>&quot;960*640&quot;</b>, <b>&quot;480*320&quot;</b>};<i>//</i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>分辨率</span><span lang=EN-US><br>
  <br>
  <span style='mso-spacerun:yes'>    </span>// 1.3 </span></i><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>事件日志属性值</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>    </span></span></i><b><span lang=EN-US>private
  static </span></b><span lang=EN-US>String[] <i>eventIds </i>= {<b>&quot;popMenu&quot;</b>,
  <b>&quot;autoImport&quot;</b>, <b>&quot;BookStore&quot;</b>}; <i>//</i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>事件唯一标识</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>    </span></span></i><b><span lang=EN-US>private
  static </span></b><span lang=EN-US>Long[] <i>eventDurationSecsS </i>= {<b>new
  </b>Long(25), <b>new </b>Long(67), <b>new </b>Long(45)};<i>//</i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>事件持续时长</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>    </span></span></i><b><span lang=EN-US>static
  </span></b><span lang=EN-US>Map&lt;String, String&gt; <i>map1 </i>= <b>new </b>HashMap&lt;String,
  String&gt;() {<br>
  <span style='mso-spacerun:yes'>        </span>{<br>
  <span style='mso-spacerun:yes'>            </span>put(<b>&quot;testparam1key&quot;</b>,
  <b>&quot;testparam1value&quot;</b>);<br>
  <span style='mso-spacerun:yes'>            </span>put(<b>&quot;testparam2key&quot;</b>,
  <b>&quot;testparam2value&quot;</b>);<br>
  <span style='mso-spacerun:yes'>        </span>}<br>
  <span style='mso-spacerun:yes'>    </span>};<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><b>static </b>Map&lt;String,
  String&gt; <i>map2 </i>= <b>new </b>HashMap&lt;String, String&gt;() {<br>
  <span style='mso-spacerun:yes'>        </span>{<br>
  <span style='mso-spacerun:yes'>            </span>put(<b>&quot;testparam3key&quot;</b>,
  <b>&quot;testparam3value&quot;</b>);<br>
  <span style='mso-spacerun:yes'>            </span>put(<b>&quot;testparam4key&quot;</b>,
  <b>&quot;testparam4value&quot;</b>);<br>
  <span style='mso-spacerun:yes'>        </span>}<br>
  <span style='mso-spacerun:yes'>    </span>};<br>
  <span style='mso-spacerun:yes'>    </span><b>private static </b>Map[] <i>paramKeyValueMapsS
  </i>= {<i>map1</i>, <i>map2</i>};<i>//</i></span><i><span style='font-family:
  宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>参数名</span><span
  lang=EN-US>/</span></i><i><span style='font-family:宋体;mso-ascii-font-family:
  "Times New Roman";mso-hansi-font-family:"Times New Roman"'>值对</span><span
  lang=EN-US><br>
  <br>
  <br>
  <span style='mso-spacerun:yes'>    </span>// 1.4 </span></i><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>使用时长日志属性值</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>    </span></span></i><b><span lang=EN-US>private
  static </span></b><span lang=EN-US>Long[] <i>singleUseDurationSecsS </i>= <i>initSingleUseDurationSecs</i>();<i>//</i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>单次使用时长</span><span lang=EN-US>(</span></i><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>秒数</span><span lang=EN-US>),</span></i><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>指一次启动内应用在前台的持续时长</span><span lang=EN-US><br>
  <br>
  <span style='mso-spacerun:yes'>    </span>// 1.4.1 </span></i><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>单次使用时长</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>    </span></span></i><b><span lang=EN-US>private
  static </span></b><span lang=EN-US>Long[] initSingleUseDurationSecs() {<br>
  <br>
  <span style='mso-spacerun:yes'>        </span>Long[] result = <b>new </b>Long[200];<br>
  <br>
  <span style='mso-spacerun:yes'>        </span><b>for </b>(<b>int </b>i = 1; i
  &lt; 200; i++) {<br>
  <span style='mso-spacerun:yes'>            </span>result[i] = (<b>long</b>) <i>random</i>.nextInt(200);<br>
  <span style='mso-spacerun:yes'>        </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>        </span><b>return </b>result;<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><i>// 1.5 </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>错误日志属性值</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>    </span></span></i><b><span lang=EN-US>private
  static </span></b><span lang=EN-US>String[] <i>errorBriefs </i>= {<b>&quot;at
  cn.lift.dfdf.web.AbstractBaseController.validInbound(AbstractBaseController.java:72)&quot;</b>,
  <b>&quot;at
  cn.lift.appIn.control.CommandUtil.getInfo(CommandUtil.java:67)&quot;</b>};<span
  style='mso-spacerun:yes'>        </span><i>//</i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>错误摘要</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>    </span></span></i><b><span lang=EN-US>private
  static </span></b><span lang=EN-US>String[] <i>errorDetails </i>= {<b>&quot;java.lang.NullPointerException\\n<span
  style='mso-spacerun:yes'>    </span>&quot; </b>+ <b>&quot;at
  cn.lift.appIn.web.AbstractBaseController.validInbound(AbstractBaseController.java:72)\\n
  &quot; </b>+ <b>&quot;at
  cn.lift.dfdf.web.AbstractBaseController.validInbound&quot;</b>, <b>&quot;at
  cn.lift.dfdfdf.control.CommandUtil.getInfo(CommandUtil.java:67)\\n &quot; </b>+
  <b>&quot;at
  sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n&quot;
  </b>+ <b>&quot; at java.lang.reflect.Method.invoke(Method.java:606)\\n&quot;</b>};<span
  style='mso-spacerun:yes'>        </span><i>//</i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>错误详情</span><span lang=EN-US><br>
  <br>
  <span style='mso-spacerun:yes'>    </span>// 1.6 </span></i><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>页面使用情况日志属性值</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>    </span></span></i><b><span lang=EN-US>private
  static </span></b><span lang=EN-US>String[] <i>pageIds </i>= {<b>&quot;list.html&quot;</b>,
  <b>&quot;main.html&quot;</b>, <b>&quot;test.html&quot;</b>};<i>//</i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>页面</span><span lang=EN-US>id<br>
  <span style='mso-spacerun:yes'>    </span></span></i><b><span lang=EN-US>private
  static int</span></b><span lang=EN-US>[] <i>visitIndexs </i>= {0, 1, 2, 3,
  4};<i>//</i></span><i><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
  mso-hansi-font-family:"Times New Roman"'>访问顺序号，</span><span lang=EN-US>0</span></i><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>为第一个页面</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>    </span></span></i><b><span lang=EN-US>private
  static </span></b><span lang=EN-US>String[] <i>nextPages </i>= {<b>&quot;list.html&quot;</b>,
  <b>&quot;main.html&quot;</b>, <b>&quot;test.html&quot;</b>, <b>null</b>}; <i>//</i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>下一个访问页面，如为空则表示为退出应用的页面</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>    </span></span></i><b><span lang=EN-US>private
  static </span></b><span lang=EN-US>Long[] <i>stayDurationSecsS </i>= {<b>new </b>Long(45),
  <b>new </b>Long(2), <b>new </b>Long(78)};<i>//</i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>当前页面停留时长</span><span lang=EN-US><br>
  <br>
  <br>
  <span style='mso-spacerun:yes'>    </span>// 2 </span></i><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>初始化五类</span><span lang=EN-US>log</span></i><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>的数据</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>    </span>//</span></i><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>启动相关信息的数组</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>    </span></span></i><b><span lang=EN-US>private
  static </span></b><span lang=EN-US>AppStartupLog[] <i>appStartupLogs </i>= <i>initAppStartupLogs</i>();<br>
  <span style='mso-spacerun:yes'>   </span><span
  style='mso-spacerun:yes'> </span><i>//</i></span><i><span style='font-family:
  宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>页面跳转相关信息的数组</span><span
  lang=EN-US><br>
  <span style='mso-spacerun:yes'>    </span></span></i><b><span lang=EN-US>private
  static </span></b><span lang=EN-US>AppPageLog[] <i>appPageLogs </i>= <i>initAppPageLogs</i>();<br>
  <span style='mso-spacerun:yes'>    </span><i>//</i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>事件相关信息的数组</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>    </span></span></i><b><span lang=EN-US>private
  static </span></b><span lang=EN-US>AppEventLog[] <i>appEventLogs </i>= <i>initAppEventLogs</i>();<br>
  <span style='mso-spacerun:yes'>    </span><i>//app</i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>使用情况相关信息的数组</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>    </span></span></i><b><span lang=EN-US>private
  static </span></b><span lang=EN-US>AppUsageLog[] <i>appUsageLogs </i>= <i>initAppUsageLogs</i>();<br>
  <span style='mso-spacerun:yes'>   </span><span
  style='mso-spacerun:yes'> </span><i>//</i></span><i><span style='font-family:
  宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>错误相关信息的数组</span><span
  lang=EN-US><br>
  <span style='mso-spacerun:yes'>    </span></span></i><b><span lang=EN-US>private
  static </span></b><span lang=EN-US>AppErrorLog[] <i>appErrorLogs </i>= <i>initAppErrorLogs</i>();<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><i>// 2.1 </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>初始化每类</span><span lang=EN-US>log</span></i><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>的公共属性值</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>    </span></span></i><b><span lang=EN-US>private
  static void </span></b><span lang=EN-US>initLogCommon(AppBaseLog baselog){<br>
  <span style='mso-spacerun:yes'>        </span><i>// </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>日志创建时间</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>        </span></span></i><span lang=EN-US>baselog.setCreatedAtMs(System.<i>currentTimeMillis</i>());<br>
  <span style='mso-spacerun:yes'>        </span><i>// appid<br>
  <span style='mso-spacerun:yes'>        </span></i>baselog.setAppId(<i>appId</i>);<br>
  <span style='mso-spacerun:yes'>        </span><i>// </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>租户唯一标识</span><span lang=EN-US>,</span></i><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>企业用户</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>        </span></span></i><span lang=EN-US>String
  tenantId = <i>tenantIds</i>[<i>random</i>.nextInt(<i>tenantIds</i>.<b>length</b>)];<br>
  <span style='mso-spacerun:yes'>        </span><b>if </b>(tenantId != <b>null</b>)
  {<br>
  <span style='mso-spacerun:yes'>           
  </span>baselog.setTenantId(tenantId);<br>
  <span style='mso-spacerun:yes'>        </span>}<br>
  <span style='mso-spacerun:yes'>        </span>baselog.setTenantId(<i>tenantIds</i>[<i>random</i>.nextInt(<i>tenantIds</i>.<b>length</b>)]);<br>
  <span style='mso-spacerun:yes'>        </span><i>// </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>设备唯一标识</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>        </span></span></i><span lang=EN-US>baselog.setDeviceId(<i>deviceIds</i>[<i>random</i>.nextInt(<i>deviceIds</i>.<b>length</b>)]);<br>
  <span style='mso-spacerun:yes'>        </span><i>// </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>版本</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>        </span></span></i><span lang=EN-US>baselog.setAppVersion(<i>appVersions</i>[<i>random</i>.nextInt(<i>appVersions</i>.<b>length</b>)]);<br>
  <span style='mso-spacerun:yes'>        </span><i>// </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>渠道</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>        </span></span></i><span lang=EN-US>baselog.setAppChannel(<i>appChannels</i>[<i>random</i>.nextInt(<i>appChannels</i>.<b>length</b>)]);<br>
  <span style='mso-spacerun:yes'>        </span><i>// </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>平台</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>        </span></span></i><span lang=EN-US>baselog.setAppPlatform(<i>appPlatforms</i>[<i>random</i>.nextInt(<i>appPlatforms</i>.<b>length</b>)]);<br>
  <span style='mso-spacerun:yes'>        </span><i>// </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>操作系统</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>        </span></span></i><span lang=EN-US>baselog.setOsType(<i>osTypes</i>[<i>random</i>.nextInt(<i>osTypes</i>.<b>length</b>)]);<br>
  <span style='mso-spacerun:yes'>        </span><i>// </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>机型</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'> </span><span style='mso-spacerun:yes'>      
  </span></span></i><span lang=EN-US>baselog.setDeviceStyle(<i>deviceStyles</i>[<i>random</i>.nextInt(<i>deviceStyles</i>.<b>length</b>)]);<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><i>// 2.2 </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>启动相关信息的数组</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>    </span></span></i><b><span lang=EN-US>private
  static </span></b><span lang=EN-US>AppStartupLog[] initAppStartupLogs() {<br>
  <br>
  <span style='mso-spacerun:yes'>        </span>AppStartupLog[] result = <b>new
  </b>AppStartupLog[10];<br>
  <br>
  <span style='mso-spacerun:yes'>        </span><b>for </b>(<b>int </b>i = 0; i
  &lt; 10; i++) {<br>
  <span style='mso-spacerun:yes'>            </span>AppStartupLog appStartupLog
  = <b>new </b>AppStartupLog();<br>
  <br>
  <span style='mso-spacerun:yes'>            </span><i>// </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>初始化公共屬性值</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>            </span>initLogCommon</span></i><span
  lang=EN-US>(appStartupLog);<br>
  <br>
  <span style='mso-spacerun:yes'>            </span><i>//</i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>国家</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>            </span></span></i><span
  lang=EN-US>appStartupLog.setCountry(<i>countrys</i>[<i>random</i>.nextInt(<i>countrys</i>.<b>length</b>)]);<br>
  <span style='mso-spacerun:yes'>            </span><i>//</i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>省份</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'> </span><span
  style='mso-spacerun:yes'>           </span></span></i><span lang=EN-US>appStartupLog.setProvince(<i>provinces</i>[<i>random</i>.nextInt(<i>provinces</i>.<b>length</b>)]);<br>
  <span style='mso-spacerun:yes'>            </span><i>//</i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>网络</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>            </span></span></i><span
  lang=EN-US>appStartupLog.setNetwork(<i>networks</i>[<i>random</i>.nextInt(<i>networks</i>.<b>length</b>)]);<br>
  <span style='mso-spacerun:yes'>            </span><i>//</i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>运营商</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>            </span></span></i><span
  lang=EN-US>appStartupLog.setCarrier(<i>carriers</i>[<i>random</i>.nextInt(<i>carriers</i>.<b>length</b>)]);<br>
  <span style='mso-spacerun:yes'>            </span><i>//</i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>品牌</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>            </span></span></i><span
  lang=EN-US>appStartupLog.setBrand(<i>brands</i>[<i>random</i>.nextInt(<i>brands</i>.<b>length</b>)]);<br>
  <span style='mso-spacerun:yes'>            </span><i>//</i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>分辨率</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>            </span></span></i><span
  lang=EN-US>appStartupLog.setScreenSize(<i>screenSizes</i>[<i>random</i>.nextInt(<i>screenSizes</i>.<b>length</b>)]);<br>
  <br>
  <span style='mso-spacerun:yes'>            </span>result[i] = appStartupLog;<br>
  <span style='mso-spacerun:yes'>        </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>        </span><b>return </b>result;<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><i>// 2.3 </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>页面跳转相关信息的数组</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>    </span></span></i><b><span lang=EN-US>private
  static </span></b><span lang=EN-US>AppPageLog[] initAppPageLogs() {<br>
  <br>
  <span style='mso-spacerun:yes'>        </span>AppPageLog[] result = <b>new </b>AppPageLog[10];<br>
  <br>
  <span style='mso-spacerun:yes'>        </span><b>for </b>(<b>int </b>i = 0; i
  &lt; 10; i++) {<br>
  <br>
  <span style='mso-spacerun:yes'>            </span>AppPageLog appPageLog = <b>new
  </b>AppPageLog();<br>
  <br>
  <span style='mso-spacerun:yes'>            </span><i>// </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>初始化公共屬性值</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>            </span>initLogCommon</span></i><span
  lang=EN-US>(appPageLog);<br>
  <br>
  <span style='mso-spacerun:yes'>            </span><i>// </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>页面</span><span lang=EN-US>id<br>
  <span style='mso-spacerun:yes'>            </span></span></i><span
  lang=EN-US>String pageId = <i>pageIds</i>[<i>random</i>.nextInt(<i>pageIds</i>.<b>length</b>)];<br>
  <span style='mso-spacerun:yes'>           
  </span>appPageLog.setPageId(pageId);<br>
  <br>
  <span style='mso-spacerun:yes'>            </span><i>// </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>访问頁面顺序号</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>            </span></span></i><b><span
  lang=EN-US>int </span></b><span lang=EN-US>visitIndex = <i>visitIndexs</i>[<i>random</i>.nextInt(<i>visitIndexs</i>.<b>length</b>)];<br>
  <span style='mso-spacerun:yes'>           
  </span>appPageLog.setVisitIndex(visitIndex);<br>
  <br>
  <span style='mso-spacerun:yes'>            </span><i>// </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>下一个访问页面，如为空则表示为退出应用的页面</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>            </span></span></i><span
  lang=EN-US>String nextPage = <i>nextPages</i>[<i>random</i>.nextInt(<i>nextPages</i>.<b>length</b>)];<br>
  <span style='mso-spacerun:yes'>            </span><b>while </b>(pageId.equals(nextPage))
  {<br>
  <span style='mso-spacerun:yes'>                </span>nextPage = <i>nextPages</i>[<i>random</i>.nextInt(<i>nextPages</i>.<b>length</b>)];<br>
  <span style='mso-spacerun:yes'>            </span>}<br>
  <span style='mso-spacerun:yes'>           
  </span>appPageLog.setNextPage(nextPage);<br>
  <br>
  <span style='mso-spacerun:yes'>            </span><i>//</i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>当前页面停留时长</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>            </span></span></i><span
  lang=EN-US>Long stayDurationSecs = <i>stayDurationSecsS</i>[<i>random</i>.nextInt(<i>stayDurationSecsS</i>.<b>length</b>)];<br>
  <span style='mso-spacerun:yes'>           
  </span>appPageLog.setStayDurationSecs(stayDurationSecs);<br>
  <br>
  <span style='mso-spacerun:yes'>            </span>result[i] = appPageLog;<br>
  <span style='mso-spacerun:yes'>        </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>        </span><b>return </b>result;<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><i>// 2.4 </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>事件相关信息的数组</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>    </span></span></i><b><span lang=EN-US>private
  static </span></b><span lang=EN-US>AppEventLog[] initAppEventLogs() {<br>
  <br>
  <span style='mso-spacerun:yes'>        </span>AppEventLog[] result = <b>new </b>AppEventLog[10];<br>
  <br>
  <span style='mso-spacerun:yes'>        </span><b>for </b>(<b>int </b>i = 0; i
  &lt; 10; i++) {<br>
  <span style='mso-spacerun:yes'>            </span>AppEventLog appEventLog = <b>new
  </b>AppEventLog();<br>
  <br>
  <span style='mso-spacerun:yes'>            </span><i>// </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>初始化公共屬性值</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>            </span>initLogCommon</span></i><span
  lang=EN-US>(appEventLog);<br>
  <br>
  <span style='mso-spacerun:yes'>            </span><i>//</i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>事件唯一标识</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>            </span></span></i><span
  lang=EN-US>appEventLog.setEventId(<i>eventIds</i>[<i>random</i>.nextInt(<i>eventIds</i>.<b>length</b>)]);<br>
  <span style='mso-spacerun:yes'>            </span><i>//</i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>事件持续时长</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>            </span></span></i><span
  lang=EN-US>appEventLog.setEventDurationSecs(<i>eventDurationSecsS</i>[<i>random</i>.nextInt(<i>eventDurationSecsS</i>.<b>length</b>)]);<br>
  <span style='mso-spacerun:yes'>            </span><i>// </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>事件参数</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>            </span></span></i><span
  lang=EN-US>appEventLog.setParamKeyValueMap(<i>paramKeyValueMapsS</i>[<i>random</i>.nextInt(<i>paramKeyValueMapsS</i>.<b>length</b>)]);<br>
  <br>
  <span style='mso-spacerun:yes'>            </span>result[i] = appEventLog;<br>
  <span style='mso-spacerun:yes'>        </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>        </span><b>return </b>result;<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  <br>
  <br>
  <span style='mso-spacerun:yes'>    </span><i>// 2.5 app</i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>使用情况相关信息的数组</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>    </span></span></i><b><span lang=EN-US>private
  static </span></b><span lang=EN-US>AppUsageLog[] initAppUsageLogs() {<br>
  <br>
  <span style='mso-spacerun:yes'>        </span>AppUsageLog[] result = <b>new </b>AppUsageLog[10];<br>
  <br>
  <span style='mso-spacerun:yes'>        </span><b>for </b>(<b>int </b>i = 0; i
  &lt; 10; i++) {<br>
  <span style='mso-spacerun:yes'>            </span>AppUsageLog appUsageLog = <b>new
  </b>AppUsageLog();<br>
  <br>
  <span style='mso-spacerun:yes'>            </span><i>// </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>初始化公共屬性值</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>            </span>initLogCommon</span></i><span
  lang=EN-US>(appUsageLog);<br>
  <br>
  <span style='mso-spacerun:yes'>            </span><i>//</i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>单次使用时长</span><span lang=EN-US>(</span></i><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>秒数</span><span lang=EN-US>),</span></i><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>指一次启动内应用在前台的持续时长</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>            </span></span></i><span
  lang=EN-US>appUsageLog.setSingleUseDurationSecs(<i>singleUseDurationSecsS</i>[<i>random</i>.nextInt(<i>singleUseDurationSecsS</i>.<b>length</b>)]);<br>
  <br>
  <span style='mso-spacerun:yes'>            </span>result[i] = appUsageLog;<br>
  <span style='mso-spacerun:yes'>        </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>        </span><b>return </b>result;<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><i>// 2.6 </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>错误相关信息的数组</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>    </span></span></i><b><span lang=EN-US>private
  static </span></b><span lang=EN-US>AppErrorLog[] initAppErrorLogs() {<br>
  <br>
  <span style='mso-spacerun:yes'>        </span>AppErrorLog[] result = <b>new </b>AppErrorLog[10];<br>
  <br>
  <span style='mso-spacerun:yes'>        </span><b>for </b>(<b>int </b>i = 0; i
  &lt; 10; i++) {<br>
  <span style='mso-spacerun:yes'>            </span>AppErrorLog appErrorLog = <b>new
  </b>AppErrorLog();<br>
  <br>
  <span style='mso-spacerun:yes'>            </span><i>initLogCommon</i>(appErrorLog);<br>
  <br>
  <span style='mso-spacerun:yes'>            </span><i>//</i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>错误摘要</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>            </span></span></i><span
  lang=EN-US>appErrorLog.setErrorBrief(<i>errorBriefs</i>[<i>random</i>.nextInt(<i>errorBriefs</i>.<b>length</b>)]);<br>
  <span style='mso-spacerun:yes'>    </span><span
  style='mso-spacerun:yes'>        </span><i>//</i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>错误详情</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>            </span></span></i><span
  lang=EN-US>appErrorLog.setErrorDetail(<i>errorDetails</i>[<i>random</i>.nextInt(<i>errorDetails</i>.<b>length</b>)]);<br>
  <br>
  <span style='mso-spacerun:yes'>            </span>result[i] = appErrorLog;<br>
  <span style='mso-spacerun:yes'>        </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>        </span><b>return </b>result;<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><i>// 3 </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>循环发送数据</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>    </span></span></i><b><span lang=EN-US>public
  static void </span></b><span lang=EN-US>main(String[] args) {<br>
  <br>
  <span style='mso-spacerun:yes'>        </span><i>//</i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>发送数据</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>        </span></span></i><b><span lang=EN-US>for
  </span></b><span lang=EN-US>(<b>int </b>i = 1; i &lt;= 200000000; i++) {<br>
  <br>
  <span style='mso-spacerun:yes'>            </span>AppLogEntity logEntity = <b>new
  </b>AppLogEntity();<br>
  <br>
  <span style='mso-spacerun:yes'>            </span><i>// </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>封装</span><span lang=EN-US>5</span></i><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>种</span><span lang=EN-US>log</span></i><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>数据</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>            </span></span></i><span
  lang=EN-US>logEntity.setAppStartupLogs(<b>new </b>AppStartupLog[]{<i>appStartupLogs</i>[<i>random</i>.nextInt(<i>appStartupLogs</i>.<b>length</b>)]});<br>
  <span style='mso-spacerun:yes'>  </span><span
  style='mso-spacerun:yes'>          </span>logEntity.setAppEventLogs(<b>new </b>AppEventLog[]{<i>appEventLogs</i>[<i>random</i>.nextInt(<i>appEventLogs</i>.<b>length</b>)]});<br>
  <span style='mso-spacerun:yes'>            </span>logEntity.setAppErrorLogs(<b>new
  </b>AppErrorLog[]{<i>appErrorLogs</i>[<i>random</i>.nextInt(<i>appErrorLogs</i>.<b>length</b>)]});<br>
  <span style='mso-spacerun:yes'>            </span>logEntity.setAppPageLogs(<b>new
  </b>AppPageLog[]{<i>appPageLogs</i>[<i>random</i>.nextInt(<i>appPageLogs</i>.<b>length</b>)]});<br>
  <span style='mso-spacerun:yes'>            </span>logEntity.setAppUsageLogs(<b>new
  </b>AppUsageLog[]{<i>appUsageLogs</i>[<i>random</i>.nextInt(<i>appUsageLogs</i>.<b>length</b>)]});<br>
  <br>
  <span style='mso-spacerun:yes'>            </span><b>try </b>{<br>
  <span style='mso-spacerun:yes'>                </span><i>// </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>将对象转换成</span><span lang=EN-US>json string<br>
  <span style='mso-spacerun:yes'>                </span></span></i><span
  lang=EN-US>String json = JSONObject.<i>toJSONString</i>(logEntity);<br>
  <br>
  <span style='mso-spacerun:yes'>                </span><i>// </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>网络请求发送</span><span lang=EN-US>json</span></i><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>数据</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>                </span></span></i><span
  lang=EN-US>UploadUtil.<i>upload</i>(json);<br>
  <br>
  <span style='mso-spacerun:yes'>                </span><i>// </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>每隔</span><span lang=EN-US>5</span></i><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>秒发送一条数据</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>                </span></span></i><span
  lang=EN-US>Thread.<i>sleep</i>(5000);<br>
  <span style='mso-spacerun:yes'>            </span>} <b>catch </b>(Exception e)
  {<br>
  <span style='mso-spacerun:yes'>                </span>e.printStackTrace();<br>
  <span style='mso-spacerun:yes'>            </span>}<br>
  <span style='mso-spacerun:yes'>        </span>}<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  }</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<h3 style='margin:0cm;margin-bottom:.0001pt'><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'>4.2.3 </span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>创建数据上传的工具类</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'><o:p></o:p></span></h3>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none;mso-border-alt:
 solid windowtext .5pt;mso-yfti-tbllook:1184;mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
 mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=548 valign=top style='width:411.1pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><b><span lang=EN-US>package </span></b><span lang=EN-US>com.atguigu.app.client;<br>
  <b>import </b>java.io.OutputStream;<br>
  <b>import </b>java.net.HttpURLConnection;<br>
  <b>import </b>java.net.URL;<br>
  <br>
  <i>/**<br>
  <span style='mso-spacerun:yes'> </span>* Created by atguigu on 2017/10/25<br>
  <span style='mso-spacerun:yes'> </span>*/<br>
  </i><b>public class </b>UploadUtil {<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><i>/**<br>
  <span style='mso-spacerun:yes'>     </span>* </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>上传日志</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>     </span>*/<br>
  <span style='mso-spacerun:yes'>    </span></span></i><b><span lang=EN-US>public
  static void </span></b><span lang=EN-US>upload(String json) <b>throws </b>Exception
  {<br>
  <br>
  <span style='mso-spacerun:yes'>        </span><b>try</b>{<br>
  <span style='mso-spacerun:yes'>            </span><i>// 1 </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>设置请求的</span><span lang=EN-US>URL<br>
  // URL url = new
  URL(&quot;http://hadoop102:8080/app_logs/coll/index&quot;);// </span></i><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>生产地址</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>            </span>URL url = <b>new </b>URL(<b>&quot;http://localhost:8080/coll/index&quot;</b>);//
  </span></i><i><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
  mso-hansi-font-family:"Times New Roman"'>测试地址</span><span lang=EN-US><o:p></o:p></span></i></p>
  <p class=MsoNormal><span lang=EN-US><br>
  <br>
  <span style='mso-spacerun:yes'>            </span><i>// 2 </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>获取连接</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>            </span></span></i><span
  lang=EN-US>HttpURLConnection conn = (HttpURLConnection) url.openConnection();<br>
  <br>
  <span style='mso-spacerun:yes'>            </span><i>// 2.1 </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>设置请求方式为</span><span lang=EN-US>post<br>
  <span style='mso-spacerun:yes'>            </span></span></i><span
  lang=EN-US>conn.setRequestMethod(<b>&quot;POST&quot;</b>);<br>
  <br>
  <span style='mso-spacerun:yes'>            </span><i>// 2.2 </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>允许上传数据</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>   </span><span
  style='mso-spacerun:yes'>         </span></span></i><span lang=EN-US>conn.setDoOutput(<b>true</b>);<br>
  <br>
  <span style='mso-spacerun:yes'>            </span><i>// 2.3 </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>时间头用来供</span><span lang=EN-US>server</span></i><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>进行时钟校对的</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>            </span></span></i><span
  lang=EN-US>conn.setRequestProperty(<b>&quot;clientTime&quot;</b>,System.<i>currentTimeMillis</i>()
  + <b>&quot;&quot;</b>);<br>
  <br>
  <span style='mso-spacerun:yes'>            </span><i>// 2.4 </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>设置请求的头信息</span><span lang=EN-US>,</span></i><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>设置内容类型</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>            </span></span></i><span
  lang=EN-US>conn.setRequestProperty(<b>&quot;Content-Type&quot;</b>, <b>&quot;application/json&quot;</b>);<br>
  <br>
  <span style='mso-spacerun:yes'>            </span><i>// 3 </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>获取输出流</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>            </span></span></i><span
  lang=EN-US>OutputStream out = conn.getOutputStream();<br>
  <span style='mso-spacerun:yes'>            </span><i>// 3.1 </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>向输出流里面写数据</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>            </span></span></i><span
  lang=EN-US>out.write(json.getBytes());<br>
  <span style='mso-spacerun:yes'>            </span>out.flush();<br>
  <span style='mso-spacerun:yes'>            </span><i>// 3.2 </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>关闭资源</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>            </span></span></i><span
  lang=EN-US>out.close();<br>
  <br>
  <span style='mso-spacerun:yes'>            </span><i>// 4 </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>获取响应码</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'> </span><span
  style='mso-spacerun:yes'>           </span></span></i><b><span lang=EN-US>int
  </span></b><span lang=EN-US>code = conn.getResponseCode();<br>
  <span style='mso-spacerun:yes'>            </span>System.<b><i>out</i></b>.println(code);<br>
  <span style='mso-spacerun:yes'>        </span>}<br>
  <span style='mso-spacerun:yes'>        </span><b>catch </b>(Exception e){<br>
  <span style='mso-spacerun:yes'>            </span>e.printStackTrace();<br>
  <span style='mso-spacerun:yes'>        </span>}<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  }</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<h1 style='margin:0cm;margin-bottom:.0001pt'><span lang=X-NONE
style='font-size:15.0pt;line-height:240%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>五</span><span
lang=X-NONE style='font-size:15.0pt;line-height:240%'> </span><span
lang=X-NONE style='font-size:15.0pt;line-height:240%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>数据收集模块</span><span
lang=X-NONE style='font-size:15.0pt;line-height:240%'><o:p></o:p></span></h1>

<h2 style='margin:0cm;margin-bottom:.0001pt'><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'>5.1 Web</span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%;font-family:黑体;mso-ascii-font-family:
Arial;mso-hansi-font-family:Arial'>数据收集模块</span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'><o:p></o:p></span></h2>

<h3 style='margin:0cm;margin-bottom:.0001pt'><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'>5.1.0 </span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>数据收集模块集群部署规划</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'><o:p></o:p></span></h3>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none;mso-border-alt:
 solid windowtext .5pt;mso-yfti-tbllook:1184;mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
 mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes'>
  <td width=182 valign=top style='width:136.6pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span lang=EN-US>Hadoop102</span></b><b
  style='mso-bidi-font-weight:normal'><span style='font-family:宋体;mso-ascii-font-family:
  "Times New Roman";mso-hansi-font-family:"Times New Roman"'>主机</span><span
  lang=EN-US><o:p></o:p></span></b></p>
  </td>
  <td width=189 valign=top style='width:142.05pt;border:solid windowtext 1.0pt;
  border-left:none;mso-border-left-alt:solid windowtext .5pt;mso-border-alt:
  solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span lang=EN-US>Hadoop103</span></b><b
  style='mso-bidi-font-weight:normal'><span style='font-family:宋体;mso-ascii-font-family:
  "Times New Roman";mso-hansi-font-family:"Times New Roman"'>主机</span><span
  lang=EN-US><o:p></o:p></span></b></p>
  </td>
  <td width=182 valign=top style='width:136.75pt;border:solid windowtext 1.0pt;
  border-left:none;mso-border-left-alt:solid windowtext .5pt;mso-border-alt:
  solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span lang=EN-US>Hadoop104</span></b><b
  style='mso-bidi-font-weight:normal'><span style='font-family:宋体;mso-ascii-font-family:
  "Times New Roman";mso-hansi-font-family:"Times New Roman"'>主机</span><span
  lang=EN-US><o:p></o:p></span></b></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1'>
  <td width=182 valign=top style='width:136.6pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>Zookeeper3.4.10</span></p>
  </td>
  <td width=189 valign=top style='width:142.05pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>Zookeeper3.4.10</span></p>
  </td>
  <td width=182 valign=top style='width:136.75pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>Zookeeper3.4.10</span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:2'>
  <td width=182 valign=top style='width:136.6pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>kafka_2.11-0.11.0.0</span></p>
  </td>
  <td width=189 valign=top style='width:142.05pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>kafka_2.11-0.11.0.0</span></p>
  </td>
  <td width=182 valign=top style='width:136.75pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>kafka_2.11-0.11.0.0</span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:3'>
  <td width=182 valign=top style='width:136.6pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>Flume1.7.0</span></p>
  </td>
  <td width=189 valign=top style='width:142.05pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=182 valign=top style='width:136.75pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US><o:p>&nbsp;</o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:4'>
  <td width=182 valign=top style='width:136.6pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>Hadoop2.7.2(namenode)</span></p>
  <p class=MsoNormal><span lang=EN-US>Hadoop(datanode)</span></p>
  </td>
  <td width=189 valign=top style='width:142.05pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>Hadoop2.7.2(datanode)</span></p>
  </td>
  <td width=182 valign=top style='width:136.75pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>Hadoop2.7.2(datanode)</span></p>
  <p class=MsoNormal><span lang=EN-US>Hadoop(secondarynamenode)</span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:5'>
  <td width=182 valign=top style='width:136.6pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>Hadoop(nodemanager)</span></p>
  </td>
  <td width=189 valign=top style='width:142.05pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>Hadoop(nodemanager)</span></p>
  <p class=MsoNormal><span lang=EN-US>Hadoop(resourcemanager)</span></p>
  </td>
  <td width=182 valign=top style='width:136.75pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>Hadoop(nodemanager)</span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:6;mso-yfti-lastrow:yes'>
  <td width=182 valign=top style='width:136.6pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>Tomcat7.0.72</span></p>
  </td>
  <td width=189 valign=top style='width:142.05pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=182 valign=top style='width:136.75pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US><o:p>&nbsp;</o:p></span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<h3 style='margin:0cm;margin-bottom:.0001pt'><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'>5.1.1 </span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>创建</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'>web</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>工程，导入</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'>pom</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>文件</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'><o:p></o:p></span></h3>

<p class=MsoNormal><span lang=EN-US>1</span><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>）创建</span><span
lang=EN-US>web</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>工程：</span><span lang=EN-US>app_logs_collect_web</span></p>

<p class=MsoNormal><span lang=EN-US style='mso-no-proof:yes'><!--[if gte vml 1]><v:shape
 id="_x0000_i1062" type="#_x0000_t75" alt="" style='width:416pt;height:304pt;
 visibility:visible;mso-width-percent:0;mso-height-percent:0;
 mso-width-percent:0;mso-height-percent:0'>
 <v:imagedata src="APP信息统计分析系统.fld/image018.png" o:title=""/>
</v:shape><![endif]--><![if !vml]><img border=0 width=416 height=304
src="APP信息统计分析系统.fld/image018.png" v:shapes="_x0000_i1062"><![endif]></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-no-proof:yes'><!--[if gte vml 1]><v:shape
 id="_x0000_i1061" type="#_x0000_t75" alt="" style='width:415pt;height:304pt;
 visibility:visible;mso-width-percent:0;mso-height-percent:0;
 mso-width-percent:0;mso-height-percent:0'>
 <v:imagedata src="APP信息统计分析系统.fld/image019.png" o:title=""/>
</v:shape><![endif]--><![if !vml]><img border=0 width=415 height=304
src="APP信息统计分析系统.fld/image019.png" v:shapes="_x0000_i1061"><![endif]><o:p></o:p></span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>2</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）添加</span><span lang=EN-US>maven</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>工具</span></p>

<p class=MsoNormal><span lang=EN-US style='mso-no-proof:yes'><!--[if gte vml 1]><v:shape
 id="_x0000_i1060" type="#_x0000_t75" alt="" style='width:378pt;height:201pt;
 visibility:visible;mso-width-percent:0;mso-height-percent:0;
 mso-width-percent:0;mso-height-percent:0'>
 <v:imagedata src="APP信息统计分析系统.fld/image020.png" o:title=""/>
</v:shape><![endif]--><![if !vml]><img border=0 width=378 height=201
src="APP信息统计分析系统.fld/image020.png" v:shapes="_x0000_i1060"><![endif]><o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-no-proof:yes'><!--[if gte vml 1]><v:shape
 id="_x0000_i1059" type="#_x0000_t75" alt="" style='width:415pt;height:337pt;
 visibility:visible;mso-width-percent:0;mso-height-percent:0;
 mso-width-percent:0;mso-height-percent:0'>
 <v:imagedata src="APP信息统计分析系统.fld/image021.png" o:title=""/>
</v:shape><![endif]--><![if !vml]><img border=0 width=415 height=337
src="APP信息统计分析系统.fld/image021.png" v:shapes="_x0000_i1059"><![endif]><o:p></o:p></span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>3</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）导入</span><span lang=EN-US>pom</span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>文件，并刷新一下</span><span
lang=EN-US>maven</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none;mso-border-alt:
 solid windowtext .5pt;mso-yfti-tbllook:1184;mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
 mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=548 valign=top style='width:411.1pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><i><span lang=EN-US>&lt;?</span></i><b><span lang=EN-US>xml
  version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;</span></b><i><span
  lang=EN-US>?&gt;<br>
  </span></i><span lang=EN-US>&lt;<b>project
  xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;<br>
  <span style='mso-spacerun:yes'>        
  </span>xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;<br>
  <span style='mso-spacerun:yes'>         </span>xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0
  http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</b>&gt;<br>
  <span style='mso-spacerun:yes'>    </span>&lt;<b>modelVersion</b>&gt;4.0.0&lt;/<b>modelVersion</b>&gt;<br>
  <br>
  <span style='mso-spacerun:yes'>    </span>&lt;<b>groupId</b>&gt;com.atguigu&lt;/<b>groupId</b>&gt;<br>
  <span style='mso-spacerun:yes'>    </span>&lt;<b>artifactId</b>&gt;app_logs_collect_web&lt;/<b>artifactId</b>&gt;<br>
  <span style='mso-spacerun:yes'>    </span>&lt;<b>version</b>&gt;1.0-SNAPSHOT&lt;/<b>version</b>&gt;<br>
  <span style='mso-spacerun:yes'> </span><span style='mso-spacerun:yes'>  
  </span><span style='color:red'>&lt;<b>packaging</b>&gt;war&lt;/<b>packaging</b>&gt;</span><br>
  <br>
  <span style='mso-spacerun:yes'>    </span><i>&lt;!--tomcat</i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>插件</span><span lang=EN-US>--&gt;<br>
  <span style='mso-spacerun:yes'>    </span></span></i><span lang=EN-US>&lt;<b>build</b>&gt;<br>
  <span style='mso-spacerun:yes'>        </span>&lt;<b>plugins</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>plugin</b>&gt;<br>
  <span style='mso-spacerun:yes'>                </span>&lt;<b>groupId</b>&gt;org.apache.tomcat.maven&lt;/<b>groupId</b>&gt;<br>
  <span style='mso-spacerun:yes'>                </span>&lt;<b>artifactId</b>&gt;tomcat7-maven-plugin&lt;/<b>artifactId</b>&gt;<br>
  <span style='mso-spacerun:yes'>                </span>&lt;<b>version</b>&gt;2.2&lt;/<b>version</b>&gt;<br>
  <span style='mso-spacerun:yes'>                </span>&lt;<b>configuration</b>&gt;<br>
  <span style='mso-spacerun:yes'>       </span><span
  style='mso-spacerun:yes'>             </span><i>&lt;!-- http port --&gt;<br>
  <span style='mso-spacerun:yes'>                    </span></i>&lt;<b>port</b>&gt;8080&lt;/<b>port</b>&gt;<br>
  <span style='mso-spacerun:yes'>                    </span>&lt;<b>path</b>&gt;/&lt;/<b>path</b>&gt;<br>
  <span style='mso-spacerun:yes'>                </span>&lt;/<b>configuration</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;/<b>plugin</b>&gt;<br>
  <span style='mso-spacerun:yes'>        </span>&lt;/<b>plugins</b>&gt;<br>
  <span style='mso-spacerun:yes'>    </span>&lt;/<b>build</b>&gt;<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><i>&lt;!--</i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>日志框架版本号</span><span lang=EN-US>--&gt;<br>
  <span style='mso-spacerun:yes'>    </span></span></i><span lang=EN-US>&lt;<b>properties</b>&gt;<br>
  <span style='mso-spacerun:yes'>        </span>&lt;<b>log4j.version</b>&gt;1.2.17&lt;/<b>log4j.version</b>&gt;<br>
  <span style='mso-spacerun:yes'>        </span>&lt;<b>slf4j.version</b>&gt;1.7.22&lt;/<b>slf4j.version</b>&gt;<br>
  <span style='mso-spacerun:yes'>    </span>&lt;/<b>properties</b>&gt;<br>
  <br>
  <span style='mso-spacerun:yes'>    </span>&lt;<b>dependencies</b>&gt;<br>
  <span style='mso-spacerun:yes'>        </span><i>&lt;!--spring</i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>框架</span><span lang=EN-US>--&gt;<br>
  <span style='mso-spacerun:yes'>        </span></span></i><span lang=EN-US>&lt;<b>dependency</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>groupId</b>&gt;org.springframework&lt;/<b>groupId</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>artifactId</b>&gt;spring-context-support&lt;/<b>artifactId</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>version</b>&gt;4.3.4.RELEASE&lt;/<b>version</b>&gt;<br>
  <span style='mso-spacerun:yes'>        </span>&lt;/<b>dependency</b>&gt;<br>
  <br>
  <span style='mso-spacerun:yes'>        </span>&lt;<b>dependency</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>groupId</b>&gt;org.springframework&lt;/<b>groupId</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>artifactId</b>&gt;spring-webmvc&lt;/<b>artifactId</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>version</b>&gt;4.3.4.RELEASE&lt;/<b>version</b>&gt;<br>
  <span style='mso-spacerun:yes'>        </span>&lt;/<b>dependency</b>&gt;<br>
  <span style='mso-spacerun:yes'>        </span>&lt;<b>dependency</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>groupId</b>&gt;commons-io&lt;/<b>groupId</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>artifactId</b>&gt;commons-io&lt;/<b>artifactId</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>version</b>&gt;2.5&lt;/<b>version</b>&gt;<br>
  <span style='mso-spacerun:yes'>        </span>&lt;/<b>dependency</b>&gt;<br>
  <br>
  <span style='mso-spacerun:yes'>        </span>&lt;<b>dependency</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>groupId</b>&gt;org.apache.commons&lt;/<b>groupId</b>&gt;<br>
  <span style='mso-spacerun:yes'>           </span><span
  style='mso-spacerun:yes'> </span>&lt;<b>artifactId</b>&gt;commons-pool2&lt;/<b>artifactId</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>version</b>&gt;2.4.2&lt;/<b>version</b>&gt;<br>
  <span style='mso-spacerun:yes'>        </span>&lt;/<b>dependency</b>&gt;<br>
  <span style='mso-spacerun:yes'>        </span>&lt;<b>dependency</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>groupId</b>&gt;javax.servlet&lt;/<b>groupId</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>artifactId</b>&gt;javax.servlet-api&lt;/<b>artifactId</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>version</b>&gt;3.0.1&lt;/<b>version</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>scope</b>&gt;provided&lt;/<b>scope</b>&gt;<br>
  <span style='mso-spacerun:yes'>        </span>&lt;/<b>dependency</b>&gt;<br>
  <br>
  <span style='mso-spacerun:yes'>        </span><i>&lt;!--kafka</i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>框架</span><span lang=EN-US>--&gt;<br>
  <span style='mso-spacerun:yes'>        </span></span></i><span lang=EN-US>&lt;<b>dependency</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>groupId</b>&gt;org.apache.kafka&lt;/<b>groupId</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>artifactId</b>&gt;kafka-clients&lt;/<b>artifactId</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>version</b>&gt;0.10.2.1&lt;/<b>version</b>&gt;<br>
  <span style='mso-spacerun:yes'>        </span>&lt;/<b>dependency</b>&gt;<br>
  <br>
  <span style='mso-spacerun:yes'>        </span><i>&lt;!--</i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>打印日志框架</span><span lang=EN-US>--&gt;<br>
  <span style='mso-spacerun:yes'>        </span></span></i><span lang=EN-US>&lt;<b>dependency</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>groupId</b>&gt;org.slf4j&lt;/<b>groupId</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>artifactId</b>&gt;jcl-over-slf4j&lt;/<b>artifactId</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>version</b>&gt;${slf4j.version}&lt;/<b>version</b>&gt;<br>
  <span style='mso-spacerun:yes'>        </span>&lt;/<b>dependency</b>&gt;<br>
  <span style='mso-spacerun:yes'>        </span>&lt;<b>dependency</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>groupId</b>&gt;org.slf4j&lt;/<b>groupId</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>artifactId</b>&gt;slf4j-api&lt;/<b>artifactId</b>&gt;<br>
  <span style='mso-spacerun:yes'>        </span><span
  style='mso-spacerun:yes'>    </span>&lt;<b>version</b>&gt;${slf4j.version}&lt;/<b>version</b>&gt;<br>
  <span style='mso-spacerun:yes'>        </span>&lt;/<b>dependency</b>&gt;<br>
  <span style='mso-spacerun:yes'>        </span>&lt;<b>dependency</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>groupId</b>&gt;org.slf4j&lt;/<b>groupId</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>artifactId</b>&gt;slf4j-log4j12&lt;/<b>artifactId</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>version</b>&gt;${slf4j.version}&lt;/<b>version</b>&gt;<br>
  <span style='mso-spacerun:yes'>        </span>&lt;/<b>dependency</b>&gt;<br>
  <span style='mso-spacerun:yes'>        </span>&lt;<b>dependency</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>groupId</b>&gt;log4j&lt;/<b>groupId</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>artifactId</b>&gt;log4j&lt;/<b>artifactId</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>version</b>&gt;${log4j.version}&lt;/<b>version</b>&gt;<br>
  <span style='mso-spacerun:yes'>        </span>&lt;/<b>dependency</b>&gt;<br>
  <br>
  <span style='mso-spacerun:yes'>        </span><i>&lt;!--jackson json</i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>解析框架</span><span lang=EN-US>--&gt;<br>
  <span style='mso-spacerun:yes'>        </span></span></i><span lang=EN-US>&lt;<b>dependency</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>groupId</b>&gt;com.fasterxml.jackson.core&lt;/<b>groupId</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>artifactId</b>&gt;jackson-core&lt;/<b>artifactId</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>version</b>&gt;2.8.8&lt;/<b>version</b>&gt;<br>
  <span style='mso-spacerun:yes'>        </span>&lt;/<b>dependency</b>&gt;<br>
  <span style='mso-spacerun:yes'>        </span>&lt;<b>dependency</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>groupId</b>&gt;com.fasterxml.jackson.core&lt;/<b>groupId</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>artifactId</b>&gt;jackson-databind&lt;/<b>artifactId</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>version</b>&gt;2.8.3&lt;/<b>version</b>&gt;<br>
  <span style='mso-spacerun:yes'>        </span>&lt;/<b>dependency</b>&gt;<br>
  <br>
  <span style='mso-spacerun:yes'>        </span><i>&lt;!--fastjson json</i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>解析框架</span><span lang=EN-US>--&gt;<br>
  <span style='mso-spacerun:yes'>        </span></span></i><span lang=EN-US>&lt;<b>dependency</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>groupId</b>&gt;com.alibaba&lt;/<b>groupId</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>artifactId</b>&gt;fastjson&lt;/<b>artifactId</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>version</b>&gt;1.2.24&lt;/<b>version</b>&gt;<br>
  <span style='mso-spacerun:yes'>        </span>&lt;/<b>dependency</b>&gt;<br>
  <br>
  <span style='mso-spacerun:yes'>        </span><i>&lt;!--</i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>项目公共模块</span><span lang=EN-US>--&gt;<br>
  <span style='mso-spacerun:yes'>        </span></span></i><span lang=EN-US>&lt;<b>dependency</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>groupId</b>&gt;com.atguigu&lt;/<b>groupId</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>artifactId</b>&gt;app_common&lt;/<b>artifactId</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>version</b>&gt;1.0-SNAPSHOT&lt;/<b>version</b>&gt;<br>
  <span style='mso-spacerun:yes'>        </span>&lt;/<b>dependency</b>&gt;<br>
  <br>
  <span style='mso-spacerun:yes'>        </span><i>&lt;!--</i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>加载地理信息</span><span lang=EN-US>--&gt;<br>
  <span style='mso-spacerun:yes'>        </span></span></i><span lang=EN-US>&lt;<b>dependency</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>groupId</b>&gt;com.maxmind.db&lt;/<b>groupId</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>artifactId</b>&gt;maxmind-db&lt;/<b>artifactId</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>version</b>&gt;1.0.0&lt;/<b>version</b>&gt;<br>
  <span style='mso-spacerun:yes'>        </span>&lt;/<b>dependency</b>&gt;<br>
  <span style='mso-spacerun:yes'>    </span>&lt;/<b>dependencies</b>&gt;<br>
  &lt;/<b>project</b>&gt;</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<h3 style='margin:0cm;margin-bottom:.0001pt'><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'>5.1.2 </span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>在</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'>web.xml</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>文件中加载</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'>Spring</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>和</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'>Springmvc</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>配置</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'><o:p></o:p></span></h3>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none;mso-border-alt:
 solid windowtext .5pt;mso-yfti-tbllook:1184;mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
 mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=548 valign=top style='width:411.1pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><i><span lang=EN-US>&lt;?</span></i><b><span lang=EN-US>xml
  version=&quot;1.0&quot; encoding=&quot;ISO-8859-1&quot;</span></b><i><span
  lang=EN-US>?&gt;<br>
  <br>
  </span></i><span lang=EN-US>&lt;<b>web-app<br>
  <span style='mso-spacerun:yes'>        </span>version=&quot;3.0&quot;<br>
  <span style='mso-spacerun:yes'>       
  </span>xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;<br>
  <span style='mso-spacerun:yes'>       
  </span>xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;<br>
  <span style='mso-spacerun:yes'>       
  </span>xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee
  http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot;</b>&gt;<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><i>&lt;!--1 spring</i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>加载配置</span><span lang=EN-US>--&gt;<br>
  <span style='mso-spacerun:yes'>    </span></span></i><span lang=EN-US>&lt;<b>listener</b>&gt;<br>
  <span style='mso-spacerun:yes'>        </span>&lt;<b>listener-class</b>&gt;org.springframework.web.context.ContextLoaderListener&lt;/<b>listener-class</b>&gt;<br>
  <span style='mso-spacerun:yes'>    </span>&lt;/<b>listener</b>&gt;<br>
  <span style='mso-spacerun:yes'>    </span>&lt;<b>context-param</b>&gt;<br>
  <span style='mso-spacerun:yes'>        </span>&lt;<b>param-name</b>&gt;contextConfigLocation&lt;/<b>param-name</b>&gt;<br>
  <span style='mso-spacerun:yes'>        </span>&lt;<b>param-value</b>&gt;classpath:beans.xml&lt;/<b>param-value</b>&gt;<br>
  <span style='mso-spacerun:yes'>    </span>&lt;/<b>context-param</b>&gt;<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><i>&lt;!--2 springmvc</i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>加载配置</span><span lang=EN-US>--&gt;<br>
  <span style='mso-spacerun:yes'> </span><span style='mso-spacerun:yes'>  
  </span></span></i><span lang=EN-US>&lt;<b>servlet</b>&gt;<br>
  <span style='mso-spacerun:yes'>        </span>&lt;<b>servlet-name</b>&gt;dispatcher&lt;/<b>servlet-name</b>&gt;<br>
  <span style='mso-spacerun:yes'>        </span>&lt;<b>servlet-class</b>&gt;org.springframework.web.servlet.DispatcherServlet&lt;/<b>servlet-class</b>&gt;<br>
  <span style='mso-spacerun:yes'>        </span>&lt;<b>init-param</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>param-name</b>&gt;contextConfigLocation&lt;/<b>param-name</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>param-value</b>&gt;classpath:dispatcher-servlet.xml&lt;/<b>param-value</b>&gt;<br>
  <span style='mso-spacerun:yes'>        </span>&lt;/<b>init-param</b>&gt;<br>
  <span style='mso-spacerun:yes'>        </span>&lt;<b>load-on-startup</b>&gt;1&lt;/<b>load-on-startup</b>&gt;<br>
  <span style='mso-spacerun:yes'>    </span>&lt;/<b>servlet</b>&gt;<br>
  <br>
  <span style='mso-spacerun:yes'>    </span>&lt;<b>servlet-mapping</b>&gt;<br>
  <span style='mso-spacerun:yes'>        </span>&lt;<b>servlet-name</b>&gt;dispatcher&lt;/<b>servlet-name</b>&gt;<br>
  <span style='mso-spacerun:yes'>        </span>&lt;<b>url-pattern</b>&gt;/&lt;/<b>url-pattern</b>&gt;<br>
  <span style='mso-spacerun:yes'>    </span>&lt;/<b>servlet-mapping</b>&gt;<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><i>&lt;!--3 </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>解决传输中文乱码</span><span lang=EN-US>--&gt;<br>
  <span style='mso-spacerun:yes'>    </span></span></i><span lang=EN-US>&lt;<b>filter</b>&gt;<br>
  <span style='mso-spacerun:yes'>        </span>&lt;<b>filter-name</b>&gt;CharacterEncodingFilter&lt;/<b>filter-name</b>&gt;<br>
  <span style='mso-spacerun:yes'>        </span>&lt;<b>filter-class</b>&gt;org.springframework.web.filter.CharacterEncodingFilter&lt;/<b>filter-class</b>&gt;<br>
  <span style='mso-spacerun:yes'>        </span>&lt;<b>init-param</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>param-name</b>&gt;encoding&lt;/<b>param-name</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>param-value</b>&gt;UTF-8&lt;/<b>param-value</b>&gt;<br>
  <span style='mso-spacerun:yes'>        </span>&lt;/<b>init-param</b>&gt;<br>
  <span style='mso-spacerun:yes'>        </span>&lt;<b>init-param</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>param-name</b>&gt;forceEncoding&lt;/<b>param-name</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>param-value</b>&gt;true&lt;/<b>param-value</b>&gt;<br>
  <span style='mso-spacerun:yes'>        </span>&lt;/<b>init-param</b>&gt;<br>
  <span style='mso-spacerun:yes'>    </span>&lt;/<b>filter</b>&gt;<br>
  <span style='mso-spacerun:yes'>    </span>&lt;<b>filter-mapping</b>&gt;<br>
  <span style='mso-spacerun:yes'>        </span>&lt;<b>filter-name</b>&gt;CharacterEncodingFilter&lt;/<b>filter-name</b>&gt;<br>
  <span style='mso-spacerun:yes'>        </span>&lt;<b>url-pattern</b>&gt;/*&lt;/<b>url-pattern</b>&gt;<br>
  <span style='mso-spacerun:yes'>    </span>&lt;/<b>filter-mapping</b>&gt;<br>
  &lt;/<b>web-app</b>&gt;</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<h3 style='margin:0cm;margin-bottom:.0001pt'><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'>5.1.3 </span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>在</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'>resources</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>路径下添加</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'>Springmvc</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>配置文件</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'><o:p></o:p></span></h3>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>dispatcher-servlet.xml</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none;mso-border-alt:
 solid windowtext .5pt;mso-yfti-tbllook:1184;mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
 mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=548 valign=top style='width:411.1pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><i><span lang=EN-US>&lt;?</span></i><b><span lang=EN-US>xml
  version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;</span></b><i><span
  lang=EN-US>?&gt;<br>
  <br>
  </span></i><span lang=EN-US>&lt;<b>beans
  xmlns=&quot;http://www.springframework.org/schema/beans&quot;<br>
  <span style='mso-spacerun:yes'>  
  </span>xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
  xmlns:util=&quot;http://www.springframework.org/schema/util&quot;<br>
  <span style='mso-spacerun:yes'>  
  </span>xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot;
  xmlns:p=&quot;http://www.springframework.org/schema/p&quot;<br>
  <span style='mso-spacerun:yes'>  
  </span>xmlns:context=&quot;http://www.springframework.org/schema/context&quot;<br>
  <span style='mso-spacerun:yes'>  
  </span>xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;<br>
  <span style='mso-spacerun:yes'>   </span>xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans
  http://www.springframework.org/schema/beans/spring-beans.xsd<br>
  <span style='mso-spacerun:yes'>                          
  </span>http://www.springframework.org/schema/util
  http://www.springframework.org/schema/util/spring-util-3.2.xsd<br>
  <span style='mso-spacerun:yes'>             </span><span
  style='mso-spacerun:yes'>              </span>http://www.springframework.org/schema/aop
  http://www.springframework.org/schema/aop/spring-aop-3.2.xsd<br>
  <span style='mso-spacerun:yes'>                          
  </span>http://www.springframework.org/schema/context
  http://www.springframework.org/schema/context/spring-context-3.2.xsd<br>
  <span style='mso-spacerun:yes'>                          
  </span>http://www.springframework.org/schema/mvc
  http://www.springframework.org/schema/mvc/spring-mvc-3.2.xsd&quot;</b>&gt;<br>
  <br>
  <span style='mso-spacerun:yes'>   </span><i>&lt;!-- </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>配置扫描路径</span> <span lang=EN-US>--&gt;<br>
  <span style='mso-spacerun:yes'>   </span></span></i><span lang=EN-US>&lt;<b>context:component-scan<br>
  <span style='mso-spacerun:yes'>        
  </span>base-package=&quot;com.atguigu.applogs.collect.web.controller&quot;</b>/&gt;<br>
  <span style='mso-spacerun:yes'>   </span><i>&lt;!-- </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>使用注解驱动</span> <span lang=EN-US>--&gt;<br>
  <span style='mso-spacerun:yes'>   </span></span></i><span lang=EN-US>&lt;<b>mvc:annotation-driven</b>/&gt;<br>
  <br>
  <span style='mso-spacerun:yes'>   </span><i>&lt;!-- </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>内部资源视图解析器</span> <span lang=EN-US>--&gt;<br>
  <span style='mso-spacerun:yes'>   </span></span></i><span lang=EN-US>&lt;<b>bean
  class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;</b>&gt;<br>
  <span style='mso-spacerun:yes'>      </span>&lt;<b>property
  name=&quot;prefix&quot; value=&quot;/&quot;</b>/&gt;<br>
  <span style='mso-spacerun:yes'>      </span>&lt;<b>property
  name=&quot;suffix&quot; value=&quot;.jsp&quot;</b>/&gt;<br>
  <span style='mso-spacerun:yes'>   </span>&lt;/<b>bean</b>&gt;<br>
  <br>
  &lt;/<b>beans</b>&gt;</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=EN-US>2</span><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>）创建包名：</span><span
lang=EN-US>com.atguigu.applogs.collect.web.controller</span></p>

<p class=MsoNormal><span lang=EN-US style='mso-no-proof:yes'><!--[if gte vml 1]><v:shape
 id="_x0000_i1058" type="#_x0000_t75" alt="" style='width:415pt;height:111pt;
 visibility:visible;mso-width-percent:0;mso-height-percent:0;
 mso-width-percent:0;mso-height-percent:0'>
 <v:imagedata src="APP信息统计分析系统.fld/image022.png" o:title=""/>
</v:shape><![endif]--><![if !vml]><img border=0 width=415 height=111
src="APP信息统计分析系统.fld/image022.png" v:shapes="_x0000_i1058"><![endif]></span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<h3 style='margin:0cm;margin-bottom:.0001pt'><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'>5.1.4 </span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>在</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'>resources</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>路径下添加</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'>Spring</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>配置文件</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'><o:p></o:p></span></h3>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>beans.xml</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none;mso-border-alt:
 solid windowtext .5pt;mso-yfti-tbllook:1184;mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
 mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=548 valign=top style='width:411.1pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><i><span lang=EN-US>&lt;?<b>xml version=&quot;1.0&quot;
  encoding=&quot;UTF-8&quot;</b>?&gt;<br>
  &lt;<b>beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;<br>
  <span style='mso-spacerun:yes'>      
  </span>xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;<br>
  <span style='mso-spacerun:yes'>      
  </span>xmlns:util=&quot;http://www.springframework.org/schema/util&quot;<br>
  <span style='mso-spacerun:yes'>      
  </span>xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot; <br>
  <span style='mso-spacerun:yes'>       </span>xmlns:p=&quot;http://www.springframework.org/schema/p&quot;<br>
  <span style='mso-spacerun:yes'>      
  </span>xmlns:context=&quot;http://www.springframework.org/schema/context&quot;<br>
  <span style='mso-spacerun:yes'>      
  </span>xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans
  http://www.springframework.org/schema/beans/spring-beans.xsd<br>
  <span style='mso-spacerun:yes'>                 </span><span
  style='mso-spacerun:yes'>          </span>http://www.springframework.org/schema/util
  http://www.springframework.org/schema/util/spring-util.xsd<br>
  <span style='mso-spacerun:yes'>                          
  </span>http://www.springframework.org/schema/aop
  http://www.springframework.org/schema/aop/spring-aop.xsd<br>
  <span style='mso-spacerun:yes'>                  </span><span
  style='mso-spacerun:yes'>         </span>http://www.springframework.org/schema/context
  http://www.springframework.org/schema/context/spring-context.xsd<br>
  <span style='mso-spacerun:yes'>                           </span>&quot;</b>&gt;<br>
  <span style='mso-spacerun:yes'>    </span>&lt;!--</span></i><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>配置路径扫描</span><span lang=EN-US>--&gt;<br>
  <span style='mso-spacerun:yes'>    </span>&lt;<b>context:component-scan
  base-package=&quot;com.atguigu.applogs.collect.web&quot;</b>/&gt;<br>
  <br>
  &lt;/<b>beans</b>&gt;<o:p></o:p></span></i></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<h3 style='margin:0cm;margin-bottom:.0001pt'><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'>5.1.5 </span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>在</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'>resources</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>路径下添加</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'>log4j</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>文件</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'><o:p></o:p></span></h3>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>log4j.properties</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none;mso-border-alt:
 solid windowtext .5pt;mso-yfti-tbllook:1184;mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
 mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=548 valign=top style='width:411.1pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US style='mso-bidi-font-weight:bold'>log4j.rootLogger</span><span
  lang=EN-US>=<span style='mso-bidi-font-weight:bold'>info, stdout<br>
  log4j.appender.stdout</span>=<span style='mso-bidi-font-weight:bold'>org.apache.log4j.ConsoleAppender<br>
  log4j.appender.stdout.layout</span>=<span style='mso-bidi-font-weight:bold'>org.apache.log4j.PatternLayout<br>
  log4j.appender.stdout.layout.ConversionPattern</span>=<span style='mso-bidi-font-weight:
  bold'>%d{yyyy-MM-dd HH:mm:ss,SSS}<span style='mso-spacerun:yes'>  </span>%5p
  --- [%50t]<span style='mso-spacerun:yes'>  </span>%-80c(line:%5L)<span
  style='mso-spacerun:yes'>  </span>:<span style='mso-spacerun:yes'> 
  </span>%m%n<br>
  <br>
  log4j.appender.R</span>=<span style='mso-bidi-font-weight:bold'>org.apache.log4j.RollingFileAppender<br>
  log4j.appender.R.File</span>=<span style='mso-bidi-font-weight:bold'>analysis.log<br>
  log4j.appender.R.MaxFileSize</span>=<span style='mso-bidi-font-weight:bold'>1024KB<br>
  log4j.appender.R.MaxBackupIndex</span>=<span style='mso-bidi-font-weight:
  bold'>1<br>
  <br>
  log4j.appender.R.layout</span>=<span style='mso-bidi-font-weight:bold'>org.apache.log4j.PatternLayout<br>
  log4j.appender.R.layout.ConversionPattern</span>=<span style='mso-bidi-font-weight:
  bold'>%d{yyyy-MM-dd HH:mm:ss,SSS}<span style='mso-spacerun:yes'>  </span>%5p
  --- [%50t]<span style='mso-spacerun:yes'>  </span>%-80c(line:%6L)<span
  style='mso-spacerun:yes'>  </span>:<span style='mso-spacerun:yes'> 
  </span>%m%n</span></span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<h3 style='margin:0cm;margin-bottom:.0001pt'><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'>5.1.6 </span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>网络请求处理</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'><o:p></o:p></span></h3>

<p class=MsoNormal style='line-height:150%'><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>编写代码</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none;mso-border-alt:
 solid windowtext .5pt;mso-yfti-tbllook:1184;mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
 mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=548 valign=top style='width:411.1pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>@Controller</span></p>
  <p class=MsoNormal><span lang=EN-US>@RequestMapping(&quot;/coll&quot;)</span></p>
  <p class=MsoNormal><span lang=EN-US>public class CollectLogController {</span></p>
  <p class=MsoNormal><span lang=EN-US><o:p>&nbsp;</o:p></span></p>
  <p class=MsoNormal><span lang=EN-US><span style='mso-spacerun:yes'>   
  </span>@RequestMapping(value = &quot;/index&quot;, method =
  RequestMethod.POST)</span></p>
  <p class=MsoNormal><span lang=EN-US><span style='mso-spacerun:yes'>   
  </span>@ResponseBody</span></p>
  <p class=MsoNormal><span lang=EN-US><span style='mso-spacerun:yes'>   
  </span>public AppLogEntity collect(@RequestBody AppLogEntity e,
  HttpServletRequest req) {</span></p>
  <p class=MsoNormal><span lang=EN-US><o:p>&nbsp;</o:p></span></p>
  <p class=MsoNormal><span lang=EN-US><span style='mso-spacerun:yes'>       
  </span>// 1 </span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
  mso-hansi-font-family:"Times New Roman"'>修正服务器和客户端时间</span></p>
  <p class=MsoNormal><span lang=EN-US><span style='mso-spacerun:yes'>       
  </span>verifyTime(e, req);</span></p>
  <p class=MsoNormal><span lang=EN-US><o:p>&nbsp;</o:p></span></p>
  <p class=MsoNormal><span lang=EN-US><span style='mso-spacerun:yes'>       
  </span>// 2 </span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
  mso-hansi-font-family:"Times New Roman"'>获取国家、省份和</span><span lang=EN-US>ip</span><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>地址信息</span></p>
  <p class=MsoNormal><span lang=EN-US><span style='mso-spacerun:yes'>       
  </span>processIp(e, req);</span></p>
  <p class=MsoNormal><span lang=EN-US><o:p>&nbsp;</o:p></span></p>
  <p class=MsoNormal><span lang=EN-US><span style='mso-spacerun:yes'>       
  </span>// 3 </span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
  mso-hansi-font-family:"Times New Roman"'>向</span><span lang=EN-US>Kafka</span><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>发送消息</span></p>
  <p class=MsoNormal><span lang=EN-US><span style='mso-spacerun:yes'>       
  </span>sendMessage(e);</span></p>
  <p class=MsoNormal><span lang=EN-US><o:p>&nbsp;</o:p></span></p>
  <p class=MsoNormal><span lang=EN-US><span style='mso-spacerun:yes'>       
  </span>return e;</span></p>
  <p class=MsoNormal><span lang=EN-US><span style='mso-spacerun:yes'>   
  </span>}</span></p>
  <p class=MsoNormal><span lang=EN-US>}</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<h3 style='margin:0cm;margin-bottom:.0001pt'><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'>5.1.7 </span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>修正服务器和客户端时间</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'><o:p></o:p></span></h3>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>1</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）分析</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US style='mso-no-proof:
yes'><!--[if gte vml 1]><v:shape id="_x0000_i1057" type="#_x0000_t75" alt=""
 style='width:415pt;height:199pt;mso-width-percent:0;mso-height-percent:0;
 mso-width-percent:0;mso-height-percent:0'>
 <v:imagedata src="APP信息统计分析系统.fld/image023.png" o:title=""/>
</v:shape><![endif]--><![if !vml]><img border=0 width=415 height=199
src="APP信息统计分析系统.fld/image023.png" v:shapes="_x0000_i1057"><![endif]></span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>2</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）编码实现</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none;mso-border-alt:
 solid windowtext .5pt;mso-yfti-tbllook:1184;mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
 mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=548 valign=top style='width:411.1pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><i><span lang=EN-US>// </span></i><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>修正时间</span><span lang=EN-US><br>
  </span></i><b><span lang=EN-US>private void </span></b><span lang=EN-US>verifyTime(AppLogEntity
  e, HttpServletRequest req) {<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><i>// 1 </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>获取服务器时间</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>    </span></span></i><b><span lang=EN-US>long
  </span></b><span lang=EN-US>myTime = System.<i>currentTimeMillis</i>();<br>
  <span style='mso-spacerun:yes'>    </span><i>// 2 </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>获取客户端时间</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>    </span></span></i><b><span lang=EN-US>long
  </span></b><span lang=EN-US>clientTime = Long.<i>parseLong</i>(req.getHeader(<b>&quot;clientTime&quot;</b>));<br>
  <span style='mso-spacerun:yes'>    </span><i>// 3 </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>计算服务器和客户端时间差</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>    </span></span></i><b><span lang=EN-US>long
  </span></b><span lang=EN-US>diff = myTime - clientTime;<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><i>// 4 </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>根据时间差，修正日志中时间</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>    </span></span></i><b><span lang=EN-US>for </span></b><span
  lang=EN-US>(AppStartupLog log : e.getAppStartupLogs()) {<br>
  <span style='mso-spacerun:yes'>       
  </span>log.setCreatedAtMs(log.getCreatedAtMs() + diff);<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><b>for </b>(AppUsageLog log :
  e.getAppUsageLogs()) {<br>
  <span style='mso-spacerun:yes'>       
  </span>log.setCreatedAtMs(log.getCreatedAtMs() + diff);<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><b>for </b>(AppPageLog log :
  e.getAppPageLogs()) {<br>
  <span style='mso-spacerun:yes'>       
  </span>log.setCreatedAtMs(log.getCreatedAtMs() + diff);<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><b>for </b>(AppEventLog log :
  e.getAppEventLogs()) {<br>
  <span style='mso-spacerun:yes'>       
  </span>log.setCreatedAtMs(log.getCreatedAtMs() + diff);<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><b>for </b>(AppErrorLog log :
  e.getAppErrorLogs()) {<br>
  <span style='mso-spacerun:yes'>       
  </span>log.setCreatedAtMs(log.getCreatedAtMs() + diff);<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  }</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<h3 style='margin:0cm;margin-bottom:.0001pt'><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'>5.1.8 </span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>获取国家、省份、和</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'>IP</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>地址信息</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'><o:p></o:p></span></h3>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>1</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）在</span><span lang=EN-US>resource</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>路径下添加</span><span lang=EN-US>GeoLite2-City.mmdb</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>资源</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>2</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）编码实现</span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>根据</span><span lang=EN-US>ip</span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>地址查询国家和省份信息，并做缓存处理。</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none;mso-border-alt:
 solid windowtext .5pt;mso-yfti-tbllook:1184;mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
 mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=548 valign=top style='width:411.1pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><i><span lang=EN-US>/**<br>
  <span style='mso-spacerun:yes'> </span>* </span></i><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>处理</span><span lang=EN-US>ip client</span></i><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>地址问题</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'> </span>* <b>@param e<br>
  <span style='mso-spacerun:yes'> </span></b>*/<br>
  </span></i><b><span lang=EN-US>private void </span></b><span lang=EN-US>processIp(AppLogEntity
  e, HttpServletRequest req) {<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><i>// 1 </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>获取客户端</span><span lang=EN-US>ip</span></i><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>地址</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>    </span></span></i><span lang=EN-US>String
  clientIP = req.getRemoteAddr();<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><i>// 2 </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>从缓存中获取数据</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>    </span></span></i><span lang=EN-US>GeoInfo
  geoInfo = <b>cache</b>.get(clientIP);<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><i>// </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>如果该客户端</span><span lang=EN-US>ip</span></i><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>地址没有获取过国家和省份信息，则通过工具类获取；</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>    </span>// </span></i><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>如果该客户端</span><span lang=EN-US>ip</span></i><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>地址已经获取过国家和省份信息，则直接从缓存对象中获取</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>    </span></span></i><b><span lang=EN-US>if </span></b><span
  lang=EN-US>(geoInfo == <b>null</b>) {<br>
  <span style='mso-spacerun:yes'>        </span>geoInfo = <b>new </b>GeoInfo();<br>
  <span style='mso-spacerun:yes'>        </span>geoInfo.setCountry(GeoUtil.<i>getCountry</i>(clientIP));<br>
  <span style='mso-spacerun:yes'>        </span>geoInfo.setProvince(GeoUtil.<i>getProvince</i>(clientIP));<br>
  <br>
  <span style='mso-spacerun:yes'>        </span><i>// </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>缓存数据</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>        </span></span></i><b><span lang=EN-US>cache</span></b><span
  lang=EN-US>.put(clientIP, geoInfo);<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><i>// 3 </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>设置国家、省份和客户端</span><span lang=EN-US>ip</span></i><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>地址信息</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>    </span></span></i><b><span lang=EN-US>for </span></b><span
  lang=EN-US>(AppStartupLog log : e.getAppStartupLogs()) {<br>
  <span style='mso-spacerun:yes'>       
  </span>log.setCountry(geoInfo.getCountry());<br>
  <span style='mso-spacerun:yes'>     </span><span
  style='mso-spacerun:yes'>   </span>log.setProvince(geoInfo.getProvince());<br>
  <span style='mso-spacerun:yes'>        </span>log.setIpAddress(clientIP);<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  }</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none;mso-border-alt:
 solid windowtext .5pt;mso-yfti-tbllook:1184;mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
 mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=548 valign=top style='width:411.1pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><i><span lang=EN-US>// </span></i><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>缓存地址信息</span><span lang=EN-US><br>
  </span></i><b><span lang=EN-US>private </span></b><span lang=EN-US>Map&lt;String,
  GeoInfo&gt; <b>cache </b>= <b>new </b>HashMap&lt;String, GeoInfo&gt;();</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<h3 style='margin:0cm;margin-bottom:.0001pt'><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'>5.1.9 </span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>向</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'>Kafka</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>发送消息</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'><o:p></o:p></span></h3>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>1</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）在</span><span lang=EN-US>app_common</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>模块中在</span><span lang=EN-US>com.atguigu.app.common</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>包下添加常量（</span><span lang=EN-US>5</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>个</span><span lang=EN-US>topic</span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>主题）</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none;mso-border-alt:
 solid windowtext .5pt;mso-yfti-tbllook:1184;mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
 mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=548 valign=top style='width:411.1pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
  tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
  background:white'><span lang=EN-US style='mso-bidi-font-style:italic'>package
  com.atguigu.app.common;<br>
  /**<br>
  <span style='mso-spacerun:yes'> </span>* </span><span style='font-family:
  宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
  mso-bidi-font-style:italic'>常量类</span><span lang=EN-US style='mso-bidi-font-style:
  italic'><br>
  <span style='mso-spacerun:yes'> </span>*/<br>
  public class Constants {<br>
  <span style='mso-spacerun:yes'>   </span>//</span><span style='font-family:
  宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
  mso-bidi-font-style:italic'>主题</span><span lang=EN-US style='mso-bidi-font-style:
  italic'><br>
  <span style='mso-spacerun:yes'>   </span>public static final String
  TOPIC_APP_STARTUP = &quot;topic_app_startup&quot; ;<br>
  <span style='mso-spacerun:yes'>   </span>public static final String
  TOPIC_APP_ERRROR = &quot;topic_app_error&quot; ;<br>
  <span style='mso-spacerun:yes'>   </span>public static final String
  TOPIC_APP_EVENT = &quot;topic_app_event&quot; ;<br>
  <span style='mso-spacerun:yes'>   </span>public static final String
  TOPIC_APP_USAGE = &quot;topic_app_usage&quot; ;<br>
  <span style='mso-spacerun:yes'>   </span>public static final String
  TOPIC_APP_PAGE = &quot;topic_app_page&quot; ;<br>
  }</span><span lang=EN-US style='font-size:13.5pt;font-family:Consolas;
  color:black;mso-font-kerning:0pt'><o:p></o:p></span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>2</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）编写代码（</span><span lang=EN-US>app_logs_collect_web</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>模块）</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none;mso-border-alt:
 solid windowtext .5pt;mso-yfti-tbllook:1184;mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
 mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=548 valign=top style='width:411.1pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><i><span lang=EN-US>// </span></i><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>发送消息给发</span><span lang=EN-US>Kafka<br>
  </span></i><b><span lang=EN-US>private void </span></b><span lang=EN-US>sendMessage(AppLogEntity
  e) {<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><i>// 1 </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>创建配置对象</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>    </span></span></i><span lang=EN-US>Properties
  props = <b>new </b>Properties();<br>
  <span style='mso-spacerun:yes'>    </span><i>// 1.1 Kafka</i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>服务端的主机名和端口号</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>    </span></span></i><span lang=EN-US>props.put(<b>&quot;bootstrap.servers&quot;</b>,
  <b>&quot;hadoop102:9092&quot;</b>);<br>
  <span style='mso-spacerun:yes'>    </span><i>// 1.2 </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>等待所有副本节点的应答</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>    </span></span></i><span lang=EN-US>props.put(<b>&quot;acks&quot;</b>,
  <b>&quot;all&quot;</b>);<br>
  <span style='mso-spacerun:yes'>    </span><i>// 1.3 </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>消息发送最大尝试次数</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>    </span></span></i><span lang=EN-US>props.put(<b>&quot;retries&quot;</b>,
  0);<br>
  <span style='mso-spacerun:yes'>    </span><i>// 1.4 </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>一批消息处理大小</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'> </span><span style='mso-spacerun:yes'>  
  </span></span></i><span lang=EN-US>props.put(<b>&quot;batch.size&quot;</b>,
  16384);<br>
  <span style='mso-spacerun:yes'>    </span><i>// 1.5 </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>请求延时</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>    </span></span></i><span lang=EN-US>props.put(<b>&quot;linger.ms&quot;</b>,
  1);<br>
  <span style='mso-spacerun:yes'>    </span><i>// 1.6 </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>发送缓存区内存大小</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>    </span></span></i><span lang=EN-US>props.put(<b>&quot;buffer.memory&quot;</b>,
  33554432);<br>
  <span style='mso-spacerun:yes'>    </span><i>// 1.7 key</i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>序列化</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>    </span></span></i><span lang=EN-US>props.put(<b>&quot;key.serializer&quot;</b>,
  <b>&quot;org.apache.kafka.common.serialization.StringSerializer&quot;</b>);<br>
  <span style='mso-spacerun:yes'>  </span><span
  style='mso-spacerun:yes'>  </span><i>// 1.8 value</i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>序列化</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>    </span></span></i><span lang=EN-US>props.put(<b>&quot;value.serializer&quot;</b>,
  <b>&quot;org.apache.kafka.common.serialization.StringSerializer&quot;</b>);<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><i>// 2 </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>创建生产者</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>    </span></span></i><span lang=EN-US>KafkaProducer&lt;String,
  String&gt; producer = <b>new </b>KafkaProducer&lt;String, String&gt;(props);<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><i>// 3 </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>根据日志类型分别向</span><span lang=EN-US>5</span></i><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>个主题发送消息</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>    </span></span></i><span lang=EN-US>sendSingleLog(producer,
  Constants.<b><i>TOPIC_APP_STARTUP</i></b>, e.getAppStartupLogs());<br>
  <span style='mso-spacerun:yes'>    </span>sendSingleLog(producer, Constants.<b><i>TOPIC_APP_ERRROR</i></b>,
  e.getAppErrorLogs());<br>
  <span style='mso-spacerun:yes'>    </span>sendSingleLog(producer, Constants.<b><i>TOPIC_APP_EVENT</i></b>,
  e.getAppEventLogs());<br>
  <span style='mso-spacerun:yes'>    </span>sendSingleLog(producer, Constants.<b><i>TOPIC_APP_PAGE</i></b>,
  e.getAppPageLogs());<br>
  <span style='mso-spacerun:yes'>    </span>sendSingleLog(producer, Constants.<b><i>TOPIC_APP_USAGE</i></b>,
  e.getAppUsageLogs());<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><i>// 4 </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>关闭生产者</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>    </span></span></i><span lang=EN-US>producer.close();<br>
  }</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none;mso-border-alt:
 solid windowtext .5pt;mso-yfti-tbllook:1184;mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
 mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=548 valign=top style='width:411.1pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><i><span lang=EN-US>/**<br>
  <span style='mso-spacerun:yes'> </span>* </span></i><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>发送单个的</span><span lang=EN-US>log</span></i><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>消息给</span><span lang=EN-US>kafka<br>
  <span style='mso-spacerun:yes'> </span>*/<br>
  </span></i><b><span lang=EN-US>private void </span></b><span lang=EN-US>sendSingleLog(KafkaProducer&lt;String,
  String&gt; producer, String topic, AppBaseLog[] logs) {<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><b>for </b>(AppBaseLog log : logs)
  {<br>
  <br>
  <span style='mso-spacerun:yes'>        </span><i>// 1 </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>将</span><span lang=EN-US>bean</span></i><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>对象转换为</span><span lang=EN-US>json<br>
  <span style='mso-spacerun:yes'>        </span></span></i><span lang=EN-US>String
  logMsg = JSONObject.<i>toJSONString</i>(log);<br>
  <br>
  <span style='mso-spacerun:yes'>        </span><i>// 2 </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>创建待发送消息对象</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>        </span></span></i><span lang=EN-US>ProducerRecord&lt;String,
  String&gt; data = <b>new </b>ProducerRecord&lt;String, String&gt;(topic,
  logMsg);<br>
  <br>
  <span style='mso-spacerun:yes'>        </span><i>// 3 </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>发送消息</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>        </span></span></i><span lang=EN-US>producer.send(data);<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  }</span></p>
  </td>
 </tr>
</table>

<h3 style='margin:0cm;margin-bottom:.0001pt'><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'>5.1.10 IDEA</span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>上执行</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'>Web</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>程序</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'><o:p></o:p></span></h3>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>1</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）调整</span><span lang=EN-US>web</span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>项目结构</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US><span
style='mso-tab-count:1'>       </span></span><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>（</span><span
lang=EN-US>1</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>）将</span><span lang=EN-US>web</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>文件夹整体拖拽到</span><span lang=EN-US>main</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>文件夹下，并修改名称为</span><span lang=EN-US>webapp</span></p>

<p class=MsoNormal><span lang=EN-US><span style='mso-tab-count:1'>       </span><span
style='mso-no-proof:yes'><!--[if gte vml 1]><v:shape id="_x0000_i1056" type="#_x0000_t75"
 alt="" style='width:248pt;height:176pt;visibility:visible;mso-width-percent:0;
 mso-height-percent:0;mso-width-percent:0;mso-height-percent:0'>
 <v:imagedata src="APP信息统计分析系统.fld/image024.png" o:title=""/>
</v:shape><![endif]--><![if !vml]><img border=0 width=248 height=176
src="APP信息统计分析系统.fld/image024.png" v:shapes="_x0000_i1056"><![endif]></span></span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>2</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）配置</span><span lang=EN-US>web</span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>执行程序方式</span></p>

<p class=MsoNormal><span lang=EN-US style='mso-no-proof:yes'><!--[if gte vml 1]><v:shape
 id="_x0000_i1055" type="#_x0000_t75" alt="" style='width:416pt;height:55pt;
 visibility:visible;mso-width-percent:0;mso-height-percent:0;
 mso-width-percent:0;mso-height-percent:0'>
 <v:imagedata src="APP信息统计分析系统.fld/image025.png" o:title=""/>
</v:shape><![endif]--><![if !vml]><img border=0 width=416 height=55
src="APP信息统计分析系统.fld/image025.png" v:shapes="_x0000_i1055"><![endif]><o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-no-proof:yes'><!--[if gte vml 1]><v:shape
 id="_x0000_i1054" type="#_x0000_t75" alt="" style='width:415pt;height:260pt;
 visibility:visible;mso-width-percent:0;mso-height-percent:0;
 mso-width-percent:0;mso-height-percent:0'>
 <v:imagedata src="APP信息统计分析系统.fld/image026.png" o:title=""/>
</v:shape><![endif]--><![if !vml]><img border=0 width=415 height=260
src="APP信息统计分析系统.fld/image026.png" v:shapes="_x0000_i1054"><![endif]></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-no-proof:yes'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-no-proof:yes'><!--[if gte vml 1]><v:shape
 id="_x0000_i1053" type="#_x0000_t75" alt="" style='width:415pt;height:243pt;
 visibility:visible;mso-width-percent:0;mso-height-percent:0;
 mso-width-percent:0;mso-height-percent:0'>
 <v:imagedata src="APP信息统计分析系统.fld/image027.png" o:title=""/>
</v:shape><![endif]--><![if !vml]><img border=0 width=415 height=243
src="APP信息统计分析系统.fld/image027.png" v:shapes="_x0000_i1053"><![endif]><o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-no-proof:yes'><!--[if gte vml 1]><v:shape
 id="_x0000_i1052" type="#_x0000_t75" alt="" style='width:289pt;height:297pt;
 visibility:visible;mso-width-percent:0;mso-height-percent:0;
 mso-width-percent:0;mso-height-percent:0'>
 <v:imagedata src="APP信息统计分析系统.fld/image028.png" o:title=""/>
</v:shape><![endif]--><![if !vml]><img border=0 width=289 height=297
src="APP信息统计分析系统.fld/image028.png" v:shapes="_x0000_i1052"><![endif]><o:p></o:p></span></p>

<p class=MsoNormal><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-no-proof:yes'>名称：</span><span
lang=EN-US style='mso-no-proof:yes'>app_logs_web<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-no-proof:yes'><!--[if gte vml 1]><v:shape
 id="_x0000_i1051" type="#_x0000_t75" alt="" style='width:415pt;height:259pt;
 visibility:visible;mso-width-percent:0;mso-height-percent:0;
 mso-width-percent:0;mso-height-percent:0'>
 <v:imagedata src="APP信息统计分析系统.fld/image029.png" o:title=""/>
</v:shape><![endif]--><![if !vml]><img border=0 width=415 height=259
src="APP信息统计分析系统.fld/image029.png" v:shapes="_x0000_i1051"><![endif]><o:p></o:p></span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>3</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）向</span><span lang=EN-US>web</span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>工程中添加</span><span
lang=EN-US>jar</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>包依赖</span></p>

<p class=MsoNormal><span lang=EN-US style='mso-no-proof:yes'><!--[if gte vml 1]><v:shape
 id="_x0000_i1050" type="#_x0000_t75" alt="" style='width:415pt;height:295pt;
 visibility:visible;mso-width-percent:0;mso-height-percent:0;
 mso-width-percent:0;mso-height-percent:0'>
 <v:imagedata src="APP信息统计分析系统.fld/image030.png" o:title=""/>
</v:shape><![endif]--><![if !vml]><img border=0 width=415 height=295
src="APP信息统计分析系统.fld/image030.png" v:shapes="_x0000_i1050"><![endif]></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-no-proof:yes'><!--[if gte vml 1]><v:shape
 id="_x0000_i1049" type="#_x0000_t75" alt="" style='width:415pt;height:330pt;
 visibility:visible;mso-width-percent:0;mso-height-percent:0;
 mso-width-percent:0;mso-height-percent:0'>
 <v:imagedata src="APP信息统计分析系统.fld/image031.png" o:title=""/>
</v:shape><![endif]--><![if !vml]><img border=0 width=415 height=330
src="APP信息统计分析系统.fld/image031.png" v:shapes="_x0000_i1049"><![endif]><o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-no-proof:yes'><!--[if gte vml 1]><v:shape
 id="_x0000_i1048" type="#_x0000_t75" alt="" style='width:298pt;height:406pt;
 visibility:visible;mso-width-percent:0;mso-height-percent:0;
 mso-width-percent:0;mso-height-percent:0'>
 <v:imagedata src="APP信息统计分析系统.fld/image032.png" o:title=""/>
</v:shape><![endif]--><![if !vml]><img border=0 width=298 height=406
src="APP信息统计分析系统.fld/image032.png" v:shapes="_x0000_i1048"><![endif]><o:p></o:p></span></p>

<h3 style='margin:0cm;margin-bottom:.0001pt'><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'>5.1.11 </span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>测试</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'><o:p></o:p></span></h3>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>1</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）启动</span><span lang=EN-US>tomact</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>2</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）启动日志生成程序，查看是否正确收到数据响应码</span><span lang=EN-US>200</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>。</span></p>

<h2 style='margin:0cm;margin-bottom:.0001pt'><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'>5.2 Kafka</span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%;font-family:黑体;mso-ascii-font-family:
Arial;mso-hansi-font-family:Arial'>集群模块</span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'><o:p></o:p></span></h2>

<h3 style='margin:0cm;margin-bottom:.0001pt'><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'>5.2.1 </span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>配置</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'>Zookeeper</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>集群</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'><o:p></o:p></span></h3>

<p class=MsoNormal><span lang=EN-US>1</span><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>）具体配置详见：</span><span
lang=EN-US>RT</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>大数据技术之</span><span lang=EN-US>Zookeeper.doc</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>文档</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>2</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）启动</span><span lang=EN-US>zookeeper</span></p>

<p class=MsoNormal style='margin-left:21.0pt;mso-para-margin-left:2.0gd;
line-height:150%'><span lang=EN-US style='color:#7030A0'>[atguigu@hadoop102
zookeeper-3.4.10]$ bin/zkServer.sh start<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:21.0pt;mso-para-margin-left:2.0gd;
line-height:150%'><span lang=EN-US style='color:#7030A0'>[atguigu@hadoop103
zookeeper-3.4.10]$ bin/zkServer.sh start<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:21.0pt;mso-para-margin-left:2.0gd;
line-height:150%'><span lang=EN-US style='color:#7030A0'>[atguigu@hadoop104
zookeeper-3.4.10]$ bin/zkServer.sh start<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<h3 style='margin:0cm;margin-bottom:.0001pt'><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'>5.2.2 </span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>配置</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'>Kafka</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>集群</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'><o:p></o:p></span></h3>

<p class=MsoNormal><span lang=EN-US>0</span><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>）配置</span><span
lang=EN-US>kafka</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>集群，详见：</span><span lang=EN-US>RT</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>大数据技术之</span><span lang=EN-US>Kafka.doc</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>1</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）启动</span><span lang=EN-US>kafka</span></p>

<p class=MsoNormal style='margin-left:21.0pt;mso-para-margin-left:2.0gd;
line-height:150%'><span lang=EN-US style='color:#7030A0'>[atguigu@hadoop102
kafka]$ bin/kafka-server-start.sh config/server.properties &amp;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:21.0pt;mso-para-margin-left:2.0gd;
line-height:150%'><span lang=EN-US style='color:#7030A0'>[atguigu@hadoop103
kafka]$ bin/kafka-server-start.sh config/server.properties &amp;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:21.0pt;mso-para-margin-left:2.0gd;
line-height:150%'><span lang=EN-US style='color:#7030A0'>[atguigu@hadoop104
kafka]$ bin/kafka-server-start.sh config/server.properties &amp;<o:p></o:p></span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>2</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）查看主题</span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
lang=EN-US style='color:#7030A0'>[atguigu@hadoop102 kafka]$ bin/kafka-topics.sh
--zookeeper hadoop102:2181 --list<o:p></o:p></span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>3</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）创建</span><span lang=EN-US>kafka</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>的</span><span lang=EN-US>topic</span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
lang=EN-US style='color:#7030A0'>[atguigu@hadoop102 kafka]$ bin/kafka-topics.sh
--zookeeper hadoop102:2181 --create --replication-factor 3 --partitions 1
--topic topic_app_startup;<o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
lang=EN-US style='color:#7030A0'>[atguigu@hadoop102 kafka]$ bin/kafka-topics.sh
--zookeeper hadoop102:2181 --create --replication-factor 3 --partitions 1
--topic topic_app_error;<o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
lang=EN-US style='color:#7030A0'>[atguigu@hadoop102 kafka]$ bin/kafka-topics.sh
--zookeeper hadoop102:2181 --create --replication-factor 3 --partitions 1
--topic topic_app_event;<o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
lang=EN-US style='color:#7030A0'>[atguigu@hadoop102 kafka]$ bin/kafka-topics.sh
--zookeeper hadoop102:2181 --create --replication-factor 3 --partitions 1
--topic topic_app_usage;<o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
lang=EN-US style='color:#7030A0'>[atguigu@hadoop102 kafka]$ bin/kafka-topics.sh
--zookeeper hadoop102:2181 --create --replication-factor 3 --partitions 1
--topic topic_app_page;<o:p></o:p></span></p>

<h3 style='margin:0cm;margin-bottom:.0001pt'><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'>5.2.3 </span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>测试</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'><o:p></o:p></span></h3>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>1</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）创建消费者主题（主要用于测试数据是否能够接收到）</span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
lang=EN-US style='color:#7030A0'>[atguigu@hadoop102 kafka]$ bin/kafka-console-consumer.sh
--zookeeper hadoop102:2181 --topic topic_app_startup;<o:p></o:p></span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>2</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）启动日志生成程序。</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>3</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）观察</span><span lang=EN-US>kafka</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>消费者是否正常消费到消息。</span></p>

<h3 style='margin:0cm;margin-bottom:.0001pt'><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'>5.2.4 Centos</span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>上部署</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'>Tomcat<o:p></o:p></span></h3>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>1</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）在</span><span lang=EN-US>linux</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>上安装</span><span lang=EN-US>Tomcat</span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>（</span><span lang=EN-US>1</span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>）将</span><span
lang=EN-US>apache-tomcat-7.0.72.tar.gz</span><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>导入到</span><span
lang=EN-US>linux</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>的</span><span lang=EN-US>/opt/software</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>路径下</span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>（</span><span lang=EN-US>2</span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>）解压</span><span
lang=EN-US>apache-tomcat-7.0.72.tar.gz</span><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>到</span><span
lang=EN-US>/opt/module/</span><span style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>路径下</span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
lang=EN-US style='color:#7030A0'>[atguigu@hadoop102 software]$ tar -zxvf
apache-tomcat-7.0.72.tar.gz -C /opt/module/<o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>（</span><span lang=EN-US>3</span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>）修改名称为</span><span
lang=EN-US>tomcat</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US style='color:#7030A0'><span
style='mso-tab-count:1'>       </span>[atguigu@hadoop102 module]$ mv
apache-tomcat-7.0.72 tomcat<o:p></o:p></span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>2</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）部署</span><span lang=EN-US>Web</span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>程序到</span><span
lang=EN-US>Tomcat</span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>（</span><span lang=EN-US>1</span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>）将</span><span
lang=EN-US>web</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>工程打成</span><span lang=EN-US>war</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>包，名称为</span><span lang=EN-US>app_logs.war</span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
lang=EN-US><span style='mso-tab-count:1'>       </span>a)</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>检查</span><span lang=EN-US>pom</span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>文件中是否添加，</span><span
lang=EN-US>&lt;<b>packaging</b>&gt;war&lt;/<b>packaging</b>&gt;</span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
lang=EN-US><span style='mso-tab-count:1'>       </span>b)</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>在</span><span lang=EN-US>maven project</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>中找到</span><span lang=EN-US>app_logs_collect_web</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>工程，点击</span><span lang=EN-US>clean,</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>然后点击</span><span lang=EN-US>package</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>。生成</span><span lang=EN-US>war</span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>包。</span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
lang=EN-US style='mso-no-proof:yes'><!--[if gte vml 1]><v:shape id="_x0000_i1047"
 type="#_x0000_t75" alt="" style='width:416pt;height:193pt;visibility:visible;
 mso-width-percent:0;mso-height-percent:0;mso-width-percent:0;
 mso-height-percent:0'>
 <v:imagedata src="APP信息统计分析系统.fld/image033.png" o:title=""/>
</v:shape><![endif]--><![if !vml]><img border=0 width=416 height=193
src="APP信息统计分析系统.fld/image033.png" v:shapes="_x0000_i1047"><![endif]><o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
lang=EN-US style='mso-no-proof:yes'><span style='mso-tab-count:1'>       </span>c)</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-no-proof:yes'>查找到</span><span lang=EN-US
style='mso-no-proof:yes'>war</span><span style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman";mso-no-proof:yes'>包，并修改名称为</span><span
lang=EN-US style='mso-no-proof:yes'>app_logs</span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-no-proof:yes'>。</span><span lang=EN-US style='mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt;mso-char-indent-count:2.0;
line-height:150%'><span lang=EN-US style='mso-no-proof:yes'><!--[if gte vml 1]><v:shape
 id="_x0000_i1046" type="#_x0000_t75" alt="" style='width:215pt;height:182pt;
 visibility:visible;mso-width-percent:0;mso-height-percent:0;
 mso-width-percent:0;mso-height-percent:0'>
 <v:imagedata src="APP信息统计分析系统.fld/image034.png" o:title="" cropright="6687f"/>
</v:shape><![endif]--><![if !vml]><img border=0 width=215 height=182
src="APP信息统计分析系统.fld/image035.png" v:shapes="_x0000_i1046"><![endif]><span
style='mso-spacerun:yes'>     </span><!--[if gte vml 1]><v:shape id="_x0000_i1045"
 type="#_x0000_t75" alt="" style='width:149pt;height:181pt;visibility:visible;
 mso-width-percent:0;mso-height-percent:0;mso-width-percent:0;
 mso-height-percent:0'>
 <v:imagedata src="APP信息统计分析系统.fld/image036.png" o:title="" cropleft="3016f"/>
</v:shape><![endif]--><![if !vml]><img border=0 width=149 height=181
src="APP信息统计分析系统.fld/image037.png" v:shapes="_x0000_i1045"><![endif]><o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt;mso-char-indent-count:
2.0;line-height:150%'><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-no-proof:yes'>修改</span><span
lang=EN-US style='mso-no-proof:yes'>app_logs_collect_web-1.0-SNAPSHOT.war</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-no-proof:yes'>的名称为</span><span lang=EN-US
style='mso-no-proof:yes'>app_logs.war</span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>（</span><span lang=EN-US>2</span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>）将</span><span
lang=EN-US>app_logs.war</span><span style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>导入到</span><span
lang=EN-US>linux</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>的</span><span lang=EN-US>/opt/module/tomcat/webapps</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>路径下</span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>（</span><span lang=EN-US>3</span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>）启动</span><span
lang=EN-US>Tomcat</span></p>

<p class=MsoNormal style='margin-left:21.0pt;mso-para-margin-left:2.0gd;
text-indent:21.0pt;line-height:150%'><span lang=EN-US style='color:#7030A0'>[atguigu@hadoop102
bin]$ pwd<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:21.0pt;mso-para-margin-left:2.0gd;
text-indent:21.0pt;line-height:150%'><span lang=EN-US>/opt/module/tomcat/bin</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt;line-height:
150%'><span lang=EN-US style='color:#7030A0'>[atguigu@hadoop102 bin]$
./startup.sh<o:p></o:p></span></p>

<h3 style='margin:0cm;margin-bottom:.0001pt'><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'>5.2.5 </span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>测试</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'><o:p></o:p></span></h3>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US style='color:black'><span
style='mso-tab-count:1'>       </span></span><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
color:black'>修改</span><span lang=EN-US style='color:black'>app_logs_client</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";color:black'>工程中的</span><span lang=EN-US style='color:black'>UploadUtil</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";color:black'>中的请求地址为</span><span lang=EN-US style='color:
black'><o:p></o:p></span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:26.7pt;border-collapse:collapse;border:none;mso-border-alt:
 solid windowtext .5pt;mso-yfti-tbllook:1184;mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
 mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=520 valign=top style='width:389.8pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal style='line-height:150%'><span lang=EN-US
  style='color:#7030A0'>URL url = <span style='mso-bidi-font-weight:bold'>new </span>URL(<span
  style='mso-bidi-font-weight:bold'>&quot;http://hadoop102:8080/app_logs/coll/index&quot;</span>);<i>//
  </i></span><i><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
  mso-hansi-font-family:"Times New Roman";color:#7030A0'>生产地址</span></i><span
  lang=EN-US style='color:#7030A0'><o:p></o:p></span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US style='color:black'><span
style='mso-tab-count:1'>       </span></span><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
color:black'>执行日志生成程序，观察能否正确收到响应码</span><span lang=EN-US style='color:black'>200</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";color:black'>，否则需要进一步调试。</span><span lang=EN-US
style='color:black'><o:p></o:p></span></p>

<h2 style='margin:0cm;margin-bottom:.0001pt'><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'>5.3 Flume</span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%;font-family:黑体;mso-ascii-font-family:
Arial;mso-hansi-font-family:Arial'>模块</span><span lang=X-NONE style='font-size:
14.0pt;line-height:172%'><o:p></o:p></span></h2>

<h3 style='margin:0cm;margin-bottom:.0001pt'><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'>5.3.1 </span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>配置</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'>Hadoop</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>集群</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'><o:p></o:p></span></h3>

<p class=MsoNormal><span lang=EN-US>1</span><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>）配置</span><span
lang=EN-US>Hadoop</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>集群，详见：</span><span lang=EN-US>RT</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>大数据技术之</span><span lang=EN-US>Hadoop</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>（入门）</span><span lang=EN-US>.doc</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>文档</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>2</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）启动</span><span lang=EN-US>hadoop</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>集群</span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
lang=EN-US style='color:#7030A0'>[atguigu@hadoop102 hadoop-2.7.2]$
sbin/start-dfs.sh<o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
lang=EN-US style='color:#7030A0'>[atguigu@hadoop103 hadoop-2.7.2]$
sbin/start-yarn.sh<o:p></o:p></span></p>

<h3 style='margin:0cm;margin-bottom:.0001pt'><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'>5.3.2 Flume</span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>安装</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'><o:p></o:p></span></h3>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>1</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）将</span><span lang=EN-US>apache-flume-1.7.0-bin.tar.gz</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>导入到</span><span lang=EN-US>Linux</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>系统中</span><span lang=EN-US>/opt/sotfware</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>目录下</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>2</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）解压</span><span lang=EN-US>apache-flume-1.7.0-bin.tar.gz</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>到</span><span lang=EN-US>/opt/module</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>目录下</span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
lang=EN-US style='color:#7030A0'>[atguigu@hadoop102 software]$ tar -zxvf
apache-flume-1.7.0-bin.tar.gz -C /opt/module/<o:p></o:p></span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>3</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）修改</span><span lang=EN-US>apache-flume-1.7.0-bin</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>名称为</span><span lang=EN-US>flume</span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
lang=EN-US style='color:#7030A0'>[atguigu@hadoop102 module]$ mv
apache-flume-1.7.0-bin/ flume<o:p></o:p></span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US style='color:black'>4</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";color:black'>）配置</span><span lang=EN-US style='color:black'>flume</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";color:black'>环境变量</span><span lang=EN-US style='color:black'><o:p></o:p></span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US style='color:#7030A0'><span
style='mso-tab-count:1'>       </span>[</span><span lang=EN-US
style='color:red'>root</span><span lang=EN-US style='color:#7030A0'>@hadoop102
flume]# vi /etc/profile<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:21.0pt;mso-para-margin-left:2.0gd;
line-height:150%'><span lang=EN-US style='color:black'>#FLUME_HOME<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:21.0pt;mso-para-margin-left:2.0gd;
line-height:150%'><span lang=EN-US style='color:black'>export
FLUME_HOME=/opt/module/flume<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:21.0pt;mso-para-margin-left:2.0gd;
line-height:150%'><span lang=EN-US style='color:black'>export
PATH=$PATH:$FLUME_HOME/bin<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:21.0pt;mso-para-margin-left:2.0gd;
line-height:150%'><span lang=EN-US style='color:#7030A0'>[</span><span
lang=EN-US style='color:red'>root</span><span lang=EN-US style='color:#7030A0'>@hadoop102
flume]# source /etc/profile<o:p></o:p></span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US style='color:black'>5</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";color:black'>）验证</span><span lang=EN-US style='color:black'>Flume</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";color:black'>环境变量配置</span><span lang=EN-US style='color:black'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:21.0pt;mso-para-margin-left:2.0gd;
line-height:150%'><span lang=EN-US style='color:#7030A0'>[root@hadoop102
flume]# flume-ng version<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:21.0pt;mso-para-margin-left:2.0gd;
line-height:150%'><span lang=EN-US style='color:#7030A0'>Flume 1.7.0<o:p></o:p></span></p>

<h3 style='margin:0cm;margin-bottom:.0001pt'><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'>5.3.3 </span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>创建</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'>Flume</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>拦截器</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'><o:p></o:p></span></h3>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>1</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）创建拦截器主要目的是区分</span><span lang=EN-US>kafka</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>传递过来的日志类型。</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>2</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）自定义拦截器实操</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US><span
style='mso-tab-count:1'>       </span></span><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>（</span><span
lang=EN-US>1</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>）创建</span><span lang=EN-US>Java</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>工程</span><span lang=EN-US>app_logs_flume</span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>（</span><span lang=EN-US>2</span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>）添加</span><span
lang=EN-US>maven</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>支持，并导入</span><span lang=EN-US>pom</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>文件，并刷新一下</span><span lang=EN-US>maven</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none;mso-border-alt:
 solid windowtext .5pt;mso-yfti-tbllook:1184;mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
 mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=548 valign=top style='width:411.1pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><i><span lang=EN-US>&lt;?</span></i><b><span lang=EN-US>xml
  version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;</span></b><i><span
  lang=EN-US>?&gt;<br>
  </span></i><span lang=EN-US>&lt;<b>project
  xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;<br>
  <span style='mso-spacerun:yes'>        
  </span>xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;<br>
  <span style='mso-spacerun:yes'>        
  </span>xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0
  http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</b>&gt;<br>
  <span style='mso-spacerun:yes'>    </span>&lt;<b>modelVersion</b>&gt;4.0.0&lt;/<b>modelVersion</b>&gt;<br>
  <br>
  <span style='mso-spacerun:yes'>    </span>&lt;<b>groupId</b>&gt;com.atguigu&lt;/<b>groupId</b>&gt;<br>
  <span style='mso-spacerun:yes'>    </span>&lt;<b>artifactId</b>&gt;app_logs_flume&lt;/<b>artifactId</b>&gt;<br>
  <span style='mso-spacerun:yes'>    </span>&lt;<b>version</b>&gt;1.0-SNAPSHOT&lt;/<b>version</b>&gt;<br>
  <br>
  <span style='mso-spacerun:yes'>    </span>&lt;<b>dependencies</b>&gt;<br>
  <span style='mso-spacerun:yes'>        </span>&lt;<b>dependency</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>groupId</b>&gt;<span
  style='color:red'>org.apache.flume</span>&lt;/<b>groupId</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>artifactId</b>&gt;<span
  style='color:red'>flume-ng-core</span>&lt;/<b>artifactId</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>version</b>&gt;1.7.0&lt;/<b>version</b>&gt;<br>
  <span style='mso-spacerun:yes'>        </span>&lt;/<b>dependency</b>&gt;<br>
  <span style='mso-spacerun:yes'>    </span>&lt;/<b>dependencies</b>&gt;<br>
  &lt;/<b>project</b>&gt;</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US><span
style='mso-tab-count:1'>       </span></span><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>（</span><span
lang=EN-US>2</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>）代码实现</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US><span
style='mso-tab-count:1'>       </span>a)</span><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>创建包名：</span><span
lang=EN-US>com.atguigu.app.flume.interceptor</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US><span
style='mso-tab-count:1'>       </span>b)</span><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>根据系统时间拦截器自定义拦截器：</span><span
lang=EN-US>Ctrl+shift+t</span><span style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>，输入</span><span
lang=EN-US style='color:red'>TimestampInterceptor</span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
color:red'>，</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";color:black'>将系统时间拦截器中代码拷贝过来，替换</span><span
lang=EN-US style='color:black'>TimestampInterceptor</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";color:black'>的名称为</span><span lang=EN-US style='color:black'>LogCollInterceptor</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";color:black'>。</span><span lang=EN-US style='color:red'><o:p></o:p></span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US><span
style='mso-tab-count:1'>       </span>c)</span><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>编写连接器业务代码</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none;mso-border-alt:
 solid windowtext .5pt;mso-yfti-tbllook:1184;mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
 mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=548 valign=top style='width:411.1pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><b><span lang=EN-US>package </span></b><span lang=EN-US>com.atguigu.app.flume.interceptor;<br>
  <b>import </b>org.apache.flume.Context;<br>
  <b>import </b>org.apache.flume.Event;<br>
  <b>import </b>org.apache.flume.interceptor.Interceptor;<br>
  <b>import </b>java.util.List;<br>
  <b>import </b>java.util.Map;<br>
  <b>import static </b>org.apache.flume.interceptor.TimestampInterceptor.Constants.*;<br>
  <i>/**<br>
  <span style='mso-spacerun:yes'> </span>* </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>自定义</span><span lang=EN-US>flume</span></i><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>的拦截器</span><span lang=EN-US>,</span></i><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>提取</span><span lang=EN-US>body</span></i><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>中的日志类型作为</span><span lang=EN-US>header<br>
  <span style='mso-spacerun:yes'> </span>*/<br>
  </span></i><b><span lang=EN-US>public class </span></b><span lang=EN-US>LogCollInterceptor
  <b>implements </b><span style='color:red'>Interceptor</span> {<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><b>private final boolean
  preserveExisting</b>;<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><b>private </b>LogCollInterceptor(<b>boolean
  </b>preserveExisting) {<br>
  <span style='mso-spacerun:yes'>        </span><b>this</b>.<b>preserveExisting
  </b>= preserveExisting;<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><b>public void </b>initialize() {<br>
  <br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><i>/**<br>
  <span style='mso-spacerun:yes'>     </span>* Modifies events in-place.<br>
  <span style='mso-spacerun:yes'>     </span>*/<br>
  <span style='mso-spacerun:yes'>    </span></i><b>public </b>Event
  intercept(Event event) {<br>
  <span style='mso-spacerun:yes'>        </span><i>// 1</i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>获取</span><span lang=EN-US>flume</span></i><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>接收消息头</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>        </span></span></i><span lang=EN-US>Map&lt;String,
  String&gt; headers = event.getHeaders();<br>
  <br>
  <span style='mso-spacerun:yes'>        </span><i>// 2</i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>获取</span><span lang=EN-US>flume</span></i><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>接收的</span><span lang=EN-US>json</span></i><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>数据数组</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>        </span></span></i><b><span lang=EN-US>byte</span></b><span
  lang=EN-US>[] json = event.getBody();<br>
  <span style='mso-spacerun:yes'>        </span><i>// </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>将</span><span lang=EN-US>json</span></i><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>数组转换为字符串</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>        </span></span></i><span lang=EN-US>String
  jsonStr = <b>new </b>String(json);<br>
  <br>
  <span style='mso-spacerun:yes'>        </span><i>// pageLog<br>
  <span style='mso-spacerun:yes'>        </span></i>String logType = <b>&quot;&quot;
  </b>;<br>
  <span style='mso-spacerun:yes'>        </span><b>if</b>(jsonStr.contains(<b>&quot;pageId&quot;</b>)){<br>
  <span style='mso-spacerun:yes'>            </span>logType = <b>&quot;page&quot;
  </b>;<br>
  <span style='mso-spacerun:yes'>        </span>}<br>
  <span style='mso-spacerun:yes'>        </span><i>// eventLog<br>
  <span style='mso-spacerun:yes'>        </span></i><b>else if </b>(jsonStr.contains(<b>&quot;eventId&quot;</b>))
  {<br>
  <span style='mso-spacerun:yes'>            </span>logType = <b>&quot;event&quot;</b>;<br>
  <span style='mso-spacerun:yes'>        </span>}<br>
  <span style='mso-spacerun:yes'>        </span><i>// usageLog<br>
  <span style='mso-spacerun:yes'>        </span></i><b>else if </b>(jsonStr.contains(<b>&quot;singleUseDurationSecs&quot;</b>))
  {<br>
  <span style='mso-spacerun:yes'>            </span>logType = <b>&quot;usage&quot;</b>;<br>
  <span style='mso-spacerun:yes'>        </span>}<br>
  <span style='mso-spacerun:yes'>        </span><i>// error<br>
  <span style='mso-spacerun:yes'>        </span></i><b>else if </b>(jsonStr.contains(<b>&quot;errorBrief&quot;</b>))
  {<br>
  <span style='mso-spacerun:yes'>            </span>logType = <b>&quot;error&quot;</b>;<br>
  <span style='mso-spacerun:yes'>        </span>}<br>
  <span style='mso-spacerun:yes'>        </span><i>// startup<br>
  <span style='mso-spacerun:yes'>        </span></i><b>else if </b>(jsonStr.contains(<b>&quot;network&quot;</b>))
  {<br>
  <span style='mso-spacerun:yes'>            </span>logType = <b>&quot;startup&quot;</b>;<br>
  <span style='mso-spacerun:yes'>        </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>        </span><i>// 3</i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>将日志类型存储到</span><span lang=EN-US>flume</span></i><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>头中</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>        </span></span></i><span lang=EN-US>headers.put(<b>&quot;logType&quot;</b>,
  logType);<br>
  <br>
  <span style='mso-spacerun:yes'>        </span><b>return </b>event;<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><i>/**<br>
  <span style='mso-spacerun:yes'>     </span>* Delegates to {<b>@link </b>#intercept(Event)}
  in a loop.<br>
  <span style='mso-spacerun:yes'>     </span>* <b>@param events<br>
  <span style='mso-spacerun:yes'>     </span></b>* <b>@return<br>
  <span style='mso-spacerun:yes'>     </span></b>*/<br>
  <span style='mso-spacerun:yes'>    </span></i><b>public </b>List&lt;Event&gt;
  intercept(List&lt;Event&gt; events) {<br>
  <span style='mso-spacerun:yes'>        </span><b>for </b>(Event event :
  events) {<br>
  <span style='mso-spacerun:yes'>            </span>intercept(event);<br>
  <span style='mso-spacerun:yes'>        </span>}<br>
  <span style='mso-spacerun:yes'>        </span><b>return </b>events;<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><b>public void </b>close() {<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  <br>
  <i><span style='mso-spacerun:yes'>    </span></i><b>public static class </b>Builder
  <b>implements </b>Interceptor.Builder {<br>
  <br>
  <span style='mso-spacerun:yes'>        </span><b>private boolean
  preserveExisting </b>= <i>PRESERVE_DFLT</i>;<br>
  <br>
  <span style='mso-spacerun:yes'>        </span><b>public </b>Interceptor
  build() {<br>
  <span style='mso-spacerun:yes'>            </span><b>return new </b>LogCollInterceptor(<b>preserveExisting</b>);<br>
  <span style='mso-spacerun:yes'>        </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>        </span><b>public void </b>configure(Context
  context) {<br>
  <span style='mso-spacerun:yes'>            </span><b>preserveExisting </b>=
  context.getBoolean(<i>PRESERVE</i>, <i>PRESERVE_DFLT</i>);<br>
  <span style='mso-spacerun:yes'>        </span>}<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><b>public static class </b>Constants
  {<br>
  <span style='mso-spacerun:yes'>        </span><b>public static </b>String <i>TIMESTAMP
  </i>= <b>&quot;timestamp&quot;</b>;<br>
  <span style='mso-spacerun:yes'>        </span><b>public static </b>String <i>PRESERVE
  </i>= <b>&quot;preserveExisting&quot;</b>;<br>
  <span style='mso-spacerun:yes'>        </span><b>public static boolean </b><i>PRESERVE_DFLT
  </i>= <b>false</b>;<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  }</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>（</span><span lang=EN-US>3</span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>）打成</span><span
lang=EN-US>jar</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>包，修改</span><span lang=EN-US>jar</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>包名称为</span><span lang=EN-US>app_logs_flume.jar</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>，然后将该</span><span lang=EN-US>jar</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>包导入</span><span lang=EN-US>linux</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>虚拟机</span><span lang=EN-US>/opt/module/flume/lib</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>目录下。</span></p>

<h3 style='margin:0cm;margin-bottom:.0001pt'><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'>5.3.4 </span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>配置</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'>Flume<o:p></o:p></span></h3>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>1</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）配置需求：实现消费</span><span lang=EN-US>kafka</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>的</span><span lang=EN-US>5</span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>个主题，并把数据导入到</span><span
lang=EN-US>HDFS</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>文件系统。</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>2</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）配置实现：</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US style='color:#7030A0'><span
style='mso-tab-count:1'>       </span>[atguigu@hadoop102 conf]$ pwd<o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
lang=EN-US>/opt/module/flume/conf</span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
lang=EN-US style='color:#7030A0'>[atguigu@hadoop102 conf]$ cp
flume-conf.properties.template flume-conf.properties<o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
lang=EN-US style='color:#7030A0'>[atguigu@hadoop102 conf]$ vi
flume-conf.properties<o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";color:black'>打开文件的末尾追加以下内容</span><span lang=EN-US
style='color:black'><o:p></o:p></span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;mso-table-layout-alt:fixed;
 border:none;mso-border-alt:solid windowtext .5pt;mso-yfti-tbllook:1184;
 mso-padding-alt:0cm 5.4pt 0cm 5.4pt;mso-border-insideh:.5pt solid windowtext;
 mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=548 valign=top style='width:411.1pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>a1.sources=r1</span></p>
  <p class=MsoNormal><span lang=EN-US>a1.channels=c1</span></p>
  <p class=MsoNormal><span lang=EN-US>a1.sinks=k1</span></p>
  <p class=MsoNormal><span lang=EN-US><o:p>&nbsp;</o:p></span></p>
  <p class=MsoNormal><span lang=EN-US style='color:red'>a1.sources.r1.interceptors
  = i1<o:p></o:p></span></p>
  <p class=MsoNormal><span lang=EN-US style='color:red'>a1.sources.r1.interceptors.i1.type
  = com.atguigu.app.flume.interceptor.LogCollInterceptor$Builder<o:p></o:p></span></p>
  <p class=MsoNormal><span lang=EN-US>a1.sources.r1.type =
  org.apache.flume.source.kafka.KafkaSource</span></p>
  <p class=MsoNormal><span lang=EN-US>a1.sources.r1.batchSize = 5000</span></p>
  <p class=MsoNormal><span lang=EN-US>a1.sources.r1.batchDurationMillis = 2000</span></p>
  <p class=MsoNormal><span lang=EN-US>a1.sources.r1.kafka.bootstrap.servers =
  hadoop102:9092</span></p>
  <p class=MsoNormal><span lang=EN-US>a1.sources.r1.kafka.zookeeperConnect =
  hadoop102:2181,hadoop103:2181,hadoop104:2181</span></p>
  <p class=MsoNormal><span lang=EN-US>a1.sources.r1.kafka.topics=topic_app_startup,topic_app_error,topic_app_event,topic_app_usage,topic_app_page</span></p>
  <p class=MsoNormal><span lang=EN-US><o:p>&nbsp;</o:p></span></p>
  <p class=MsoNormal><span lang=EN-US>a1.channels.c1.type=memory</span></p>
  <p class=MsoNormal><span lang=EN-US>a1.channels.c1.capacity=100000</span></p>
  <p class=MsoNormal><span lang=EN-US>a1.channels.c1.transactionCapacity=10000</span></p>
  <p class=MsoNormal><span lang=EN-US><o:p>&nbsp;</o:p></span></p>
  <p class=MsoNormal><span lang=EN-US>a1.sinks.k1.type = hdfs</span></p>
  <p class=MsoNormal><span lang=EN-US>a1.sinks.k1.hdfs.path = <span
  style='color:red'>/user/centos/applogs/%{logType}/%Y%m/%d/%H%M<o:p></o:p></span></span></p>
  <p class=MsoNormal><span lang=EN-US>a1.sinks.k1.hdfs.filePrefix = events-</span></p>
  <p class=MsoNormal><span lang=EN-US>a1.sinks.k1.hdfs.round = true</span></p>
  <p class=MsoNormal><span lang=EN-US>a1.sinks.k1.hdfs.roundValue = 30</span></p>
  <p class=MsoNormal><span lang=EN-US>a1.sinks.k1.hdfs.roundUnit = second</span></p>
  <p class=MsoNormal><span lang=EN-US><o:p>&nbsp;</o:p></span></p>
  <p class=MsoNormal><span lang=EN-US>#</span><span style='font-family:宋体;
  mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>不要产生大量小文件</span></p>
  <p class=MsoNormal><span lang=EN-US>a1.sinks.k1.hdfs.rollInterval = 30</span></p>
  <p class=MsoNormal><span lang=EN-US>a1.sinks.k1.hdfs.rollSize = 0</span></p>
  <p class=MsoNormal><span lang=EN-US>a1.sinks.k1.hdfs.rollCount = 0</span></p>
  <p class=MsoNormal><span lang=EN-US>#</span><span style='font-family:宋体;
  mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>控制输出文件是原生文件。</span></p>
  <p class=MsoNormal><span lang=EN-US>a1.sinks.k1.hdfs.fileType = DataStream</span></p>
  <p class=MsoNormal><span lang=EN-US><o:p>&nbsp;</o:p></span></p>
  <p class=MsoNormal><span lang=EN-US>a1.sources.r1.channels = c1</span></p>
  <p class=MsoNormal><span lang=EN-US>a1.sinks.k1.channel= c1</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>2</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）启动</span><span lang=EN-US>flume </span></p>

<p class=MsoNormal style='margin-left:21.0pt;mso-para-margin-left:2.0gd;
line-height:150%'><span lang=EN-US style='color:#7030A0'>[atguigu@hadoop102
conf]$ pwd<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:21.0pt;mso-para-margin-left:2.0gd;
line-height:150%'><span lang=EN-US>/opt/module/flume/conf</span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
lang=EN-US style='color:#7030A0'>[atguigu@hadoop102 conf]$ flume-ng agent -f
flume-conf.properties -n a1<o:p></o:p></span></p>

<h3 style='margin:0cm;margin-bottom:.0001pt'><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'>5.3.5 </span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>测试</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'><o:p></o:p></span></h3>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
lang=EN-US style='color:black'>1</span><span style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman";color:black'>）启动日志生成程序</span><span
lang=EN-US style='color:black'><o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
lang=EN-US style='color:black'>2</span><span style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman";color:black'>）查看</span><span
lang=EN-US style='color:black'>HDFS</span><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
color:black'>的</span><span lang=EN-US style='color:black'>/user/centos/applogs</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";color:black'>路径上是否有数据收到。</span><span lang=EN-US
style='color:black'><o:p></o:p></span></p>

<h1 style='margin:0cm;margin-bottom:.0001pt'><span lang=X-NONE
style='font-size:15.0pt;line-height:240%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>六</span><span
lang=X-NONE style='font-size:15.0pt;line-height:240%'> </span><span
lang=X-NONE style='font-size:15.0pt;line-height:240%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>数据处理模块框架搭建</span><span
lang=X-NONE style='font-size:15.0pt;line-height:240%'><o:p></o:p></span></h1>

<h2 style='margin:0cm;margin-bottom:.0001pt'><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'>6.1 </span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%;font-family:黑体;mso-ascii-font-family:
Arial;mso-hansi-font-family:Arial'>数据处理模块集群部署规划</span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'><o:p></o:p></span></h2>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none;mso-border-alt:
 solid windowtext .5pt;mso-yfti-tbllook:1184;mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
 mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes'>
  <td width=182 valign=top style='width:136.6pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>Hadoop102</span><span style='font-family:
  宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>主机</span></p>
  </td>
  <td width=189 valign=top style='width:142.05pt;border:solid windowtext 1.0pt;
  border-left:none;mso-border-left-alt:solid windowtext .5pt;mso-border-alt:
  solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>Hadoop103</span><span style='font-family:
  宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>主机</span></p>
  </td>
  <td width=177 valign=top style='width:132.45pt;border:solid windowtext 1.0pt;
  border-left:none;mso-border-left-alt:solid windowtext .5pt;mso-border-alt:
  solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>Hadoop104</span><span style='font-family:
  宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>主机</span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1'>
  <td width=182 valign=top style='width:136.6pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=189 valign=top style='width:142.05pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>Hive1.2.1</span></p>
  </td>
  <td width=177 valign=top style='width:132.45pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US><o:p>&nbsp;</o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:2;mso-yfti-lastrow:yes'>
  <td width=182 valign=top style='width:136.6pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>Mysql 5.6.24</span></p>
  </td>
  <td width=189 valign=top style='width:142.05pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=177 valign=top style='width:132.45pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US><o:p>&nbsp;</o:p></span></p>
  </td>
 </tr>
</table>

<h2 style='margin:0cm;margin-bottom:.0001pt'><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'>6.2 </span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%;font-family:黑体;mso-ascii-font-family:
Arial;mso-hansi-font-family:Arial'>配置</span><span lang=X-NONE style='font-size:
14.0pt;line-height:172%'>Hive</span><span lang=X-NONE style='font-size:14.0pt;
line-height:172%;font-family:黑体;mso-ascii-font-family:Arial;mso-hansi-font-family:
Arial'>元数据存储到</span><span lang=X-NONE style='font-size:14.0pt;line-height:172%'>mysql<o:p></o:p></span></h2>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>具体安装配置，详见：</span><span lang=EN-US>RT</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>大数据技术之</span><span lang=EN-US>Hive.doc</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>文档</span></p>

<h2 style='margin:0cm;margin-bottom:.0001pt'><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'>6.3 </span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%;font-family:黑体;mso-ascii-font-family:
Arial;mso-hansi-font-family:Arial'>配置</span><span lang=X-NONE style='font-size:
14.0pt;line-height:172%'>Hive</span><span lang=X-NONE style='font-size:14.0pt;
line-height:172%;font-family:黑体;mso-ascii-font-family:Arial;mso-hansi-font-family:
Arial'>支持</span><span lang=X-NONE style='font-size:14.0pt;line-height:172%'>JSON</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%;font-family:黑体;mso-ascii-font-family:
Arial;mso-hansi-font-family:Arial'>存储</span><span lang=X-NONE style='font-size:
14.0pt;line-height:172%'><o:p></o:p></span></h2>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US><span
style='mso-tab-count:1'>       </span></span><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>在</span><span
lang=EN-US>Hive</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>中采用</span><span lang=EN-US>Json</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>作为存储格式，需要建表时指定</span><span lang=EN-US>Serde</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>。</span><span lang=EN-US>Insert into</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>时，</span><span lang=EN-US>Hive</span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>使用</span><span
lang=EN-US>json</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>格式进行保存，查询时，通过</span><span lang=EN-US>json</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>库进行解析。</span><span lang=EN-US>Hive</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>默认输出是压缩格式，这里改成不压缩。</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>1</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）实操</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US><span
style='mso-tab-count:1'>       </span></span><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>（</span><span
lang=EN-US>1</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>）将</span><span lang=EN-US>json-serde-1.3.8-jar-with-dependencies.jar</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>导入到</span><span lang=EN-US>hive</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>的</span><span lang=EN-US>/opt/module/hive/lib</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>路径下。</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US><span
style='mso-tab-count:1'>       </span></span><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>（</span><span
lang=EN-US>2</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>）在</span><span lang=EN-US>/opt/module/hive/conf/hive-site.xml</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>文件中添加如下配置</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none;mso-border-alt:
 solid windowtext .5pt;mso-yfti-tbllook:1184;mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
 mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=548 valign=top style='width:411.1pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>&lt;property&gt;</span></p>
  <p class=MsoNormal><span lang=EN-US><span style='mso-spacerun:yes'> </span><span
  style='mso-spacerun:yes'>  
  </span>&lt;name&gt;hive.aux.jars.path&lt;/name&gt;</span></p>
  <p class=MsoNormal><span lang=EN-US><span style='mso-spacerun:yes'>   
  </span>&lt;value&gt;file:///opt/module/hive/lib/json-serde-1.3.8-jar-with-dependencies.jar&lt;/value&gt;</span></p>
  <p class=MsoNormal><span lang=EN-US>&lt;/property&gt;</span></p>
  <p class=MsoNormal><span lang=EN-US><o:p>&nbsp;</o:p></span></p>
  <p class=MsoNormal><span lang=EN-US>&lt;property&gt;</span></p>
  <p class=MsoNormal><span lang=EN-US><span style='mso-spacerun:yes'>   
  </span>&lt;name&gt;hive.exec.compress.output&lt;/name&gt;</span></p>
  <p class=MsoNormal><span lang=EN-US><span style='mso-spacerun:yes'>   
  </span>&lt;value&gt;false&lt;/value&gt;</span></p>
  <p class=MsoNormal><span lang=EN-US>&lt;/property&gt;</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<h2 style='margin:0cm;margin-bottom:.0001pt'><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'>6.4 </span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%;font-family:黑体;mso-ascii-font-family:
Arial;mso-hansi-font-family:Arial'>创建数据库及分区表</span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'><o:p></o:p></span></h2>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>0</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）启动</span><span lang=EN-US>hive</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US style='color:#7030A0'><span
style='mso-tab-count:1'>       </span>[atguigu@hadoop103 hive]$ bin/hive<o:p></o:p></span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US><span
style='mso-tab-count:1'>       </span></span><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>查看数据库</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US style='color:#7030A0'><span
style='mso-tab-count:1'>       </span>hive (default)&gt; show databases;<o:p></o:p></span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US style='color:black'><span
style='mso-tab-count:1'>       </span></span><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
color:black'>如果</span><span lang=EN-US style='color:black'>applogs_db</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";color:black'>存在则删除数据库</span><span lang=EN-US
style='color:black'><o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
lang=EN-US style='color:#7030A0'>hive (default)&gt; drop database applogs_db;<o:p></o:p></span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>1</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）创建数据库</span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
lang=EN-US style='color:#7030A0'>hive (default)&gt; create database applogsdb ;<o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";color:black'>使用</span><span lang=EN-US style='color:black'>applogsdb</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";color:black'>数据库</span><span lang=EN-US style='color:black'><o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
lang=EN-US style='color:#7030A0'>hive (default)&gt; use applogsdb;<o:p></o:p></span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>2</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）创建分区表</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none;mso-border-alt:
 solid windowtext .5pt;mso-yfti-tbllook:1184;mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
 mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=548 valign=top style='width:411.1pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US style='mso-no-proof:yes'>--startup<o:p></o:p></span></p>
  <p class=MsoNormal><span lang=EN-US style='mso-no-proof:yes'>CREATE external
  TABLE <span style='color:red'>ext_startup_logs</span>(createdAtMs
  bigint,appId string,tenantId string,deviceId string,appVersion
  string,appChannel string,appPlatform string,osType string,deviceStyle
  string,country string,province string,ipAddress string,network string,carrier
  string,brand string,screenSize string)PARTITIONED BY (ym string, day
  string,hm string) ROW FORMAT SERDE 'org.openx.data.jsonserde.JsonSerDe'
  STORED AS TEXTFILE;<o:p></o:p></span></p>
  <p class=MsoNormal><span lang=EN-US style='mso-no-proof:yes'><o:p>&nbsp;</o:p></span></p>
  <p class=MsoNormal><span lang=EN-US style='mso-no-proof:yes'>--error<o:p></o:p></span></p>
  <p class=MsoNormal><span lang=EN-US style='mso-no-proof:yes'>CREATE external
  TABLE <span style='color:red'>ext_error_logs</span>(createdAtMs bigint,appId
  string,tenantId string,deviceId string,appVersion string,appChannel
  string,appPlatform string,osType string,deviceStyle string,errorBrief
  string,errorDetail string)PARTITIONED BY (ym string, day string,hm string)
  ROW FORMAT SERDE 'org.openx.data.jsonserde.JsonSerDe' STORED AS TEXTFILE;<o:p></o:p></span></p>
  <p class=MsoNormal><span lang=EN-US style='mso-no-proof:yes'><o:p>&nbsp;</o:p></span></p>
  <p class=MsoNormal><span lang=EN-US style='mso-no-proof:yes'>--event<o:p></o:p></span></p>
  <p class=MsoNormal><span lang=EN-US style='mso-no-proof:yes'>CREATE external
  TABLE <span style='color:red'>ext_event_logs</span>(createdAtMs bigint,appId
  string,tenantId string,deviceId string,appVersion string,appChannel
  string,appPlatform string,osType string,deviceStyle string,eventId
  string,eventDurationSecs bigint,paramKeyValueMap
  Map&lt;string,string&gt;)PARTITIONED BY (ym string, day string,hm string) ROW
  FORMAT SERDE 'org.openx.data.jsonserde.JsonSerDe' STORED AS TEXTFILE;<o:p></o:p></span></p>
  <p class=MsoNormal><span lang=EN-US style='mso-no-proof:yes'><o:p>&nbsp;</o:p></span></p>
  <p class=MsoNormal><span lang=EN-US style='mso-no-proof:yes'>--page<o:p></o:p></span></p>
  <p class=MsoNormal><span lang=EN-US style='mso-no-proof:yes'>CREATE external
  TABLE <span style='color:red'>ext_page_logs</span>(createdAtMs bigint,appId
  string,tenantId string,deviceId string,appVersion string,appChannel
  string,appPlatform string,osType string,deviceStyle
  string,pageViewCntInSession int,pageId string,visitIndex int,nextPage
  string,stayDurationSecs bigint)PARTITIONED BY (ym string, day string,hm
  string) ROW FORMAT SERDE 'org.openx.data.jsonserde.JsonSerDe' STORED AS
  TEXTFILE;<o:p></o:p></span></p>
  <p class=MsoNormal><span lang=EN-US style='mso-no-proof:yes'><o:p>&nbsp;</o:p></span></p>
  <p class=MsoNormal><span lang=EN-US style='mso-no-proof:yes'>--usage<o:p></o:p></span></p>
  <p class=MsoNormal><span lang=EN-US style='mso-no-proof:yes'>CREATE external
  TABLE <span style='color:red'>ext_usage_logs</span>(createdAtMs bigint,appId
  string,tenantId string,deviceId string,appVersion string,appChannel
  string,appPlatform string,osType string,deviceStyle string,singleUseDurationSecs
  bigint,singleUploadTraffic bigint,singleDownloadTraffic bigint)PARTITIONED BY
  (ym string, day string,hm string) ROW FORMAT SERDE
  'org.openx.data.jsonserde.JsonSerDe' STORED AS TEXTFILE;<o:p></o:p></span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>3</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）查看数据库中的分区表</span></p>

<p class=MsoNormal style='margin-left:21.0pt;mso-para-margin-left:2.0gd;
line-height:150%'><span lang=EN-US style='color:#7030A0'>hive (applogsdb)&gt;
show tables;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:42.0pt;mso-para-margin-left:4.0gd;
line-height:150%'><span lang=EN-US>tab_name</span></p>

<p class=MsoNormal style='margin-left:42.0pt;mso-para-margin-left:4.0gd;
line-height:150%'><span lang=EN-US>ext_error_logs</span></p>

<p class=MsoNormal style='margin-left:42.0pt;mso-para-margin-left:4.0gd;
line-height:150%'><span lang=EN-US>ext_event_logs</span></p>

<p class=MsoNormal style='margin-left:42.0pt;mso-para-margin-left:4.0gd;
line-height:150%'><span lang=EN-US>ext_page_logs</span></p>

<p class=MsoNormal style='margin-left:42.0pt;mso-para-margin-left:4.0gd;
line-height:150%'><span lang=EN-US>ext_startup_logs</span></p>

<p class=MsoNormal style='margin-left:42.0pt;mso-para-margin-left:4.0gd;
line-height:150%'><span lang=EN-US>ext_usage_logs</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>4</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）退出</span><span lang=EN-US>hive</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US style='color:#7030A0'><span
style='mso-tab-count:1'>       </span>hive (applogsdb)&gt; quit;<o:p></o:p></span></p>

<h2 style='margin:0cm;margin-bottom:.0001pt'><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'>6.5 </span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%;font-family:黑体;mso-ascii-font-family:
Arial;mso-hansi-font-family:Arial'>编写</span><span lang=X-NONE style='font-size:
14.0pt;line-height:172%'>Hive</span><span lang=X-NONE style='font-size:14.0pt;
line-height:172%;font-family:黑体;mso-ascii-font-family:Arial;mso-hansi-font-family:
Arial'>执行脚本</span><span lang=X-NONE style='font-size:14.0pt;line-height:172%'><o:p></o:p></span></h2>

<p class=MsoNormal><span lang=EN-US>0</span><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>）需求：实现每隔一分钟将</span><span
lang=EN-US>HDFS</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>上的数据，导入到</span><span lang=EN-US>Hive</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>对应分区中一次。</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>1</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）</span><span lang=EN-US>Date</span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>命令</span></p>

<p class=MsoNormal style='margin-left:31.5pt;mso-para-margin-left:3.0gd;
line-height:150%'><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>（</span><span lang=EN-US>1</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）明天</span></p>

<p class=MsoNormal style='margin-left:31.5pt;mso-para-margin-left:3.0gd;
line-height:150%'><span lang=EN-US style='color:#7030A0'>[atguigu@hadoop103
shell]$ date -d &quot;1 day&quot; +%Y%m%d<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:31.5pt;mso-para-margin-left:3.0gd;
line-height:150%'><span lang=EN-US>20171107</span></p>

<p class=MsoNormal style='margin-left:31.5pt;mso-para-margin-left:3.0gd;
line-height:150%'><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>（</span><span lang=EN-US>2</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）昨天</span></p>

<p class=MsoNormal style='margin-left:31.5pt;mso-para-margin-left:3.0gd;
line-height:150%'><span lang=EN-US style='color:#7030A0'>[atguigu@hadoop103
shell]$ date -d &quot;-1 day&quot; +%Y%m%d<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:31.5pt;mso-para-margin-left:3.0gd;
line-height:150%'><span lang=EN-US>20171105</span></p>

<p class=MsoNormal style='margin-left:31.5pt;mso-para-margin-left:3.0gd;
line-height:150%'><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>（</span><span lang=EN-US>3</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）上一个月</span></p>

<p class=MsoNormal style='margin-left:31.5pt;mso-para-margin-left:3.0gd;
line-height:150%'><span lang=EN-US style='color:#7030A0'>[atguigu@hadoop103
shell]$ date -d &quot;-1 month&quot; +%Y%m%d<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:31.5pt;mso-para-margin-left:3.0gd;
line-height:150%'><span lang=EN-US>20171006</span></p>

<p class=MsoNormal style='margin-left:31.5pt;mso-para-margin-left:3.0gd;
line-height:150%'><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>（</span><span lang=EN-US>4</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）前三分钟</span></p>

<p class=MsoNormal style='margin-left:31.5pt;mso-para-margin-left:3.0gd;
line-height:150%'><span lang=EN-US style='color:#7030A0'>[atguigu@hadoop103
shell]$ date -d &quot;-3 minute&quot; +%Y%m-%d-%H%M<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:10.5pt;text-indent:21.0pt;line-height:
150%'><span lang=EN-US>201711-06-1130</span></p>

<p class=MsoNormal style='margin-left:10.5pt;text-indent:21.0pt;line-height:
150%'><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>（</span><span lang=EN-US>5</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）用“</span><span lang=EN-US>-</span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>”分割，截取出第一个参数</span></p>

<p class=MsoNormal style='margin-left:31.5pt;mso-para-margin-left:3.0gd;
line-height:150%'><span lang=EN-US style='color:#7030A0'>[atguigu@hadoop103
shell]$ date -d &quot;-3 minute&quot; +%Y%m-%d-%H%M | </span><span lang=EN-US
style='color:red'>awk -F '-' '{print $1}'<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:10.5pt;text-indent:21.0pt;line-height:
150%'><span lang=EN-US>201711</span></p>

<p class=MsoNormal style='margin-left:10.5pt;text-indent:21.0pt;line-height:
150%'><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>（</span><span lang=EN-US>6</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）用“</span><span lang=EN-US>-</span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>”分割，截取出第二个参数</span></p>

<p class=MsoNormal style='margin-left:31.5pt;mso-para-margin-left:3.0gd;
line-height:150%'><span lang=EN-US style='color:#7030A0'><span
style='mso-spacerun:yes'> </span>[atguigu@hadoop103 shell]$ date -d &quot;-3
minute&quot; +%Y%m-%d-%H%M | </span><span lang=EN-US style='color:red'>awk -F
'-' '{print $2}'<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:10.5pt;text-indent:21.0pt;line-height:
150%'><span lang=EN-US>06</span></p>

<p class=MsoNormal style='margin-left:10.5pt;text-indent:21.0pt;line-height:
150%'><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>（</span><span lang=EN-US>7</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）用“</span><span lang=EN-US>-</span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>”分割，截取出第三个参数</span></p>

<p class=MsoNormal style='margin-left:31.5pt;mso-para-margin-left:3.0gd;
line-height:150%'><span lang=EN-US style='color:#7030A0'><span
style='mso-spacerun:yes'> </span>[atguigu@hadoop103 shell]$ date -d &quot;-3
minute&quot; +%Y%m-%d-%H%M | </span><span lang=EN-US style='color:red'>awk -F
'-' '{print $3}'<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:10.5pt;text-indent:21.0pt;line-height:
150%'><span lang=EN-US>1131</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>2</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）在</span><span lang=EN-US>/opt/module/shell</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>目录下编写</span><span lang=EN-US>shell</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>脚本（</span><span lang=EN-US>hdfstohive.sh</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）</span><span lang=EN-US> </span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US><span
style='mso-tab-count:1'>       </span></span><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>（</span><span
lang=EN-US>1</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>）创建文件夹：</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt;line-height:
150%'><span lang=EN-US style='color:#7030A0'>[atguigu@hadoop103 module]$ mkdir
shell<o:p></o:p></span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US><span
style='mso-tab-count:1'>       </span></span><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>（</span><span
lang=EN-US>2</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>）创建脚本</span><span lang=EN-US>hdfstohive.sh</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US style='color:#7030A0'><span
style='mso-tab-count:2'>              </span>[atguigu@hadoop103 shell]$ touch
hdfstohive.sh<o:p></o:p></span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:33.75pt;border-collapse:collapse;border:none;mso-border-alt:
 solid windowtext .5pt;mso-yfti-tbllook:1184;mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
 mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=510 valign=top style='width:382.75pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>#!/bin/bash</span></p>
  <p class=MsoNormal><span lang=EN-US>systime=`date -d &quot;-3 minute&quot;
  +%Y%m-%d-%H%M`</span></p>
  <p class=MsoNormal><span lang=EN-US>ym=`echo ${systime} | awk -F '-' '{print
  $1}'`</span></p>
  <p class=MsoNormal><span lang=EN-US>day=`echo ${systime} | awk -F '-' '{print
  $2}'`</span></p>
  <p class=MsoNormal><span lang=EN-US>hm=`echo ${systime} | awk -F '-' '{print
  $3}'`</span></p>
  <p class=MsoNormal><span lang=EN-US><o:p>&nbsp;</o:p></span></p>
  <p class=MsoNormal><span lang=EN-US>#</span><span style='font-family:宋体;
  mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>执行</span><span
  lang=EN-US>hive</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
  mso-hansi-font-family:"Times New Roman"'>的命令</span></p>
  <p class=MsoNormal><span lang=EN-US><o:p>&nbsp;</o:p></span></p>
  <p class=MsoNormal><span lang=EN-US>hive -e &quot;load data inpath
  '/user/centos/applogs/startup/${ym}/${day}/${hm}' into table
  applogsdb.ext_startup_logs
  partition(ym='${ym}',day='${day}',hm='${hm}')&quot;</span></p>
  <p class=MsoNormal><span lang=EN-US>hive -e &quot;load data inpath
  '/user/centos/applogs/error/${ym}/${day}/${hm}' into table
  applogsdb.ext_error_logs partition(ym='${ym}',day='${day}',hm='${hm}')&quot;</span></p>
  <p class=MsoNormal><span lang=EN-US>hive -e &quot;load data inpath
  '/user/centos/applogs/event/${ym}/${day}/${hm}' into table
  applogsdb.ext_event_logs partition(ym='${ym}',day='${day}',hm='${hm}')&quot;</span></p>
  <p class=MsoNormal><span lang=EN-US>hive -e &quot;load data inpath
  '/user/centos/applogs/usage/${ym}/${day}/${hm}' into table applogsdb.ext_usage_logs
  partition(ym='${ym}',day='${day}',hm='${hm}')&quot;</span></p>
  <p class=MsoNormal><span lang=EN-US>hive -e &quot;load data inpath
  '/user/centos/applogs/page/${ym}/${day}/${hm}' into table
  applogsdb.ext_page_logs partition(ym='${ym}',day='${day}',hm='${hm}')&quot;</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>（</span><span lang=EN-US>3</span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>）修改脚本</span><span
lang=EN-US>hdfstohive.sh</span><span style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>权限</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US style='color:#7030A0'><span
style='mso-tab-count:2'>              </span>[atguigu@hadoop103 shell]$ chmod
777 hdfstohive.sh<o:p></o:p></span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US style='color:black'><span
style='mso-tab-count:1'>       </span></span><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
color:black'>（</span><span lang=EN-US style='color:black'>4</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";color:black'>）必须保证</span><span lang=EN-US style='color:black'>hive</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";color:black'>的环境变量已经配置</span><span lang=EN-US
style='color:black'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt;line-height:
150%'><span lang=EN-US style='color:#7030A0'>[root@hadoop103 shell]# vi
/etc/profile<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:63.0pt;mso-para-margin-left:6.0gd;
line-height:150%'><span lang=EN-US style='color:black'>#HIVE_HOME<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:63.0pt;mso-para-margin-left:6.0gd;
line-height:150%'><span lang=EN-US style='color:black'>export
HIVE_HOME=/opt/module/hive<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:63.0pt;mso-para-margin-left:6.0gd;
line-height:150%'><span lang=EN-US style='color:black'>export
PATH=$PATH:$HIVE_HOME/bin <o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:42.0pt;mso-para-margin-left:4.0gd;
line-height:150%'><span lang=EN-US style='color:#7030A0'>[root@hadoop103
shell]# source /etc/profile<o:p></o:p></span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US style='color:#7030A0'><span
style='mso-tab-count:1'>       </span></span><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
color:black'>（</span><span lang=EN-US style='color:black'>5</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";color:black'>）执行一下</span><span lang=EN-US style='color:black'>hive</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";color:black'>脚本</span><span lang=EN-US style='color:black'><o:p></o:p></span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US style='color:#7030A0'><span
style='mso-tab-count:2'>              </span>[atguigu@hadoop103 shell]$
./hdfstohive.sh<o:p></o:p></span></p>

<h2 style='margin:0cm;margin-bottom:.0001pt'><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'>6.6 </span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%;font-family:黑体;mso-ascii-font-family:
Arial;mso-hansi-font-family:Arial'>编写</span><span lang=X-NONE style='font-size:
14.0pt;line-height:172%'>Linux</span><span lang=X-NONE style='font-size:14.0pt;
line-height:172%;font-family:黑体;mso-ascii-font-family:Arial;mso-hansi-font-family:
Arial'>调度</span><span lang=X-NONE style='font-size:14.0pt;line-height:172%'>crondtab<o:p></o:p></span></h2>

<p class=MsoNormal><span lang=EN-US>1</span><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>）</span><span
lang=EN-US>crontab</span><span style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>常用命令</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US><span
style='mso-tab-count:1'>       </span></span><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>（</span><span
lang=EN-US>1</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>）查看状态：</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt;line-height:
150%'><span lang=EN-US style='color:#7030A0'>service crond status<o:p></o:p></span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US><span
style='mso-tab-count:1'>       </span></span><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>（</span><span
lang=EN-US>2</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>）停止状态：</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt;line-height:
150%'><span lang=EN-US style='color:#7030A0'>service crond stop<o:p></o:p></span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US><span
style='mso-tab-count:1'>       </span></span><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>（</span><span
lang=EN-US>3</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>）启动状态：</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt;line-height:
150%'><span lang=EN-US style='color:#7030A0'>service crond start<o:p></o:p></span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US><span
style='mso-tab-count:1'>       </span></span><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>（</span><span
lang=EN-US>4</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>）编辑</span><span lang=EN-US>crontab</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>定时任务</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt;line-height:
150%'><span lang=EN-US style='color:#7030A0'>crontab -e<o:p></o:p></span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US><span
style='mso-tab-count:1'>       </span></span><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>（</span><span
lang=EN-US>5</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>）查询</span><span lang=EN-US>crontab</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>任务</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt;line-height:
150%'><span lang=EN-US style='color:#7030A0'>crontab -l<o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>（</span><span lang=EN-US>6</span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>）删除当前用户所有的</span><span
lang=EN-US>crontab</span><span style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>任务</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt;line-height:
150%'><span lang=EN-US style='color:#7030A0'>crontab -r<o:p></o:p></span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>2</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）编写</span><span lang=EN-US>crontab</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>调度</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US><span
style='mso-tab-count:1'>       </span>1</span><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>）进入编写</span><span
lang=EN-US>crontab</span><span style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>调度</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt;line-height:
150%'><span lang=EN-US style='color:#7030A0'>[atguigu@hadoop103 shell]$ crontab
-e<o:p></o:p></span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US><span
style='mso-tab-count:1'>       </span>2</span><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>）实现每分钟执行一次</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:26.7pt;border-collapse:collapse;border:none;mso-border-alt:
 solid windowtext .5pt;mso-yfti-tbllook:1184;mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
 mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=520 valign=top style='width:389.8pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US style='color:#7030A0'>*/30 * * * * source
  /etc/profile; /opt/module/shell/hdfstohive.sh<o:p></o:p></span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:26.7pt;border-collapse:collapse;border:none;mso-border-alt:
 solid windowtext .5pt;mso-yfti-tbllook:1184;mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
 mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes'>
  <td width=154 valign=top style='width:115.3pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
  mso-hansi-font-family:"Times New Roman"'>项目</span><span lang=EN-US><span
  style='mso-spacerun:yes'>  </span></span></p>
  </td>
  <td width=189 valign=top style='width:142.05pt;border:solid windowtext 1.0pt;
  border-left:none;mso-border-left-alt:solid windowtext .5pt;mso-border-alt:
  solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
  mso-hansi-font-family:"Times New Roman"'>含义</span><span lang=EN-US><span
  style='mso-spacerun:yes'>  </span></span></p>
  </td>
  <td width=177 valign=top style='width:132.45pt;border:solid windowtext 1.0pt;
  border-left:none;mso-border-left-alt:solid windowtext .5pt;mso-border-alt:
  solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
  mso-hansi-font-family:"Times New Roman"'>范围</span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1'>
  <td width=154 valign=top style='width:115.3pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
  mso-hansi-font-family:"Times New Roman"'>第一个“</span><span lang=EN-US>*</span><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>”</span></p>
  </td>
  <td width=189 valign=top style='width:142.05pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
  mso-hansi-font-family:"Times New Roman"'>一小时当中的第几分钟</span></p>
  </td>
  <td width=177 valign=top style='width:132.45pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>0-59</span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:2'>
  <td width=154 valign=top style='width:115.3pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
  mso-hansi-font-family:"Times New Roman"'>第二个“</span><span lang=EN-US>*</span><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>”</span></p>
  </td>
  <td width=189 valign=top style='width:142.05pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
  mso-hansi-font-family:"Times New Roman"'>一天当中的第几小时</span></p>
  </td>
  <td width=177 valign=top style='width:132.45pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>0-23</span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:3'>
  <td width=154 valign=top style='width:115.3pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
  mso-hansi-font-family:"Times New Roman"'>第三个“</span><span lang=EN-US>*</span><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>”</span></p>
  </td>
  <td width=189 valign=top style='width:142.05pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
  mso-hansi-font-family:"Times New Roman"'>一个月当中的第几天</span></p>
  </td>
  <td width=177 valign=top style='width:132.45pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>1-31</span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:4'>
  <td width=154 valign=top style='width:115.3pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
  mso-hansi-font-family:"Times New Roman"'>第四个“</span><span lang=EN-US>*</span><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>”</span></p>
  </td>
  <td width=189 valign=top style='width:142.05pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
  mso-hansi-font-family:"Times New Roman"'>一年当中的第几月</span></p>
  </td>
  <td width=177 valign=top style='width:132.45pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>1-12</span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:5;mso-yfti-lastrow:yes'>
  <td width=154 valign=top style='width:115.3pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
  mso-hansi-font-family:"Times New Roman"'>第五个“</span><span lang=EN-US>*</span><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>”</span></p>
  </td>
  <td width=189 valign=top style='width:142.05pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
  mso-hansi-font-family:"Times New Roman"'>一周当中的星期几</span></p>
  </td>
  <td width=177 valign=top style='width:132.45pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>0-7</span><span style='font-family:宋体;
  mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>（</span><span
  lang=EN-US>0</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
  mso-hansi-font-family:"Times New Roman"'>和</span><span lang=EN-US>7</span><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>都代表星期日）</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US><span
style='mso-tab-count:1'>       </span>3</span><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>）查看</span><span
lang=EN-US>crontab</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US style='color:#7030A0'><span
style='mso-tab-count:1'>       </span><span style='mso-tab-count:1'>       </span>[atguigu@hadoop103
shell]$ crontab -l<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt;line-height:
150%'><span lang=EN-US>*/30 * * * * source /etc/profile;
/opt/module/shell/hdfstohive.sh</span></p>

<h2 style='margin:0cm;margin-bottom:.0001pt'><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'>6.7 </span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%;font-family:黑体;mso-ascii-font-family:
Arial;mso-hansi-font-family:Arial'>测试</span><span lang=X-NONE style='font-size:
14.0pt;line-height:172%'><o:p></o:p></span></h2>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>1</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）启动日志生成程序</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>2</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）等待三分钟后，检查</span><span lang=EN-US>HDFS</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>的</span><span lang=EN-US>/user/hive/warehouse/applogsdb.db</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>路径是否有新数据产生。</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>3</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）查询所有启动日志信息</span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
lang=EN-US style='color:#7030A0'>[atguigu@hadoop103 shell]$ hive<o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
lang=EN-US style='color:#7030A0'>hive (default)&gt; use applogsdb;<o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
lang=EN-US style='color:#7030A0'>hive (applogsdb)&gt; select * from
ext_startup_logs;<o:p></o:p></span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>4</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）查询指定</span><span lang=EN-US>app</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>的用户数</span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
lang=EN-US style='color:#7030A0'>hive (applogsdb)&gt; select count(distinct
deviceid) from ext_startup_logs where appid='sdk34734';<o:p></o:p></span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>5</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）统计新增用户</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US><span
style='mso-tab-count:1'>       </span></span><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>需要自定义</span><span
lang=EN-US>UDF</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>函数</span></p>

<h1 style='margin:0cm;margin-bottom:.0001pt'><span lang=X-NONE
style='font-size:15.0pt;line-height:240%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>七</span><span
lang=X-NONE style='font-size:15.0pt;line-height:240%'> </span><span
lang=X-NONE style='font-size:15.0pt;line-height:240%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>业务需求处理</span><span
lang=X-NONE style='font-size:15.0pt;line-height:240%'><o:p></o:p></span></h1>

<h2 style='margin:0cm;margin-bottom:.0001pt'><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'>7.1 </span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%;font-family:黑体;mso-ascii-font-family:
Arial;mso-hansi-font-family:Arial'>自定义</span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'>UDF</span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%;font-family:黑体;mso-ascii-font-family:
Arial;mso-hansi-font-family:Arial'>函数</span><span lang=X-NONE style='font-size:
14.0pt;line-height:172%'><o:p></o:p></span></h2>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>0</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）需求：</span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>根据输入的时间信息，返回当天的起始时间；</span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>根据输入的时间信息，返回本周的起始时间；</span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>根据输入的时间信息，返回本月的起始时间；</span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>根据输入的时间和时间格式化信息，返回按照格式化要求显示的信息。</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>1</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）编写获取日期开始时间、周开始时间、和月开始时间的工具类</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none;mso-border-alt:
 solid windowtext .5pt;mso-yfti-tbllook:1184;mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
 mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=548 valign=top style='width:411.1pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><b><span lang=EN-US>package </span></b><span lang=EN-US>com.atguigu.hive;<br>
  <b>import </b>java.text.SimpleDateFormat;<br>
  <b>import </b>java.util.Calendar;<br>
  <b>import </b>java.util.Date;<br>
  <br>
  <b>public class </b>DateUtil {<br>
  <span style='mso-spacerun:yes'>    </span><i>/**<br>
  <span style='mso-spacerun:yes'>     </span>* </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>得到指定</span><span lang=EN-US>date</span></i><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>的零时刻</span><span lang=EN-US>.<br>
  <span style='mso-spacerun:yes'>     </span>*/<br>
  <span style='mso-spacerun:yes'>    </span></span></i><b><span lang=EN-US>public
  static </span></b><span lang=EN-US>Date getDayBeginTime(Date d) {<br>
  <br>
  <span style='mso-spacerun:yes'>        </span><b>try </b>{<br>
  <span style='mso-spacerun:yes'>            </span>SimpleDateFormat sdf = <b>new
  </b>SimpleDateFormat(<b>&quot;yyyy/MM/dd 00:00:00&quot;</b>);<br>
  <br>
  <span style='mso-spacerun:yes'>            </span><b>return </b>sdf.parse(sdf.format(d));<br>
  <span style='mso-spacerun:yes'>        </span>} <b>catch </b>(Exception e) {<br>
  <span style='mso-spacerun:yes'>            </span>e.printStackTrace();<br>
  <span style='mso-spacerun:yes'>        </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>        </span><b>return null</b>;<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><i>/**<br>
  <span style='mso-spacerun:yes'>     </span>* </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>得到指定</span><span lang=EN-US>date</span></i><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>的偏移量零时刻</span><span lang=EN-US>.<br>
  <span style='mso-spacerun:yes'>     </span>*/<br>
  <span style='mso-spacerun:yes'>    </span></span></i><b><span lang=EN-US>public
  static </span></b><span lang=EN-US>Date getDayBeginTime(Date d, <b>int </b>offset)
  {<br>
  <br>
  <span style='mso-spacerun:yes'>        </span><b>try </b>{<br>
  <span style='mso-spacerun:yes'>            </span>SimpleDateFormat sdf = <b>new
  </b>SimpleDateFormat(<b>&quot;yyyy/MM/dd 00:00:00&quot;</b>);<br>
  <span style='mso-spacerun:yes'>            </span>Date beginDate =
  sdf.parse(sdf.format(d));<br>
  <span style='mso-spacerun:yes'>            </span>Calendar c = Calendar.<i>getInstance</i>();<br>
  <span style='mso-spacerun:yes'>            </span>c.setTime(beginDate);<br>
  <span style='mso-spacerun:yes'>            </span>c.add(Calendar.<b><i>DAY_OF_MONTH</i></b>,
  offset);<br>
  <br>
  <span style='mso-spacerun:yes'>            </span><b>return </b>c.getTime();<br>
  <span style='mso-spacerun:yes'>        </span>} <b>catch </b>(Exception e) {<br>
  <span style='mso-spacerun:yes'>            </span>e.printStackTrace();<br>
  <span style='mso-spacerun:yes'>        </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>        </span><b>return null</b>;<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><i>/**<br>
  <span style='mso-spacerun:yes'>     </span>* </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>得到指定</span><span lang=EN-US>date</span></i><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>所在周的起始时刻</span><span lang=EN-US>.<br>
  <span style='mso-spacerun:yes'>     </span>*/<br>
  <span style='mso-spacerun:yes'>    </span></span></i><b><span lang=EN-US>public
  static </span></b><span lang=EN-US>Date getWeekBeginTime(Date d) {<br>
  <br>
  <span style='mso-spacerun:yes'>        </span><b>try </b>{<br>
  <span style='mso-spacerun:yes'>            </span><i>//</i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>得到</span><span lang=EN-US>d</span></i><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>的零时刻</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>            </span></span></i><span
  lang=EN-US>Date beginDate = <i>getDayBeginTime</i>(d);<br>
  <span style='mso-spacerun:yes'>            </span>Calendar c = Calendar.<i>getInstance</i>();<br>
  <span style='mso-spacerun:yes'>            </span>c.setTime(beginDate);<br>
  <span style='mso-spacerun:yes'>           </span><span
  style='mso-spacerun:yes'> </span><b>int </b>n = c.get(Calendar.<b><i>DAY_OF_WEEK</i></b>);<br>
  <span style='mso-spacerun:yes'>            </span>c.add(Calendar.<b><i>DAY_OF_MONTH</i></b>,
  -(n - 1));<br>
  <br>
  <span style='mso-spacerun:yes'>            </span><b>return </b>c.getTime();<br>
  <span style='mso-spacerun:yes'>        </span>} <b>catch </b>(Exception e) {<br>
  <span style='mso-spacerun:yes'>            </span>e.printStackTrace();<br>
  <span style='mso-spacerun:yes'>        </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>        </span><b>return null</b>;<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><i>/**<br>
  <span style='mso-spacerun:yes'>     </span>* </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>得到指定</span><span lang=EN-US>date</span></i><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>所在周的起始时刻</span><span lang=EN-US>.<br>
  <span style='mso-spacerun:yes'>     </span>*/<br>
  <span style='mso-spacerun:yes'>    </span></span></i><b><span lang=EN-US>public
  static </span></b><span lang=EN-US>Date getWeekBeginTime(Date d, <b>int </b>offset)
  {<br>
  <br>
  <span style='mso-spacerun:yes'>        </span><b>try </b>{<br>
  <span style='mso-spacerun:yes'>            </span><i>//</i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>得到</span><span lang=EN-US>d</span></i><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>的零时刻</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>            </span></span></i><span
  lang=EN-US>Date beginDate = <i>getDayBeginTime</i>(d);<br>
  <span style='mso-spacerun:yes'>            </span>Calendar c = Calendar.<i>getInstance</i>();<br>
  <span style='mso-spacerun:yes'>            </span>c.setTime(beginDate);<br>
  <span style='mso-spacerun:yes'>            </span><b>int </b>n =
  c.get(Calendar.<b><i>DAY_OF_WEEK</i></b>);<br>
  <br>
  <span style='mso-spacerun:yes'>            </span><i>//</i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>定位到本周第一天</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>            </span></span></i><span
  lang=EN-US>c.add(Calendar.<b><i>DAY_OF_MONTH</i></b>, -(n - 1));<br>
  <span style='mso-spacerun:yes'>            </span>c.add(Calendar.<b><i>DAY_OF_MONTH</i></b>,
  offset * 7);<br>
  <br>
  <span style='mso-spacerun:yes'>            </span><b>return </b>c.getTime();<br>
  <span style='mso-spacerun:yes'>        </span>} <b>catch </b>(Exception e) {<br>
  <span style='mso-spacerun:yes'>            </span>e.printStackTrace();<br>
  <span style='mso-spacerun:yes'>        </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>        </span><b>return null</b>;<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><i>/**<br>
  <span style='mso-spacerun:yes'>     </span>* </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>得到指定</span><span lang=EN-US>date</span></i><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>所在月的起始时刻</span><span lang=EN-US>.<br>
  <span style='mso-spacerun:yes'>     </span>*/<br>
  <span style='mso-spacerun:yes'>    </span></span></i><b><span lang=EN-US>public
  static </span></b><span lang=EN-US>Date getMonthBeginTime(Date d) {<br>
  <br>
  <span style='mso-spacerun:yes'>        </span><b>try </b>{<br>
  <span style='mso-spacerun:yes'>            </span><i>//</i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>得到</span><span lang=EN-US>d</span></i><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>的零时刻</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>            </span></span></i><span
  lang=EN-US>Date beginDate = <i>getDayBeginTime</i>(d);<br>
  <span style='mso-spacerun:yes'>            </span>SimpleDateFormat sdf = <b>new
  </b>SimpleDateFormat(<b>&quot;yyyy/MM/01 00:00:00&quot;</b>);<br>
  <br>
  <span style='mso-spacerun:yes'>            </span><b>return </b>sdf.parse(sdf.format(beginDate));<br>
  <span style='mso-spacerun:yes'>        </span>} <b>catch </b>(Exception e) {<br>
  <span style='mso-spacerun:yes'>            </span>e.printStackTrace();<br>
  <span style='mso-spacerun:yes'>        </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>        </span><b>return null</b>;<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><i>/**<br>
  <span style='mso-spacerun:yes'>     </span>* </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>得到指定</span><span lang=EN-US>date</span></i><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>所在月的起始时刻</span><span lang=EN-US>.<br>
  <span style='mso-spacerun:yes'>     </span>*/<br>
  <span style='mso-spacerun:yes'>    </span></span></i><b><span lang=EN-US>public
  static </span></b><span lang=EN-US>Date getMonthBeginTime(Date d, <b>int </b>offset)
  {<br>
  <br>
  <span style='mso-spacerun:yes'>        </span><b>try </b>{<br>
  <span style='mso-spacerun:yes'>            </span><i>//</i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>得到</span><span lang=EN-US>d</span></i><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>的零时刻</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>            </span></span></i><span
  lang=EN-US>Date beginDate = <i>getDayBeginTime</i>(d);<br>
  <span style='mso-spacerun:yes'>            </span>SimpleDateFormat sdf = <b>new
  </b>SimpleDateFormat(<b>&quot;yyyy/MM/01 00:00:00&quot;</b>);<br>
  <br>
  <span style='mso-spacerun:yes'>            </span><i>//d</i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>所在月的第一天的零时刻</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>       </span><span
  style='mso-spacerun:yes'>     </span></span></i><span lang=EN-US>Date
  firstDay = sdf.parse(sdf.format(beginDate));<br>
  <br>
  <span style='mso-spacerun:yes'>            </span>Calendar c = Calendar.<i>getInstance</i>();<br>
  <span style='mso-spacerun:yes'>            </span>c.setTime(firstDay);<br>
  <br>
  <span style='mso-spacerun:yes'>            </span><i>//</i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>对月进行滚动</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>            </span></span></i><span
  lang=EN-US>c.add(Calendar.<b><i>MONTH</i></b>, offset);<br>
  <br>
  <span style='mso-spacerun:yes'>            </span><b>return </b>c.getTime();<br>
  <span style='mso-spacerun:yes'>        </span>} <b>catch </b>(Exception e) {<br>
  <span style='mso-spacerun:yes'>            </span>e.printStackTrace();<br>
  <span style='mso-spacerun:yes'>        </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>        </span><b>return null</b>;<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  }</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>2</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）编写</span><span lang=EN-US>DayBeginUDF</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>、</span><span lang=EN-US>WeekBeginUDF</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>、</span><span lang=EN-US>MonthBeginUDF</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>、</span><span lang=EN-US>FormatTimeUDF</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>函数</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US><span
style='mso-tab-count:1'>       </span></span><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>（</span><span
lang=EN-US>1</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>）创建</span><span lang=EN-US>java</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>工程导入</span><span lang=EN-US>pom.xml</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>文件</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US><span
style='mso-tab-count:2'>              </span></span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>创建</span><span
lang=EN-US>jar</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>工程：</span><span lang=EN-US>app_logs_hive</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US><span
style='mso-tab-count:2'>              </span></span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>添加</span><span
lang=EN-US>maven</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>框架支持，并导入</span><span lang=EN-US>pom</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>文件，并刷新一下</span><span lang=EN-US>maven</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:26.7pt;border-collapse:collapse;border:none;mso-border-alt:
 solid windowtext .5pt;mso-yfti-tbllook:1184;mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
 mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=520 valign=top style='width:389.8pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><i><span lang=EN-US>&lt;?</span></i><b><span lang=EN-US>xml
  version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;</span></b><i><span
  lang=EN-US>?&gt;<br>
  </span></i><span lang=EN-US>&lt;<b>project
  xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;<br>
  <span style='mso-spacerun:yes'>        
  </span>xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;<br>
  <span style='mso-spacerun:yes'>        
  </span>xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0
  http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</b>&gt;<br>
  <span style='mso-spacerun:yes'>    </span>&lt;<b>modelVersion</b>&gt;4.0.0&lt;/<b>modelVersion</b>&gt;<br>
  <br>
  <span style='mso-spacerun:yes'>    </span>&lt;<b>groupId</b>&gt;com.atguigu&lt;/<b>groupId</b>&gt;<br>
  <span style='mso-spacerun:yes'>    </span>&lt;<b>artifactId</b>&gt;app_logs_hive&lt;/<b>artifactId</b>&gt;<br>
  <span style='mso-spacerun:yes'>    </span>&lt;<b>version</b>&gt;1.0-SNAPSHOT&lt;/<b>version</b>&gt;<br>
  <br>
  <span style='mso-spacerun:yes'>    </span>&lt;<b>dependencies</b>&gt;<br>
  <span style='mso-spacerun:yes'>        </span>&lt;<b>dependency</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>groupId</b>&gt;junit&lt;/<b>groupId</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>artifactId</b>&gt;junit&lt;/<b>artifactId</b>&gt;<br>
  <span style='mso-spacerun:yes'>    </span><span
  style='mso-spacerun:yes'>        </span>&lt;<b>version</b>&gt;4.12&lt;/<b>version</b>&gt;<br>
  <span style='mso-spacerun:yes'>        </span>&lt;/<b>dependency</b>&gt;<br>
  <br>
  <span style='mso-spacerun:yes'>        </span>&lt;<b>dependency</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>groupId</b>&gt;org.apache.hive&lt;/<b>groupId</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>artifactId</b>&gt;hive-exec&lt;/<b>artifactId</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>version</b>&gt;1.2.1&lt;/<b>version</b>&gt;<br>
  <span style='mso-spacerun:yes'>        </span>&lt;/<b>dependency</b>&gt;<br>
  <span style='mso-spacerun:yes'>    </span>&lt;/<b>dependencies</b>&gt;<br>
  &lt;/<b>project</b>&gt;</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>（</span><span lang=EN-US>2</span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>）编写</span><span
lang=EN-US>DayBeginUDF</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US><span
style='mso-tab-count:2'>              </span></span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>创建包名：</span><span
lang=EN-US>com.atguigu.hive</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US><span
style='mso-tab-count:2'>              </span></span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>编写代码：</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:26.7pt;border-collapse:collapse;border:none;mso-border-alt:
 solid windowtext .5pt;mso-yfti-tbllook:1184;mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
 mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=520 valign=top style='width:389.8pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><b><span lang=EN-US>package </span></b><span lang=EN-US>com.atguigu.hive;<br>
  <b>import </b>org.apache.hadoop.hive.ql.exec.UDF;<br>
  <b>import </b>java.text.ParseException;<br>
  <b>import </b>java.text.SimpleDateFormat;<br>
  <b>import </b>java.util.Date;<br>
  <br>
  <i>/**<br>
  <span style='mso-spacerun:yes'> </span>* </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>计算</span><span lang=EN-US>day</span></i><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>起始毫秒数</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'> </span>*/<br>
  </span></i><b><span lang=EN-US>public class </span></b><span lang=EN-US>DayBeginUDF
  <b>extends </b>UDF {<br>
  <br>
  <span style='mso-spacerun:yes'>   </span><i>// </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>计算现在的起始时刻</span><span lang=EN-US>(</span></i><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>毫秒数</span><span lang=EN-US>)<br>
  <span style='mso-spacerun:yes'>   </span></span></i><b><span lang=EN-US>public
  long </span></b><span lang=EN-US>evaluate() <b>throws </b>ParseException {<br>
  <span style='mso-spacerun:yes'>      </span><b>return </b>evaluate(<b>new </b>Date());<br>
  <span style='mso-spacerun:yes'>   </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><i>// </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>指定天偏移量</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>   </span></span></i><b><span lang=EN-US>public
  long </span></b><span lang=EN-US>evaluate(<b>int </b>offset) <b>throws </b>ParseException
  {<br>
  <span style='mso-spacerun:yes'>      </span><b>return </b>evaluate(DateUtil.<i>getDayBeginTime</i>(<b>new
  </b>Date(), offset));<br>
  <span style='mso-spacerun:yes'>   </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>   </span><i>// </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>计算某天的起始时刻，日期类型</span><span lang=EN-US>(</span></i><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>毫秒数</span><span lang=EN-US>)<br>
  <span style='mso-spacerun:yes'>   </span></span></i><b><span lang=EN-US>public
  long </span></b><span lang=EN-US>evaluate(Date d) <b>throws </b>ParseException
  {<br>
  <span style='mso-spacerun:yes'>      </span><b>return </b>DateUtil.<i>getDayBeginTime</i>(d).getTime();<br>
  <span style='mso-spacerun:yes'>   </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>   </span><i>// </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>计算某天的起始时刻，日期类型，带偏移量</span><span lang=EN-US>(</span></i><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>毫秒数</span><span lang=EN-US>)<br>
  <span style='mso-spacerun:yes'>   </span></span></i><b><span lang=EN-US>public
  long </span></b><span lang=EN-US>evaluate(Date d, <b>int </b>offset) <b>throws
  </b>ParseException {<br>
  <span style='mso-spacerun:yes'>      </span><b>return </b>DateUtil.<i>getDayBeginTime</i>(d,
  offset).getTime();<br>
  <span style='mso-spacerun:yes'>   </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>   </span><i>// </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>计算某天的起始时刻，</span><span lang=EN-US>String</span></i><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>类型</span><span lang=EN-US>(</span></i><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>毫秒数</span><span lang=EN-US>)<br>
  <span style='mso-spacerun:yes'>   </span></span></i><b><span lang=EN-US>public
  long </span></b><span lang=EN-US>evaluate(String dateStr) <b>throws </b>ParseException
  {<br>
  <br>
  <span style='mso-spacerun:yes'>      </span>SimpleDateFormat sdf = <b>new </b>SimpleDateFormat(<b>&quot;yyyy/MM/dd
  HH:mm:ss&quot;</b>);<br>
  <span style='mso-spacerun:yes'>      </span>Date d = sdf.parse(dateStr);<br>
  <br>
  <span style='mso-spacerun:yes'>      </span><b>return </b>evaluate(d);<br>
  <span style='mso-spacerun:yes'>   </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>   </span><i>// </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>计算某天的起始时刻，</span><span lang=EN-US>String</span></i><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>类型，带偏移量</span><span lang=EN-US>(</span></i><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>毫秒数</span><span lang=EN-US>)<br>
  <span style='mso-spacerun:yes'>   </span></span></i><b><span lang=EN-US>public
  long </span></b><span lang=EN-US>evaluate(String dateStr, <b>int </b>offset) <b>throws
  </b>ParseException {<br>
  <br>
  <span style='mso-spacerun:yes'>      </span>SimpleDateFormat sdf = <b>new </b>SimpleDateFormat(<b>&quot;yyyy/MM/dd
  HH:mm:ss&quot;</b>);<br>
  <span style='mso-spacerun:yes'>      </span>Date d = sdf.parse(dateStr);<br>
  <br>
  <span style='mso-spacerun:yes'>      </span><b>return </b>DateUtil.<i>getDayBeginTime</i>(d,
  offset).getTime();<br>
  <span style='mso-spacerun:yes'>   </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>   </span><i>// </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>计算某天的起始时刻，</span><span lang=EN-US>String</span></i><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>类型，带格式化要求</span><span lang=EN-US>(</span></i><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>毫秒数</span><span lang=EN-US>)<br>
  <span style='mso-spacerun:yes'>   </span></span></i><b><span lang=EN-US>public
  long </span></b><span lang=EN-US>evaluate(String dateStr, String fmt) <b>throws
  </b>ParseException {<br>
  <br>
  <span style='mso-spacerun:yes'>      </span>SimpleDateFormat sdf = <b>new </b>SimpleDateFormat(fmt);<br>
  <span style='mso-spacerun:yes'>      </span>Date d = sdf.parse(dateStr);<br>
  <br>
  <span style='mso-spacerun:yes'>      </span><b>return </b>DateUtil.<i>getDayBeginTime</i>(d).getTime();<br>
  <span style='mso-spacerun:yes'>   </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>   </span><i>// </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>计算某天的起始时刻，</span><span lang=EN-US>String</span></i><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>类型，带格式化，带偏移量</span><span lang=EN-US>(</span></i><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>毫秒数</span><span lang=EN-US>)<br>
  <span style='mso-spacerun:yes'>   </span></span></i><b><span lang=EN-US>public
  long </span></b><span lang=EN-US>evaluate(String dateStr, String fmt, <b>int </b>offset)
  <b>throws </b>ParseException {<br>
  <br>
  <span style='mso-spacerun:yes'>      </span>SimpleDateFormat sdf = <b>new </b>SimpleDateFormat(fmt);<br>
  <span style='mso-spacerun:yes'>      </span>Date d = sdf.parse(dateStr);<br>
  <br>
  <span style='mso-spacerun:yes'>      </span><b>return </b>DateUtil.<i>getDayBeginTime</i>(d,
  offset).getTime();<br>
  <span style='mso-spacerun:yes'>   </span>}<br>
  }</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US><span
style='mso-tab-count:1'>       </span></span><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>（</span><span
lang=EN-US>3</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>）编写</span><span lang=EN-US>WeekBeginUDF</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:26.7pt;border-collapse:collapse;border:none;mso-border-alt:
 solid windowtext .5pt;mso-yfti-tbllook:1184;mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
 mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=520 valign=top style='width:389.8pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><b><span lang=EN-US>package </span></b><span lang=EN-US>com.atguigu.hive;<br>
  <b>import </b>org.apache.hadoop.hive.ql.exec.UDF;<br>
  <b>import </b>java.text.ParseException;<br>
  <b>import </b>java.text.SimpleDateFormat;<br>
  <b>import </b>java.util.Date;<br>
  <br>
  <i>/**<br>
  <span style='mso-spacerun:yes'> </span>* Created by atguigu on 2017/11/9<br>
  <span style='mso-spacerun:yes'> </span>*/<br>
  </i><b>public class </b>WeekBeginUDF <b>extends </b>UDF {<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><i>// </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>计算本周的起始时间，</span><span lang=EN-US>(</span></i><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>毫秒数</span><span lang=EN-US>)<br>
  <span style='mso-spacerun:yes'>    </span></span></i><b><span lang=EN-US>public
  long </span></b><span lang=EN-US>evaluate() <b>throws </b>ParseException {<br>
  <span style='mso-spacerun:yes'>        </span><b>return </b>DateUtil.<i>getWeekBeginTime</i>(<b>new
  </b>Date()).getTime() ;<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><i>// </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>指定周偏移量</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>    </span></span></i><b><span lang=EN-US>public
  long </span></b><span lang=EN-US>evaluate(<b>int </b>offset) <b>throws </b>ParseException
  {<br>
  <span style='mso-spacerun:yes'>        </span><b>return </b>DateUtil.<i>getWeekBeginTime</i>(<b>new
  </b>Date(),offset).getTime();<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><i>// </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>计算某周的起始时刻，日期类型</span><span lang=EN-US>(</span></i><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>毫秒数</span><span lang=EN-US>)<br>
  <span style='mso-spacerun:yes'>    </span></span></i><b><span lang=EN-US>public
  long </span></b><span lang=EN-US>evaluate(Date d) <b>throws </b>ParseException
  {<br>
  <span style='mso-spacerun:yes'>        </span><b>return </b>DateUtil.<i>getWeekBeginTime</i>(d).getTime();<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><i>// </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>计算某周的起始时刻，日期类型，带偏移量</span><span lang=EN-US>(</span></i><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>毫秒数</span><span lang=EN-US>)<br>
  <span style='mso-spacerun:yes'>    </span></span></i><b><span lang=EN-US>public
  long </span></b><span lang=EN-US>evaluate(Date d,<b>int </b>offset) <b>throws
  </b>ParseException {<br>
  <span style='mso-spacerun:yes'>        </span><b>return </b>DateUtil.<i>getWeekBeginTime</i>(d,offset).getTime();<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><i>// </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>计算某周的起始时刻，</span><span lang=EN-US>String</span></i><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>类型</span><span lang=EN-US>(</span></i><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>毫秒数</span><span lang=EN-US>)<br>
  <span style='mso-spacerun:yes'>    </span></span></i><b><span lang=EN-US>public
  long </span></b><span lang=EN-US>evaluate(String dateStr) <b>throws </b>ParseException
  {<br>
  <br>
  <span style='mso-spacerun:yes'>        </span>SimpleDateFormat sdf = <b>new </b>SimpleDateFormat(<b>&quot;yyyy/MM/dd
  HH:mm:ss&quot;</b>);<br>
  <span style='mso-spacerun:yes'>        </span>Date d = sdf.parse(dateStr);<br>
  <br>
  <span style='mso-spacerun:yes'>        </span><b>return </b>DateUtil.<i>getWeekBeginTime</i>(d).getTime();<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><i>// </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>计算某周的起始时刻，</span><span lang=EN-US>String</span></i><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>类型，带偏移量</span><span lang=EN-US>(</span></i><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>毫秒数</span><span lang=EN-US>)<br>
  <span style='mso-spacerun:yes'>    </span></span></i><b><span lang=EN-US>public
  long </span></b><span lang=EN-US>evaluate(String dateStr,<b>int </b>offset) <b>throws
  </b>ParseException {<br>
  <span style='mso-spacerun:yes'>        </span>SimpleDateFormat sdf = <b>new </b>SimpleDateFormat(<b>&quot;yyyy/MM/dd
  HH:mm:ss&quot;</b>);<br>
  <span style='mso-spacerun:yes'>        </span>Date d = sdf.parse(dateStr);<br>
  <span style='mso-spacerun:yes'>        </span><b>return </b>DateUtil.<i>getWeekBeginTime</i>(d,
  offset).getTime();<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><i>// </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>计算某周的起始时刻，</span><span lang=EN-US>String</span></i><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>类型，带格式化要求</span><span lang=EN-US>(</span></i><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>毫秒数</span><span lang=EN-US>)<br>
  <span style='mso-spacerun:yes'>    </span></span></i><b><span lang=EN-US>public
  long </span></b><span lang=EN-US>evaluate(String dateStr, String fmt) <b>throws
  </b>ParseException {<br>
  <br>
  <span style='mso-spacerun:yes'>        </span>SimpleDateFormat sdf = <b>new </b>SimpleDateFormat(fmt);<br>
  <span style='mso-spacerun:yes'>        </span>Date d = sdf.parse(dateStr);<br>
  <br>
  <span style='mso-spacerun:yes'>     </span><span
  style='mso-spacerun:yes'>   </span><b>return </b>DateUtil.<i>getWeekBeginTime</i>(d).getTime();<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><i>// </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>计算某周的起始时刻，</span><span lang=EN-US>String</span></i><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>类型，带格式化，带偏移量</span><span lang=EN-US>(</span></i><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>毫秒数</span><span lang=EN-US>)<br>
  <span style='mso-spacerun:yes'>    </span></span></i><b><span lang=EN-US>public
  long </span></b><span lang=EN-US>evaluate(String dateStr, String fmt,<b>int </b>offset)
  <b>throws </b>ParseException {<br>
  <br>
  <span style='mso-spacerun:yes'>        </span>SimpleDateFormat sdf = <b>new </b>SimpleDateFormat(fmt);<br>
  <span style='mso-spacerun:yes'>        </span>Date d = sdf.parse(dateStr);<br>
  <br>
  <span style='mso-spacerun:yes'>        </span><b>return </b>DateUtil.<i>getWeekBeginTime</i>(d,
  offset).getTime();<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  }</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US><span
style='mso-tab-count:1'>       </span></span><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>（</span><span
lang=EN-US>4</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>）编写</span><span lang=EN-US>MonthBeginUDF</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:26.7pt;border-collapse:collapse;border:none;mso-border-alt:
 solid windowtext .5pt;mso-yfti-tbllook:1184;mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
 mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=520 valign=top style='width:389.8pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><b><span lang=EN-US>package </span></b><span lang=EN-US>com.atguigu.hive;<br>
  <b>import </b>org.apache.hadoop.hive.ql.exec.UDF;<br>
  <b>import </b>java.text.ParseException;<br>
  <b>import </b>java.text.SimpleDateFormat;<br>
  <b>import </b>java.util.Date;<br>
  <br>
  <i>/**<br>
  <span style='mso-spacerun:yes'> </span>* Created by atguigu on 2017/11/9<br>
  <span style='mso-spacerun:yes'> </span>*/<br>
  </i><b>public class </b>MonthBeginUDF <b>extends </b>UDF {<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><i>// </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>计算本月的起始时刻</span><span lang=EN-US>(</span></i><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>毫秒数</span><span lang=EN-US>)<br>
  <span style='mso-spacerun:yes'>    </span></span></i><b><span lang=EN-US>public
  long </span></b><span lang=EN-US>evaluate() <b>throws </b>ParseException {<br>
  <span style='mso-spacerun:yes'>        </span><b>return </b>DateUtil.<i>getMonthBeginTime</i>(<b>new
  </b>Date()).getTime() ;<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  <br>
  <span style='mso-spacerun:yes'> </span><span style='mso-spacerun:yes'>  
  </span><i>// </i></span><i><span style='font-family:宋体;mso-ascii-font-family:
  "Times New Roman";mso-hansi-font-family:"Times New Roman"'>指定月偏移量</span><span
  lang=EN-US><br>
  <span style='mso-spacerun:yes'>    </span></span></i><b><span lang=EN-US>public
  long </span></b><span lang=EN-US>evaluate(<b>int </b>offset) <b>throws </b>ParseException
  {<br>
  <span style='mso-spacerun:yes'>        </span><b>return </b>DateUtil.<i>getMonthBeginTime</i>(<b>new
  </b>Date(),offset).getTime();<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><i>// </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>计算某月的起始时刻，日期类型</span><span lang=EN-US>(</span></i><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>毫秒数</span><span lang=EN-US>)<br>
  <span style='mso-spacerun:yes'>    </span></span></i><b><span lang=EN-US>public
  long </span></b><span lang=EN-US>evaluate(Date d) <b>throws </b>ParseException
  {<br>
  <span style='mso-spacerun:yes'>        </span><b>return </b>DateUtil.<i>getMonthBeginTime</i>(d).getTime();<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><i>// </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>计算某月的起始时刻，日期类型，带偏移量</span><span lang=EN-US>(</span></i><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>毫秒数</span><span lang=EN-US>)<br>
  <span style='mso-spacerun:yes'>    </span></span></i><b><span lang=EN-US>public
  long </span></b><span lang=EN-US>evaluate(Date d,<b>int </b>offset) <b>throws
  </b>ParseException {<br>
  <span style='mso-spacerun:yes'>        </span><b>return </b>DateUtil.<i>getMonthBeginTime</i>(d,offset).getTime();<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><i>// </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>计算某月的起始时刻，</span><span lang=EN-US>String</span></i><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>类型</span><span lang=EN-US>(</span></i><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>毫秒数</span><span lang=EN-US>)<br>
  <span style='mso-spacerun:yes'>    </span></span></i><b><span lang=EN-US>public
  long </span></b><span lang=EN-US>evaluate(String dateStr) <b>throws </b>ParseException
  {<br>
  <br>
  <span style='mso-spacerun:yes'>        </span>SimpleDateFormat sdf = <b>new </b>SimpleDateFormat(<b>&quot;yyyy/MM/dd
  HH:mm:ss&quot;</b>);<br>
  <span style='mso-spacerun:yes'>        </span>Date d = sdf.parse(dateStr);<br>
  <br>
  <span style='mso-spacerun:yes'>        </span><b>return </b>DateUtil.<i>getMonthBeginTime</i>(d).getTime();<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><i>// </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>计算某月的起始时刻，</span><span lang=EN-US>String</span></i><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>类型，带偏移量</span><span lang=EN-US>(</span></i><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>毫秒数</span><span lang=EN-US>)<br>
  <span style='mso-spacerun:yes'>    </span></span></i><b><span lang=EN-US>public
  long </span></b><span lang=EN-US>evaluate(String dateStr,<b>int </b>offset) <b>throws
  </b>ParseException {<br>
  <br>
  <span style='mso-spacerun:yes'>        </span>SimpleDateFormat sdf = <b>new </b>SimpleDateFormat(<b>&quot;yyyy/MM/dd
  HH:mm:ss&quot;</b>);<br>
  <span style='mso-spacerun:yes'>        </span>Date d = sdf.parse(dateStr);<br>
  <br>
  <span style='mso-spacerun:yes'>        </span><b>return </b>DateUtil.<i>getMonthBeginTime</i>(d,
  offset).getTime();<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><i>// </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>计算某月的起始时刻，</span><span lang=EN-US>String</span></i><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>类型，带格式化要求</span><span lang=EN-US>(</span></i><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>毫秒数</span><span lang=EN-US>)<br>
  <span style='mso-spacerun:yes'>    </span></span></i><b><span lang=EN-US>public
  long </span></b><span lang=EN-US>evaluate(String dateStr, String fmt) <b>throws
  </b>ParseException {<br>
  <br>
  <span style='mso-spacerun:yes'>        </span>SimpleDateFormat sdf = <b>new </b>SimpleDateFormat(fmt);<br>
  <span style='mso-spacerun:yes'>        </span>Date d = sdf.parse(dateStr);<br>
  <br>
  <span style='mso-spacerun:yes'>        </span><b>return </b>DateUtil.<i>getMonthBeginTime</i>(d).getTime();<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><i>// </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>计算某月的起始时刻，</span><span lang=EN-US>String</span></i><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>类型，带格式化，带偏移量</span><span lang=EN-US>(</span></i><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>毫秒数</span><span lang=EN-US>)<br>
  <span style='mso-spacerun:yes'>    </span></span></i><b><span lang=EN-US>public
  long </span></b><span lang=EN-US>evaluate(String dateStr, String fmt,<b>int </b>offset)
  <b>throws </b>ParseException {<br>
  <br>
  <span style='mso-spacerun:yes'>        </span>SimpleDateFormat sdf = <b>new </b>SimpleDateFormat(fmt);<br>
  <span style='mso-spacerun:yes'>        </span>Date d = sdf.parse(dateStr);<br>
  <br>
  <span style='mso-spacerun:yes'>        </span><b>return </b>DateUtil.<i>getMonthBeginTime</i>(d,
  offset).getTime();<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  }</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US><span
style='mso-tab-count:1'>       </span></span><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>（</span><span
lang=EN-US>5</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>）编写</span><span lang=EN-US>FormatTimeUDF</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:26.7pt;border-collapse:collapse;border:none;mso-border-alt:
 solid windowtext .5pt;mso-yfti-tbllook:1184;mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
 mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=520 valign=top style='width:389.8pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><b><span lang=EN-US>package </span></b><span lang=EN-US>com.atguigu.hive;<br>
  <b>import </b>org.apache.hadoop.hive.ql.exec.UDF;<br>
  <b>import </b>java.text.ParseException;<br>
  <b>import </b>java.text.SimpleDateFormat;<br>
  <b>import </b>java.util.Date;<br>
  <br>
  <i>/**<br>
  <span style='mso-spacerun:yes'> </span>* Created by atguigu on 2017/11/9<br>
  <span style='mso-spacerun:yes'> </span>*/<br>
  </i><b>public class </b>FormatTimeUDF <b>extends </b>UDF{<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><i>// </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>根据输入的时间毫秒值（</span><span lang=EN-US>long</span></i><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>类型）和格式化要求，返回</span><span lang=EN-US>String</span></i><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>类型时间</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>    </span></span></i><b><span lang=EN-US>public
  </span></b><span lang=EN-US>String evaluate(<b>long </b>ms,String fmt) <b>throws
  </b>ParseException {<br>
  <br>
  <span style='mso-spacerun:yes'>        </span>SimpleDateFormat sdf = <b>new </b>SimpleDateFormat(fmt)
  ;<br>
  <span style='mso-spacerun:yes'>        </span>Date d = <b>new </b>Date();<br>
  <span style='mso-spacerun:yes'>        </span>d.setTime(ms);<br>
  <br>
  <span style='mso-spacerun:yes'>        </span><b>return </b>sdf.format(d) ;<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><i>// </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>根据输入的时间毫秒值（</span><span lang=EN-US>String</span></i><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>类型）和格式化要求，返回</span><span lang=EN-US>String</span></i><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>类型时间</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>    </span></span></i><b><span lang=EN-US>public
  </span></b><span lang=EN-US>String evaluate(String ms,String fmt) <b>throws </b>ParseException
  {<br>
  <br>
  <span style='mso-spacerun:yes'>        </span>SimpleDateFormat sdf = <b>new </b>SimpleDateFormat(fmt)
  ;<br>
  <span style='mso-spacerun:yes'>        </span>Date d = <b>new </b>Date();<br>
  <span style='mso-spacerun:yes'>        </span>d.setTime(Long.<i>parseLong</i>(ms));<br>
  <br>
  <span style='mso-spacerun:yes'>        </span><b>return </b>sdf.format(d) ;<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><i>// </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>根据输入的时间毫秒值（</span><span lang=EN-US>long</span></i><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>类型）、格式化要求，和区分周的任意值，返回</span><span lang=EN-US>String</span></i><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>类型时间</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>    </span></span></i><b><span lang=EN-US>public
  </span></b><span lang=EN-US>String evaluate(<b>long </b>ms ,String fmt , <b>int
  </b>week) <b>throws </b>ParseException {<br>
  <br>
  <span style='mso-spacerun:yes'>        </span>Date d = <b>new </b>Date();<br>
  <span style='mso-spacerun:yes'>        </span>d.setTime(ms);<br>
  <br>
  <span style='mso-spacerun:yes'>        </span><i>//</i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>周内第一天</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>        </span></span></i><span lang=EN-US>Date
  firstDay = DateUtil.<i>getWeekBeginTime</i>(d) ;<br>
  <span style='mso-spacerun:yes'>        </span>SimpleDateFormat sdf = <b>new </b>SimpleDateFormat(fmt)
  ;<br>
  <br>
  <span style='mso-spacerun:yes'>        </span><b>return </b>sdf.format(firstDay)
  ;<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  }</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>3</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）导出</span><span lang=EN-US>jar</span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>包（</span><span
lang=EN-US>app_logs_hive.jar</span><span style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>）</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>4</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）添加</span><span lang=EN-US>app_logs_hive.jar</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>到类路径</span><span lang=EN-US>/opt/module/hive/lib</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>下</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US><span
style='mso-tab-count:1'>       </span></span><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>（</span><span
lang=EN-US>1</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>）临时添加</span><span lang=EN-US>jar</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>包：</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt;line-height:
150%'><span lang=EN-US style='color:#7030A0'>hive (applogsdb)&gt; add jar
/opt/module/hive/lib/app_logs_hive.jar;<o:p></o:p></span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US><span
style='mso-tab-count:1'>       </span></span><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>（</span><span
lang=EN-US>2</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>）永久添加</span><span lang=EN-US>jar</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>包：</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US><span
style='mso-tab-count:1'>       </span></span><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>在</span><span
lang=EN-US>hive-site.xml</span><span style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>文件中添加</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:26.7pt;border-collapse:collapse;border:none;mso-border-alt:
 solid windowtext .5pt;mso-yfti-tbllook:1184;mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
 mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=520 valign=top style='width:389.8pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>&lt;property&gt;</span></p>
  <p class=MsoNormal><span lang=EN-US><span style='mso-spacerun:yes'>   
  </span>&lt;name&gt;hive.aux.jars.path&lt;/name&gt;</span></p>
  <p class=MsoNormal><span lang=EN-US><span style='mso-spacerun:yes'>   
  </span>&lt;value&gt;file:///opt/module/hive/lib/app_logs_hive.jar&lt;/value&gt;</span></p>
  <p class=MsoNormal><span lang=EN-US>&lt;/property&gt;</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US><span
style='mso-tab-count:1'>       </span></span><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>由于之前添加过</span><span
lang=EN-US>json</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>的</span><span lang=EN-US>jar</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>包所以修改为如下方式</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:26.7pt;border-collapse:collapse;border:none;mso-border-alt:
 solid windowtext .5pt;mso-yfti-tbllook:1184;mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
 mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=533 valign=top style='width:399.4pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>&lt;property&gt;</span></p>
  <p class=MsoNormal><span lang=EN-US><span style='mso-spacerun:yes'>   
  </span>&lt;name&gt;hive.aux.jars.path&lt;/name&gt;</span></p>
  <p class=MsoNormal><span lang=EN-US><span style='mso-spacerun:yes'>   
  </span>&lt;value&gt;file:///opt/module/hive/lib/json-serde-1.3.8-jar-with-dependencies.jar,file:///opt/module/hive/lib/app_logs_hive.jar&lt;/value&gt;</span></p>
  <p class=MsoNormal><span lang=EN-US>&lt;/property&gt;</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>5</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）注册永久函数</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US style='color:#7030A0'><span
style='mso-tab-count:1'>       </span>hive (default)&gt;create function </span><span
lang=EN-US style='color:red'>getdaybegin</span><span lang=EN-US
style='color:#7030A0'> AS 'com.atguigu.hive.DayBeginUDF';<o:p></o:p></span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US style='color:#7030A0'><span
style='mso-tab-count:1'>       </span>hive (default)&gt;create function </span><span
lang=EN-US style='color:red'>getweekbegin</span><span lang=EN-US
style='color:#7030A0'> AS 'com.atguigu.hive.WeekBeginUDF';<o:p></o:p></span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US style='color:#7030A0'><span
style='mso-tab-count:1'>       </span>hive (default)&gt;create function </span><span
lang=EN-US style='color:red'>getmonthbegin</span><span lang=EN-US
style='color:#7030A0'> AS 'com.atguigu.hive.MonthBeginUDF';<o:p></o:p></span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US style='color:#7030A0'><span
style='mso-tab-count:1'>       </span>hive (default)&gt;create function </span><span
lang=EN-US style='color:red'>formattime</span><span lang=EN-US
style='color:#7030A0'> AS 'com.atguigu.hive.FormatTimeUDF';<o:p></o:p></span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>6</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）验证函数</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US><span
style='mso-tab-count:1'>       </span></span><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>登录</span><span
lang=EN-US>mysql</span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
lang=EN-US style='color:#7030A0'>[atguigu@hadoop102 ~]$ mysql -uroot -p000000<o:p></o:p></span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US style='color:#7030A0'><span
style='mso-tab-count:1'>       </span>mysql&gt; show databases;<o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
lang=EN-US style='color:#7030A0'>mysql&gt; use metastore;<o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
lang=EN-US style='color:#7030A0'>mysql&gt; show tables;<o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
lang=EN-US style='color:#7030A0'>mysql&gt; select * from FUNCS;<o:p></o:p></span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US style='color:black'>7</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";color:black'>）删除函数</span><span lang=EN-US style='color:black'><o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
lang=EN-US style='color:#7030A0'>hive (applogsdb)&gt; drop function getdaybegin;<o:p></o:p></span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US style='color:#7030A0'><span
style='mso-tab-count:1'>       </span>hive (applogsdb)&gt; drop function
getweekbegin;<o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
lang=EN-US style='color:#7030A0'>hive (applogsdb)&gt; drop function
getmonthbegin;<o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
lang=EN-US style='color:#7030A0'>hive (applogsdb)&gt; drop function formattime;<o:p></o:p></span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US style='color:red'>8</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";color:red'>）注意：在哪个数据库中注册的永久函数，必须在哪个数据库下将该方法删除</span><span
lang=EN-US style='color:red'><o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>比如在</span><span lang=EN-US>applogsdb</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>数据库中创建的方法，必须在该数据中调用</span><span lang=EN-US>drop</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>方法才能实现删除功能。</span></p>

<h2 style='margin:0cm;margin-bottom:.0001pt'><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'>7.2 </span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%;font-family:黑体;mso-ascii-font-family:
Arial;mso-hansi-font-family:Arial'>新增用户统计</span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'><o:p></o:p></span></h2>

<p class=MsoNormal><span lang=EN-US><span style='mso-no-proof:yes'><!--[if gte vml 1]><v:shape
 id="_x0000_i1044" type="#_x0000_t75" alt="" style='width:418pt;height:235pt;
 mso-width-percent:0;mso-height-percent:0;mso-width-percent:0;
 mso-height-percent:0' o:ole="">
 <v:imagedata src="APP信息统计分析系统.fld/image038.emz" o:title=""/>
</v:shape><![endif]--><![if !vml]><img border=0 width=418 height=235
src="APP信息统计分析系统.fld/image039.png" v:shapes="_x0000_i1044"><![endif]></span><!--[if gte mso 9]><xml>
 <o:OLEObject Type="Embed" ProgID="PowerPoint.Show.12" ShapeID="_x0000_i1044"
  DrawAspect="Content" ObjectID="_1590499507">
 </o:OLEObject>
</xml><![endif]--></span></p>

<h3 style='margin:0cm;margin-bottom:.0001pt'><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'>7.2.1 </span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>任意日新增用户</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'><o:p></o:p></span></h3>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>1</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）今天新增用户</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US><span
style='mso-tab-count:1'>       </span></span><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>（</span><span
lang=EN-US>1</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>）判断今天新增用户条件：</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US><span
style='mso-tab-count:2'>              </span></span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>先按照设备</span><span
lang=EN-US>id</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>分组；</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt;line-height:
150%'><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>再根据创建该日志的最开始时间，是否在今天范围内。</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US><span
style='mso-tab-count:1'>       </span></span><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>（</span><span
lang=EN-US>2</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>）统计今天新增个数</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none;mso-border-alt:
 solid windowtext .5pt;mso-yfti-tbllook:1184;mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
 mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=548 valign=top style='width:411.1pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>select</span></p>
  <p class=MsoNormal><span lang=EN-US>count(*)</span></p>
  <p class=MsoNormal><span lang=EN-US>from</span></p>
  <p class=MsoNormal><span lang=EN-US>(select min(createdatms) mintime</span></p>
  <p class=MsoNormal><span lang=EN-US>from ext_startup_logs</span></p>
  <p class=MsoNormal><span lang=EN-US>where appid = 'sdk34734'</span></p>
  <p class=MsoNormal><span lang=EN-US>group by <span style='color:red'>deviceid</span></span></p>
  <p class=MsoNormal><span lang=EN-US>having <span style='color:red'>mintime
  &gt;= getdaybegin() and mintime &lt; getdaybegin(1)<o:p></o:p></span></span></p>
  <p class=MsoNormal><span lang=EN-US>)t ;</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>2</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）昨天新增用户</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none;mso-border-alt:
 solid windowtext .5pt;mso-yfti-tbllook:1184;mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
 mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=548 valign=top style='width:411.1pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>select</span></p>
  <p class=MsoNormal><span lang=EN-US>count(*)</span></p>
  <p class=MsoNormal><span lang=EN-US>from</span></p>
  <p class=MsoNormal><span lang=EN-US>(select min(createdatms) mintime</span></p>
  <p class=MsoNormal><span lang=EN-US>from ext_startup_logs</span></p>
  <p class=MsoNormal><span lang=EN-US>where appid = 'sdk34734'</span></p>
  <p class=MsoNormal><span lang=EN-US>group by <span style='color:red'>deviceid</span></span></p>
  <p class=MsoNormal><span lang=EN-US>having <span style='color:red'>mintime
  &gt;= getdaybegin(-1) and mintime &lt; getdaybegin()<o:p></o:p></span></span></p>
  <p class=MsoNormal><span lang=EN-US>)t ;</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>3</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）指定时间的新增用户</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none;mso-border-alt:
 solid windowtext .5pt;mso-yfti-tbllook:1184;mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
 mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=548 valign=top style='width:411.1pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>select</span></p>
  <p class=MsoNormal><span lang=EN-US>count(*)</span></p>
  <p class=MsoNormal><span lang=EN-US>from</span></p>
  <p class=MsoNormal><span lang=EN-US>(select min(createdatms) mintime</span></p>
  <p class=MsoNormal><span lang=EN-US>from ext_startup_logs</span></p>
  <p class=MsoNormal><span lang=EN-US>where appid = 'sdk34734'</span></p>
  <p class=MsoNormal><span lang=EN-US>group by <span style='color:red'>deviceid</span></span></p>
  <p class=MsoNormal><span lang=EN-US style='color:red'>having mintime &gt;=
  getdaybegin('2017/11/10 00:00:00') and mintime &lt; getdaybegin('2017/11/10
  00:00:00',1)<o:p></o:p></span></p>
  <p class=MsoNormal><span lang=EN-US>)t ;</span></p>
  </td>
 </tr>
</table>

<h3 style='margin:0cm;margin-bottom:.0001pt'><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'>7.2.2 </span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>任意周新增用户</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'><o:p></o:p></span></h3>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>1</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）本周新增用户</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none;mso-border-alt:
 solid windowtext .5pt;mso-yfti-tbllook:1184;mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
 mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=548 valign=top style='width:411.1pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>select</span></p>
  <p class=MsoNormal><span lang=EN-US>count(*)</span></p>
  <p class=MsoNormal><span lang=EN-US>from</span></p>
  <p class=MsoNormal><span lang=EN-US>(select min(createdatms) mintime</span></p>
  <p class=MsoNormal><span lang=EN-US>from ext_startup_logs</span></p>
  <p class=MsoNormal><span lang=EN-US>where appid = 'sdk34734'</span></p>
  <p class=MsoNormal><span lang=EN-US>group by <span style='color:red'>deviceid</span></span></p>
  <p class=MsoNormal><span lang=EN-US>having <span style='color:red'>mintime
  &gt;= getweekbegin() and mintime &lt; getweekbegin(1)<o:p></o:p></span></span></p>
  <p class=MsoNormal><span lang=EN-US>) t ;</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>2</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）上一周新增用户</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none;mso-border-alt:
 solid windowtext .5pt;mso-yfti-tbllook:1184;mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
 mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=548 valign=top style='width:411.1pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>select</span></p>
  <p class=MsoNormal><span lang=EN-US>count(*)</span></p>
  <p class=MsoNormal><span lang=EN-US>from</span></p>
  <p class=MsoNormal><span lang=EN-US>(select min(createdatms) mintime</span></p>
  <p class=MsoNormal><span lang=EN-US>from ext_startup_logs</span></p>
  <p class=MsoNormal><span lang=EN-US>where appid = 'sdk34734'</span></p>
  <p class=MsoNormal><span lang=EN-US>group by <span style='color:red'>deviceid</span></span></p>
  <p class=MsoNormal><span lang=EN-US>having <span style='color:red'>mintime
  &gt;= getweekbegin(-1) and mintime &lt; getweekbegin()<o:p></o:p></span></span></p>
  <p class=MsoNormal><span lang=EN-US>)t ;</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>3</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）指定周时间的新增用户</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none;mso-border-alt:
 solid windowtext .5pt;mso-yfti-tbllook:1184;mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
 mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=548 valign=top style='width:411.1pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>select</span></p>
  <p class=MsoNormal><span lang=EN-US>count(*)</span></p>
  <p class=MsoNormal><span lang=EN-US>from</span></p>
  <p class=MsoNormal><span lang=EN-US>(select min(createdatms) mintime</span></p>
  <p class=MsoNormal><span lang=EN-US>from ext_startup_logs</span></p>
  <p class=MsoNormal><span lang=EN-US>where appid = 'sdk34734'</span></p>
  <p class=MsoNormal><span lang=EN-US>group by <span style='color:red'>deviceid</span></span></p>
  <p class=MsoNormal><span lang=EN-US>having <span style='color:red'>mintime
  &gt;= getweekbegin('2017/10/10 00:00:00') and mintime &lt;
  getweekbegin('2017/10/10 00:00:00',1)<o:p></o:p></span></span></p>
  <p class=MsoNormal><span lang=EN-US>)t ;</span></p>
  </td>
 </tr>
</table>

<h3 style='margin:0cm;margin-bottom:.0001pt'><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'>7.2.3 </span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>月新增用户</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'><o:p></o:p></span></h3>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none;mso-border-alt:
 solid windowtext .5pt;mso-yfti-tbllook:1184;mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
 mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=548 valign=top style='width:411.1pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>select</span></p>
  <p class=MsoNormal><span lang=EN-US>count(*)</span></p>
  <p class=MsoNormal><span lang=EN-US>from</span></p>
  <p class=MsoNormal><span lang=EN-US>(select min(createdatms) mintime</span></p>
  <p class=MsoNormal><span lang=EN-US>from ext_startup_logs</span></p>
  <p class=MsoNormal><span lang=EN-US>where appid = 'sdk34734'</span></p>
  <p class=MsoNormal><span lang=EN-US>group by <span style='color:red'>deviceid</span></span></p>
  <p class=MsoNormal><span lang=EN-US>having <span style='color:red'>mintime
  &gt;= getmonthbegin() and mintime &lt; getmonthbegin(1)<o:p></o:p></span></span></p>
  <p class=MsoNormal><span lang=EN-US>)t ;</span></p>
  </td>
 </tr>
</table>

<h2 style='margin:0cm;margin-bottom:.0001pt'><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'>7.3 </span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%;font-family:黑体;mso-ascii-font-family:
Arial;mso-hansi-font-family:Arial'>活跃用户统计</span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'><o:p></o:p></span></h2>

<h3 style='margin:0cm;margin-bottom:.0001pt'><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'>7.3.1 </span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>日、周、月活跃用户</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'><o:p></o:p></span></h3>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>0</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）分析：</span></p>

<p class=MsoNormal style='line-height:150%'><b style='mso-bidi-font-weight:
normal'><span lang=EN-US style='mso-no-proof:yes'><!--[if gte vml 1]><v:shape
 id="_x0000_i1043" type="#_x0000_t75" alt="" style='width:414pt;height:201pt;
 mso-width-percent:0;mso-height-percent:0;mso-width-percent:0;
 mso-height-percent:0'>
 <v:imagedata src="APP信息统计分析系统.fld/image040.png" o:title=""/>
</v:shape><![endif]--><![if !vml]><img border=0 width=414 height=201
src="APP信息统计分析系统.fld/image040.png" v:shapes="_x0000_i1043"><![endif]></span><span
lang=EN-US><o:p></o:p></span></b></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>1</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）日活跃用户数</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none;mso-border-alt:
 solid windowtext .5pt;mso-yfti-tbllook:1184;mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
 mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=548 valign=top style='width:411.1pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>select</span></p>
  <p class=MsoNormal><span lang=EN-US>count(distinct deviceid)</span></p>
  <p class=MsoNormal><span lang=EN-US>from ext_startup_logs</span></p>
  <p class=MsoNormal><span lang=EN-US>where appid = 'sdk34734'</span></p>
  <p class=MsoNormal><span lang=EN-US>and <span style='color:red'>createdatms
  &gt;= getdaybegin() and createdatms &lt; getdaybegin(1);</span></span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>2</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）周活跃用户数</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none;mso-border-alt:
 solid windowtext .5pt;mso-yfti-tbllook:1184;mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
 mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=548 valign=top style='width:411.1pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>select</span></p>
  <p class=MsoNormal><span lang=EN-US>count(distinct deviceid)</span></p>
  <p class=MsoNormal><span lang=EN-US>from ext_startup_logs</span></p>
  <p class=MsoNormal><span lang=EN-US>where appid = 'sdk34734'</span></p>
  <p class=MsoNormal><span lang=EN-US>and<span style='color:red'> createdatms
  &gt;= getweekbegin() and createdatms &lt; getweekbegin(1);</span></span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>3</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）月活跃用户数</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none;mso-border-alt:
 solid windowtext .5pt;mso-yfti-tbllook:1184;mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
 mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=548 valign=top style='width:411.1pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>select</span></p>
  <p class=MsoNormal><span lang=EN-US>count(distinct deviceid)</span></p>
  <p class=MsoNormal><span lang=EN-US>from ext_startup_logs</span></p>
  <p class=MsoNormal><span lang=EN-US>where appid = 'sdk34734'</span></p>
  <p class=MsoNormal><span lang=EN-US>and <span style='color:red'>createdatms
  &gt;= getmonthbegin() and createdatms &lt; getmonthbegin(1);</span></span></p>
  </td>
 </tr>
</table>

<h3 style='margin:0cm;margin-bottom:.0001pt'><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'>7.3.2 </span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>指定时间内查询日活、周活、月活</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'><o:p></o:p></span></h3>

<p class=MsoNormal><span lang=EN-US>0</span><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>）分析</span></p>

<p class=MsoNormal><span lang=EN-US style='mso-no-proof:yes'><!--[if gte vml 1]><v:shape
 id="_x0000_i1042" type="#_x0000_t75" alt="" style='width:415pt;height:203pt;
 mso-width-percent:0;mso-height-percent:0;mso-width-percent:0;
 mso-height-percent:0'>
 <v:imagedata src="APP信息统计分析系统.fld/image041.png" o:title=""/>
</v:shape><![endif]--><![if !vml]><img border=0 width=415 height=203
src="APP信息统计分析系统.fld/image041.png" v:shapes="_x0000_i1042"><![endif]></span></p>

<p class=MsoNormal><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>1</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）一次查询出一周内，每天的日活跃数</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none;mso-border-alt:
 solid windowtext .5pt;mso-yfti-tbllook:1184;mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
 mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=548 valign=top style='width:411.1pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>select</span></p>
  <p class=MsoNormal><span lang=EN-US>formattime(createdatms,'yyyy/MM/dd') day
  ,count(distinct deviceid)</span></p>
  <p class=MsoNormal><span lang=EN-US>from ext_startup_logs</span></p>
  <p class=MsoNormal><span lang=EN-US>where appid = 'sdk34734'</span></p>
  <p class=MsoNormal><span lang=EN-US>and<span style='color:red'> createdatms
  &gt;= getweekbegin() and createdatms &lt; getweekbegin(1)<o:p></o:p></span></span></p>
  <p class=MsoNormal><span lang=EN-US>group by <span style='color:red'>formattime(createdatms,'yyyy/MM/dd')</span>;</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>2</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）一次查询出过去的</span><span lang=EN-US>5</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>周，每周的周活跃数</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none;mso-border-alt:
 solid windowtext .5pt;mso-yfti-tbllook:1184;mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
 mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=548 valign=top style='width:411.1pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>select</span></p>
  <p class=MsoNormal><span lang=EN-US>formattime(createdatms,'yyyy/MM/dd',0)
  week ,count(distinct deviceid)</span></p>
  <p class=MsoNormal><span lang=EN-US>from ext_startup_logs</span></p>
  <p class=MsoNormal><span lang=EN-US>where appid = 'sdk34734'</span></p>
  <p class=MsoNormal><span lang=EN-US>and <span style='color:red'>createdatms
  &gt;= getweekbegin(-6) and createdatms &lt; getweekbegin(-1)<o:p></o:p></span></span></p>
  <p class=MsoNormal><span lang=EN-US>group by
  formattime(createdatms,'yyyy/MM/dd',0);</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>3</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）一次查询出过去的三个月内，每周的月活跃数</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none;mso-border-alt:
 solid windowtext .5pt;mso-yfti-tbllook:1184;mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
 mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=548 valign=top style='width:411.1pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>select</span></p>
  <p class=MsoNormal><span lang=EN-US>formattime(createdatms,'yyyy/MM',0) month
  ,count(distinct deviceid)</span></p>
  <p class=MsoNormal><span lang=EN-US>from ext_startup_logs</span></p>
  <p class=MsoNormal><span lang=EN-US>where appid = 'sdk34734'</span></p>
  <p class=MsoNormal><span lang=EN-US>and <span style='color:red'>createdatms
  &gt;= getmonthbegin(-4) and createdatms &lt; getmonthbegin(-1)<o:p></o:p></span></span></p>
  <p class=MsoNormal><span lang=EN-US>group by
  formattime(createdatms,'yyyy/MM',0);</span></p>
  </td>
 </tr>
</table>

<h3 style='margin:0cm;margin-bottom:.0001pt'><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'>7.3.3 </span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>优化活跃数查询</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'><o:p></o:p></span></h3>

<p class=MsoNormal style='line-height:150%'><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>根据时间分区表去查询，避免全表扫描</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none;mso-border-alt:
 solid windowtext .5pt;mso-yfti-tbllook:1184;mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
 mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=548 valign=top style='width:411.1pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>select</span></p>
  <p class=MsoNormal><span lang=EN-US>count(distinct deviceid)</span></p>
  <p class=MsoNormal><span lang=EN-US>from ext_startup_logs</span></p>
  <p class=MsoNormal><span lang=EN-US>where appid = 'sdk34734'</span></p>
  <p class=MsoNormal><span lang=EN-US>and<span style='color:red'> ym = formattime(getdaybegin(),'yyyyMM')
  and day = formattime(getdaybegin(),'dd');</span></span></p>
  </td>
 </tr>
</table>

<h3 style='margin:0cm;margin-bottom:.0001pt'><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'>7.3.4 </span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>过去五周周活跃用户数</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'><o:p></o:p></span></h3>

<p class=MsoNormal style='line-height:150%'><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
color:black'>过去的五周</span><span lang=EN-US style='color:black'>(</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";color:black'>包含本周</span><span lang=EN-US style='color:black'>)</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";color:black'>某个</span><span lang=EN-US style='color:black'>app</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";color:black'>每周的周活跃用户数</span><span lang=EN-US
style='color:black'><o:p></o:p></span></p>

<p class=MsoNormal style='line-height:150%'><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
color:black'>连接函数测试：</span><span lang=EN-US style='color:red'>select concat(ym,day)
from ext_startup_logs;</span><span lang=EN-US style='color:black'><o:p></o:p></span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none;mso-border-alt:
 solid windowtext .5pt;mso-yfti-tbllook:1184;mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
 mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=548 valign=top style='width:411.1pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>select</span></p>
  <p class=MsoNormal><span lang=EN-US>formattime(createdatms,'yyyyMMdd',0)
  stdate, count(distinct deviceid) stcount</span></p>
  <p class=MsoNormal><span lang=EN-US>from ext_startup_logs</span></p>
  <p class=MsoNormal><span lang=EN-US>where <span style='color:red'>concat(ym,day)
  &gt;= formattime(getweekbegin(-4),'yyyyMMdd')</span> and appid ='sdk34734'</span></p>
  <p class=MsoNormal><span lang=EN-US>group by
  formattime(createdatms,'yyyyMMdd',0);</span></p>
  </td>
 </tr>
</table>

<h3 style='margin:0cm;margin-bottom:.0001pt'><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'>7.3.5 </span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>过去六月活跃用户数</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'><o:p></o:p></span></h3>

<p class=MsoNormal style='line-height:150%'><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
color:black'>最近的六个月</span><span lang=EN-US style='color:black'>(</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";color:black'>包含本月</span><span lang=EN-US style='color:black'>)</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";color:black'>每月的月活跃数。</span><span lang=EN-US
style='color:black'><o:p></o:p></span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none;mso-border-alt:
 solid windowtext .5pt;mso-yfti-tbllook:1184;mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
 mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=548 valign=top style='width:411.1pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>select</span></p>
  <p class=MsoNormal><span lang=EN-US>formattime(createdatms,'yyyyMM') stdate,
  count(distinct deviceid) stcount</span></p>
  <p class=MsoNormal><span lang=EN-US>from ext_startup_logs</span></p>
  <p class=MsoNormal><span lang=EN-US>where <span style='color:red'>ym &gt;=
  formattime(getmonthbegin(-5),'yyyyMM')</span> and appid ='sdk34734'</span></p>
  <p class=MsoNormal><span lang=EN-US>group by
  formattime(createdatms,'yyyyMM');</span></p>
  </td>
 </tr>
</table>

<h3 style='margin:0cm;margin-bottom:.0001pt'><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'>7.3.6 </span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>连续</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'>n</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>周活跃用户统计</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%;mso-fareast-language:ZH-CN'><o:p></o:p></span></h3>

<p class=MsoNormal><span lang=X-NONE style='mso-ansi-language:X-NONE;
mso-no-proof:yes'><!--[if gte vml 1]><v:shape id="_x0000_i1041" type="#_x0000_t75"
 alt="" style='width:415pt;height:193pt;mso-width-percent:0;
 mso-height-percent:0;mso-width-percent:0;mso-height-percent:0'>
 <v:imagedata src="APP信息统计分析系统.fld/image042.png" o:title=""/>
</v:shape><![endif]--><![if !vml]><img border=0 width=415 height=193
src="APP信息统计分析系统.fld/image042.png" v:shapes="_x0000_i1041"><![endif]></span><span
lang=X-NONE style='mso-ansi-language:X-NONE'><o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='line-height:150%'><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>连续活跃</span><span
lang=EN-US>3</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>周</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none;mso-border-alt:
 solid windowtext .5pt;mso-yfti-tbllook:1184;mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
 mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=548 valign=top style='width:411.1pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>select deviceid ,
  count(distinct(formattime(createdatms,'yyyyMMdd',0))) c</span></p>
  <p class=MsoNormal><span lang=EN-US>from ext_startup_logs</span></p>
  <p class=MsoNormal><span lang=EN-US>where appid = 'sdk34734'</span></p>
  <p class=MsoNormal><span lang=EN-US>and <span style='color:red'>concat(ym,day)
  &gt;= formattime(getweekbegin(-2),'yyyyMMdd')<o:p></o:p></span></span></p>
  <p class=MsoNormal><span lang=EN-US>group by deviceid</span></p>
  <p class=MsoNormal><span lang=EN-US>having c = 3;</span></p>
  </td>
 </tr>
</table>

<h3 style='margin:0cm;margin-bottom:.0001pt'><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'>7.3.7 </span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>忠诚用户</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'><o:p></o:p></span></h3>

<p class=MsoNormal style='line-height:150%'><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>忠诚用户（连续活跃</span><span
lang=EN-US>5</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>周）</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none;mso-border-alt:
 solid windowtext .5pt;mso-yfti-tbllook:1184;mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
 mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=548 valign=top style='width:411.1pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>select deviceid ,
  count(distinct(formattime(createdatms,'yyyyMMdd',0))) c</span></p>
  <p class=MsoNormal><span lang=EN-US>from ext_startup_logs</span></p>
  <p class=MsoNormal><span lang=EN-US>where appid = 'sdk34734'</span></p>
  <p class=MsoNormal><span lang=EN-US>and <span style='color:red'>concat(ym,day)
  &gt;= formattime(getweekbegin(-4),'yyyyMMdd')<o:p></o:p></span></span></p>
  <p class=MsoNormal><span lang=EN-US>group by deviceid</span></p>
  <p class=MsoNormal><span lang=EN-US>having c = 5;</span></p>
  </td>
 </tr>
</table>

<h2 style='margin:0cm;margin-bottom:.0001pt'><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'>7.4 </span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%;font-family:黑体;mso-ascii-font-family:
Arial;mso-hansi-font-family:Arial'>沉默用户统计</span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'><o:p></o:p></span></h2>

<p class=MsoNormal><span lang=EN-US style='mso-no-proof:yes'><!--[if gte vml 1]><v:shape
 id="_x0000_i1040" type="#_x0000_t75" alt="" style='width:416pt;height:204pt;
 mso-width-percent:0;mso-height-percent:0;mso-width-percent:0;
 mso-height-percent:0'>
 <v:imagedata src="APP信息统计分析系统.fld/image043.png" o:title=""/>
</v:shape><![endif]--><![if !vml]><img border=0 width=416 height=204
src="APP信息统计分析系统.fld/image043.png" v:shapes="_x0000_i1040"><![endif]></span></p>

<p class=MsoNormal style='line-height:150%'><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
color:black'>查询沉默用户数（一共只有一条日志；且安装时间超过</span><span lang=EN-US style='color:black'>2</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";color:black'>天）</span><span lang=EN-US style='color:black'><o:p></o:p></span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none;mso-border-alt:
 solid windowtext .5pt;mso-yfti-tbllook:1184;mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
 mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=548 valign=top style='width:411.1pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>select</span></p>
  <p class=MsoNormal><span lang=EN-US>count(*)</span></p>
  <p class=MsoNormal><span lang=EN-US>from</span></p>
  <p class=MsoNormal><span lang=EN-US>(select deviceid , count(createdatms)
  dcount,min(createdatms) dmin</span></p>
  <p class=MsoNormal><span lang=EN-US>from ext_startup_logs</span></p>
  <p class=MsoNormal><span lang=EN-US>where appid = 'sdk34734'</span></p>
  <p class=MsoNormal><span lang=EN-US>group by deviceid</span></p>
  <p class=MsoNormal><span lang=EN-US>having <span style='color:red'>dcount = 1
  and dmin &lt; getdaybegin(-1)</span></span></p>
  <p class=MsoNormal><span lang=EN-US>)t;</span></p>
  </td>
 </tr>
</table>

<h2 style='margin:0cm;margin-bottom:.0001pt'><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'>7.5 </span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%;font-family:黑体;mso-ascii-font-family:
Arial;mso-hansi-font-family:Arial'>启动次数统计</span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'><o:p></o:p></span></h2>

<p class=MsoNormal style='line-height:150%'><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>今天</span><span
lang=EN-US>app</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>的启动次数</span></p>

<p class=MsoNormal style='line-height:150%'><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>启动次数类似于活跃用户数，活跃用户数去重，启动次数不需要去重。</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none;mso-border-alt:
 solid windowtext .5pt;mso-yfti-tbllook:1184;mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
 mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=548 valign=top style='width:411.1pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>select</span></p>
  <p class=MsoNormal><span lang=EN-US>count(deviceid)</span></p>
  <p class=MsoNormal><span lang=EN-US>from ext_startup_logs</span></p>
  <p class=MsoNormal><span lang=EN-US>where appid = 'sdk34734'</span></p>
  <p class=MsoNormal><span lang=EN-US>and <span style='color:red'>ym =
  formattime(getdaybegin(),'yyyyMM') and day = formattime(getdaybegin(),'dd');</span></span></p>
  </td>
 </tr>
</table>

<h2 style='margin:0cm;margin-bottom:.0001pt'><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'>7.6 </span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%;font-family:黑体;mso-ascii-font-family:
Arial;mso-hansi-font-family:Arial'>版本分布统计</span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'><o:p></o:p></span></h2>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>1</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）今天</span><span lang=EN-US>appid</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>为</span><span lang=EN-US>34734</span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>的不同版本的活跃用户数。</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none;mso-border-alt:
 solid windowtext .5pt;mso-yfti-tbllook:1184;mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
 mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=548 valign=top style='width:411.1pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>select</span></p>
  <p class=MsoNormal><span lang=EN-US style='color:red'>appversion</span><span
  lang=EN-US>,count(distinct deviceid)</span></p>
  <p class=MsoNormal><span lang=EN-US>from ext_startup_logs</span></p>
  <p class=MsoNormal><span lang=EN-US>where appid = 'sdk34734'</span></p>
  <p class=MsoNormal><span lang=EN-US>and ym =
  formattime(getdaybegin(),'yyyyMM') and day = formattime(getdaybegin(),'dd')</span></p>
  <p class=MsoNormal><span lang=EN-US>group by <span style='color:red'>appversion</span>;</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>2</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）本周内每天各版本日活跃数</span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>（</span><span lang=EN-US>1</span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>）本周内：</span><span
lang=EN-US>where concat(ym,day) &gt;= formattime(getweekbegin(),'yyyyMMdd')</span></p>

<p class=MsoNormal style='margin-left:21.0pt;line-height:150%'><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>（</span><span lang=EN-US>2</span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>）每天：</span><span
lang=EN-US>group by formattime(createdatms,'yyyyMMdd')</span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>（</span><span lang=EN-US>2</span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>）各个版本：</span><span
lang=EN-US style='color:black'>group by app</span><span lang=EN-US>version</span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>（</span><span lang=EN-US>3</span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>）日活跃数：</span><span
lang=EN-US>count(distinct deviceid)</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none;mso-border-alt:
 solid windowtext .5pt;mso-yfti-tbllook:1184;mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
 mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=548 valign=top style='width:411.1pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>select</span></p>
  <p class=MsoNormal><span lang=EN-US style='color:red'>formattime(createdatms,'yyyyMMdd')</span><span
  lang=EN-US>,<span style='color:red'>appversion</span> , count(distinct
  deviceid)</span></p>
  <p class=MsoNormal><span lang=EN-US>from ext_startup_logs</span></p>
  <p class=MsoNormal><span lang=EN-US>where appid = 'sdk34734'</span></p>
  <p class=MsoNormal><span lang=EN-US>and concat(ym,day) &gt;=
  formattime(getweekbegin(),'yyyyMMdd')</span></p>
  <p class=MsoNormal><span lang=EN-US>group by f<span style='color:red'>ormattime(createdatms,'yyyyMMdd')</span>,
  <span style='color:red'>appversion</span>;</span></p>
  </td>
 </tr>
</table>

<h2 style='margin:0cm;margin-bottom:.0001pt'><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'>7.7 </span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%;font-family:黑体;mso-ascii-font-family:
Arial;mso-hansi-font-family:Arial'>留存分析统计</span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'><o:p></o:p></span></h2>

<h3 style='margin:0cm;margin-bottom:.0001pt'><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'>7.7.1 </span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>本周回流用户统计</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'><o:p></o:p></span></h3>

<p class=MsoNormal style='line-height:150%'><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
color:red'>本周回流用户：上周没有启动过，本周启动过。</span><span lang=EN-US style='color:red'><o:p></o:p></span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US style='color:red;
mso-no-proof:yes'><!--[if gte vml 1]><v:shape id="_x0000_i1039" type="#_x0000_t75"
 alt="" style='width:416pt;height:201pt;mso-width-percent:0;
 mso-height-percent:0;mso-width-percent:0;mso-height-percent:0'>
 <v:imagedata src="APP信息统计分析系统.fld/image044.png" o:title=""/>
</v:shape><![endif]--><![if !vml]><img border=0 width=416 height=201
src="APP信息统计分析系统.fld/image044.png" v:shapes="_x0000_i1039"><![endif]></span><span
lang=EN-US style='color:red'><o:p></o:p></span></p>

<p class=MsoNormal style='line-height:150%'><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
color:red'>增加不是本周新增用户</span><span lang=EN-US style='color:red'><o:p></o:p></span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none;mso-border-alt:
 solid windowtext .5pt;mso-yfti-tbllook:1184;mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
 mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=548 valign=top style='width:411.1pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>select</span></p>
  <p class=MsoNormal><span lang=EN-US>distinct s.deviceid</span></p>
  <p class=MsoNormal><span lang=EN-US>from ext_startup_logs s</span></p>
  <p class=MsoNormal><span lang=EN-US>where appid = 'sdk34734' and
  concat(ym,day) &gt;= formattime(getweekbegin(),'yyyyMMdd') and deviceid <span
  style='color:red'>not</span> in (</span></p>
  <p class=MsoNormal><span lang=EN-US style='color:#7030A0'>select<o:p></o:p></span></p>
  <p class=MsoNormal><span lang=EN-US style='color:#7030A0'>distinct t.deviceid<o:p></o:p></span></p>
  <p class=MsoNormal><span lang=EN-US style='color:#7030A0'>from
  ext_startup_logs t<o:p></o:p></span></p>
  <p class=MsoNormal><span lang=EN-US style='color:#7030A0'>where t.appid =
  'sdk34734' and concat(t.ym,t.day) &gt;=
  formattime(getweekbegin(-1),'yyyyMMdd') and concat(t.ym,t.day) &lt;
  formattime(getweekbegin(),'yyyyMMdd')<o:p></o:p></span></p>
  <p class=MsoNormal><span lang=EN-US>);</span></p>
  </td>
 </tr>
</table>

<h3 style='margin:0cm;margin-bottom:.0001pt'><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'>7.7.2 </span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>连续</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'>n</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>周没有启动的用户</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'><o:p></o:p></span></h3>

<p class=MsoNormal><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>连续</span><span lang=EN-US>2</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>周内没有启动过：本周和上周没启动过；大上周之前启动过</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none;mso-border-alt:
 solid windowtext .5pt;mso-yfti-tbllook:1184;mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
 mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=548 valign=top style='width:411.1pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>select</span></p>
  <p class=MsoNormal><span lang=EN-US>distinct s.deviceid</span></p>
  <p class=MsoNormal><span lang=EN-US>from ext_startup_logs s</span></p>
  <p class=MsoNormal><span lang=EN-US>where appid='sdk34734'</span></p>
  <p class=MsoNormal><span lang=EN-US style='color:red'>and concat(ym,day) &lt;
  formattime(getweekbegin(),'yyyyMMdd')<o:p></o:p></span></p>
  <p class=MsoNormal><span lang=EN-US>and <span style='color:#7030A0'>deviceid
  not in (<o:p></o:p></span></span></p>
  <p class=MsoNormal><span lang=EN-US style='color:#7030A0'>select<o:p></o:p></span></p>
  <p class=MsoNormal><span lang=EN-US style='color:#7030A0'>distinct(t.deviceid)<o:p></o:p></span></p>
  <p class=MsoNormal><span lang=EN-US style='color:#7030A0'>from
  ext_startup_logs t<o:p></o:p></span></p>
  <p class=MsoNormal><span lang=EN-US style='color:#7030A0'>where
  t.appid='sdk34734'<o:p></o:p></span></p>
  <p class=MsoNormal><span lang=EN-US style='color:#7030A0'>and
  concat(t.ym,t.day) &gt;= formattime(getweekbegin(-1),'yyyyMMdd')<o:p></o:p></span></p>
  <p class=MsoNormal><span lang=EN-US style='color:#7030A0'>);</span></p>
  </td>
 </tr>
</table>

<h3 style='margin:0cm;margin-bottom:.0001pt'><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'>7.7.3 </span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>留存用户统计</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'><o:p></o:p></span></h3>

<p class=MsoNormal style='line-height:150%'><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>本周留存用户</span><span
lang=EN-US>=</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>上周新增用户和本周活跃用户的交集</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US style='mso-no-proof:
yes'><!--[if gte vml 1]><v:shape id="_x0000_i1038" type="#_x0000_t75" alt=""
 style='width:415pt;height:215pt;mso-width-percent:0;mso-height-percent:0;
 mso-width-percent:0;mso-height-percent:0'>
 <v:imagedata src="APP信息统计分析系统.fld/image045.png" o:title=""/>
</v:shape><![endif]--><![if !vml]><img border=0 width=415 height=215
src="APP信息统计分析系统.fld/image045.png" v:shapes="_x0000_i1038"><![endif]></span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none;mso-border-alt:
 solid windowtext .5pt;mso-yfti-tbllook:1184;mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
 mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=548 valign=top style='width:411.1pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>select</span></p>
  <p class=MsoNormal><span lang=EN-US>distinct s.deviceid</span></p>
  <p class=MsoNormal><span lang=EN-US>from ext_startup_logs s</span></p>
  <p class=MsoNormal><span lang=EN-US>where appid = 'sdk34734'</span></p>
  <p class=MsoNormal><span lang=EN-US style='color:red'>and concat(ym,day)
  &gt;= formattime(getweekbegin(-1),'yyyyMMdd')<o:p></o:p></span></p>
  <p class=MsoNormal><span lang=EN-US style='color:red'>and concat(ym,day) &lt;
  formattime(getweekbegin(),'yyyyMMdd')<o:p></o:p></span></p>
  <p class=MsoNormal><span lang=EN-US>and deviceid in (</span></p>
  <p class=MsoNormal><span lang=EN-US style='color:#7030A0'>select distinct
  t.deviceid<o:p></o:p></span></p>
  <p class=MsoNormal><span lang=EN-US style='color:#7030A0'>from (<o:p></o:p></span></p>
  <p class=MsoNormal><span lang=EN-US style='color:#7030A0'>select tt.deviceid
  , min(tt.createdatms) mintime<o:p></o:p></span></p>
  <p class=MsoNormal><span lang=EN-US style='color:#7030A0'>from
  ext_startup_logs tt<o:p></o:p></span></p>
  <p class=MsoNormal><span lang=EN-US style='color:#7030A0'>where tt.appid =
  'sdk34734'<o:p></o:p></span></p>
  <p class=MsoNormal><span lang=EN-US style='color:#7030A0'>group by
  tt.deviceid having mintime &gt;= getweekbegin(-2) and mintime &lt;
  getweekbegin(-1)<o:p></o:p></span></p>
  <p class=MsoNormal><span lang=EN-US>) t);</span></p>
  </td>
 </tr>
</table>

<h2 style='margin:0cm;margin-bottom:.0001pt'><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'>7.8 </span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%;font-family:黑体;mso-ascii-font-family:
Arial;mso-hansi-font-family:Arial'>新鲜度分析</span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'><o:p></o:p></span></h2>

<p class=MsoNormal style='line-height:150%'><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>用户新鲜度</span><span
lang=EN-US> = </span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>某段时间的新增用户数</span><span lang=EN-US>/</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>某段时间的活跃的用户数</span><span lang=EN-US> .</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>1</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）今天新增用户（为</span><span lang=EN-US>n</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none;mso-border-alt:
 solid windowtext .5pt;mso-yfti-tbllook:1184;mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
 mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=548 valign=top style='width:411.1pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>select</span></p>
  <p class=MsoNormal><span lang=EN-US>count(*)</span></p>
  <p class=MsoNormal><span lang=EN-US>from</span></p>
  <p class=MsoNormal><span lang=EN-US>(select min(createdatms) mintime</span></p>
  <p class=MsoNormal><span lang=EN-US>from ext_startup_logs</span></p>
  <p class=MsoNormal><span lang=EN-US>where appid = 'sdk34734'</span></p>
  <p class=MsoNormal><span lang=EN-US>group by deviceid</span></p>
  <p class=MsoNormal><span lang=EN-US>having mintime &gt;= getdaybegin() and
  mintime &lt; getdaybegin(1)</span></p>
  <p class=MsoNormal><span lang=EN-US>)t;</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>2</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）今天活跃用户（</span><span lang=EN-US>m</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none;mso-border-alt:
 solid windowtext .5pt;mso-yfti-tbllook:1184;mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
 mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=548 valign=top style='width:411.1pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>select</span></p>
  <p class=MsoNormal><span lang=EN-US>count(distinct deviceid)</span></p>
  <p class=MsoNormal><span lang=EN-US>from ext_startup_logs</span></p>
  <p class=MsoNormal><span lang=EN-US>where appid = 'sdk34734'</span></p>
  <p class=MsoNormal><span lang=EN-US>and createdatms &gt;= getdaybegin() and
  createdatms &lt; getdaybegin(1);</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>3</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）新鲜度</span><span lang=EN-US> = n / m </span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US><span
style='mso-tab-count:1'>       </span></span><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>注意判断</span><span
lang=EN-US>m</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>等于</span><span lang=EN-US>0</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>的情况。</span></p>

<h1 style='margin:0cm;margin-bottom:.0001pt'><span lang=X-NONE
style='font-size:15.0pt;line-height:240%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>八</span><span
lang=X-NONE style='font-size:15.0pt;line-height:240%'> </span><span
lang=X-NONE style='font-size:15.0pt;line-height:240%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>数据展示模块</span><span
lang=X-NONE style='font-size:15.0pt;line-height:240%'><o:p></o:p></span></h1>

<p class=MsoNormal><span lang=EN-US style='mso-no-proof:yes'><!--[if gte vml 1]><v:shape
 id="_x0000_i1037" type="#_x0000_t75" alt="" style='width:416pt;height:176pt;
 mso-width-percent:0;mso-height-percent:0;mso-width-percent:0;
 mso-height-percent:0'>
 <v:imagedata src="APP信息统计分析系统.fld/image046.png" o:title=""/>
</v:shape><![endif]--><![if !vml]><img border=0 width=416 height=176
src="APP信息统计分析系统.fld/image046.png" v:shapes="_x0000_i1037"><![endif]></span></p>

<h2 style='margin:0cm;margin-bottom:.0001pt'><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'>8.1 </span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%;font-family:黑体;mso-ascii-font-family:
Arial;mso-hansi-font-family:Arial'>创建</span><span lang=X-NONE style='font-size:
14.0pt;line-height:172%'>web</span><span lang=X-NONE style='font-size:14.0pt;
line-height:172%;font-family:黑体;mso-ascii-font-family:Arial;mso-hansi-font-family:
Arial'>可视化工程</span><span lang=X-NONE style='font-size:14.0pt;line-height:172%'><o:p></o:p></span></h2>

<h3 style='margin:0cm;margin-bottom:.0001pt'><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'>8.1.1 </span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>创建</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'>web</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>工程导入</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'>pom.xml<o:p></o:p></span></h3>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>1</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）创建一个</span><span lang=EN-US>web</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>工程：</span><span lang=EN-US>app_logs_visualize_web</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US style='mso-no-proof:
yes'><!--[if gte vml 1]><v:shape id="_x0000_i1036" type="#_x0000_t75" alt=""
 style='width:416pt;height:303pt;visibility:visible;mso-width-percent:0;
 mso-height-percent:0;mso-width-percent:0;mso-height-percent:0'>
 <v:imagedata src="APP信息统计分析系统.fld/image047.png" o:title=""/>
</v:shape><![endif]--><![if !vml]><img border=0 width=416 height=303
src="APP信息统计分析系统.fld/image047.png" v:shapes="_x0000_i1036"><![endif]><o:p></o:p></span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US style='mso-no-proof:
yes'>2</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-no-proof:yes'>）添加</span><span
lang=EN-US style='mso-no-proof:yes'>maven</span><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-no-proof:yes'>框架支持</span><span lang=EN-US style='mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US style='mso-no-proof:
yes'><!--[if gte vml 1]><v:shape id="_x0000_i1035" type="#_x0000_t75" alt=""
 style='width:416pt;height:341pt;visibility:visible;mso-width-percent:0;
 mso-height-percent:0;mso-width-percent:0;mso-height-percent:0'>
 <v:imagedata src="APP信息统计分析系统.fld/image048.png" o:title=""/>
</v:shape><![endif]--><![if !vml]><img border=0 width=416 height=341
src="APP信息统计分析系统.fld/image048.png" v:shapes="_x0000_i1035"><![endif]></span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>3</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）导入</span><span lang=EN-US>pom</span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>文件</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none;mso-border-alt:
 solid windowtext .5pt;mso-yfti-tbllook:1184;mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
 mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=548 valign=top style='width:411.1pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><i><span lang=EN-US>&lt;?</span></i><b><span lang=EN-US>xml
  version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;</span></b><i><span
  lang=EN-US>?&gt;<br>
  </span></i><span lang=EN-US>&lt;<b>project
  xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;<br>
  <span style='mso-spacerun:yes'>        
  </span>xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;<br>
  <span style='mso-spacerun:yes'>        
  </span>xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0
  http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</b>&gt;<br>
  <span style='mso-spacerun:yes'>   </span><span
  style='mso-spacerun:yes'> </span>&lt;<b>modelVersion</b>&gt;4.0.0&lt;/<b>modelVersion</b>&gt;<br>
  <br>
  <span style='mso-spacerun:yes'>    </span>&lt;<b>groupId</b>&gt;com.atguigu&lt;/<b>groupId</b>&gt;<br>
  <span style='mso-spacerun:yes'>    </span>&lt;<b>artifactId</b>&gt;app_logs_visualize_web&lt;/<b>artifactId</b>&gt;<br>
  <span style='mso-spacerun:yes'>    </span>&lt;<b>version</b>&gt;1.0-SNAPSHOT&lt;/<b>version</b>&gt;<br>
  <span style='mso-spacerun:yes'>   </span><span style='color:red'><span
  style='mso-spacerun:yes'> </span>&lt;<b>packaging</b>&gt;war&lt;/<b>packaging</b>&gt;</span><br>
  <br>
  <span style='mso-spacerun:yes'>    </span><i>&lt;!--tomcat</i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>插件</span><span lang=EN-US>--&gt;<br>
  <span style='mso-spacerun:yes'>    </span></span></i><span lang=EN-US>&lt;<b>build</b>&gt;<br>
  <span style='mso-spacerun:yes'>        </span>&lt;<b>plugins</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>plugin</b>&gt;<br>
  <span style='mso-spacerun:yes'>                </span>&lt;<b>groupId</b>&gt;org.apache.tomcat.maven&lt;/<b>groupId</b>&gt;<br>
  <span style='mso-spacerun:yes'>                </span>&lt;<b>artifactId</b>&gt;tomcat7-maven-plugin&lt;/<b>artifactId</b>&gt;<br>
  <span style='mso-spacerun:yes'>                </span>&lt;<b>version</b>&gt;2.2&lt;/<b>version</b>&gt;<br>
  <span style='mso-spacerun:yes'>                </span>&lt;<b>configuration</b>&gt;<br>
  <span style='mso-spacerun:yes'>                    </span><i>&lt;!-- http
  port --&gt;<br>
  <span style='mso-spacerun:yes'>                  </span><span
  style='mso-spacerun:yes'>  </span></i>&lt;<b>port</b>&gt;8080&lt;/<b>port</b>&gt;<br>
  <span style='mso-spacerun:yes'>                    </span>&lt;<b>path</b>&gt;/&lt;/<b>path</b>&gt;<br>
  <span style='mso-spacerun:yes'>                </span>&lt;/<b>configuration</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;/<b>plugin</b>&gt;<br>
  <span style='mso-spacerun:yes'>        </span>&lt;/<b>plugins</b>&gt;<br>
  <span style='mso-spacerun:yes'>    </span>&lt;/<b>build</b>&gt;<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><i>&lt;!--</i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>日志框架版本号</span><span lang=EN-US>--&gt;<br>
  <span style='mso-spacerun:yes'>    </span></span></i><span lang=EN-US>&lt;<b>properties</b>&gt;<br>
  <span style='mso-spacerun:yes'>        </span>&lt;<b>log4j.version</b>&gt;1.2.17&lt;/<b>log4j.version</b>&gt;<br>
  <span style='mso-spacerun:yes'>        </span>&lt;<b>slf4j.version</b>&gt;1.7.22&lt;/<b>slf4j.version</b>&gt;<br>
  <span style='mso-spacerun:yes'>    </span>&lt;/<b>properties</b>&gt;<br>
  <br>
  <span style='mso-spacerun:yes'>    </span>&lt;<b>dependencies</b>&gt;<br>
  <span style='mso-spacerun:yes'>        </span><i>&lt;!--</i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>日志框架</span><span lang=EN-US>--&gt;<br>
  <span style='mso-spacerun:yes'>        </span></span></i><span lang=EN-US>&lt;<b>dependency</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>groupId</b>&gt;org.slf4j&lt;/<b>groupId</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>artifactId</b>&gt;jcl-over-slf4j&lt;/<b>artifactId</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>version</b>&gt;${slf4j.version}&lt;/<b>version</b>&gt;<br>
  <span style='mso-spacerun:yes'>        </span>&lt;/<b>dependency</b>&gt;<br>
  <span style='mso-spacerun:yes'>        </span>&lt;<b>dependency</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>groupId</b>&gt;org.slf4j&lt;/<b>groupId</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>artifactId</b>&gt;slf4j-api&lt;/<b>artifactId</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>version</b>&gt;${slf4j.version}&lt;/<b>version</b>&gt;<br>
  <span style='mso-spacerun:yes'>        </span>&lt;/<b>dependency</b>&gt;<br>
  <span style='mso-spacerun:yes'>        </span>&lt;<b>dependency</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>groupId</b>&gt;org.slf4j&lt;/<b>groupId</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>artifactId</b>&gt;slf4j-log4j12&lt;/<b>artifactId</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>version</b>&gt;${slf4j.version}&lt;/<b>version</b>&gt;<br>
  <span style='mso-spacerun:yes'>        </span>&lt;/<b>dependency</b>&gt;<br>
  <span style='mso-spacerun:yes'>        </span>&lt;<b>dependency</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>groupId</b>&gt;log4j&lt;/<b>groupId</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>artifactId</b>&gt;log4j&lt;/<b>artifactId</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>version</b>&gt;${log4j.version}&lt;/<b>version</b>&gt;<br>
  <span style='mso-spacerun:yes'>        </span>&lt;/<b>dependency</b>&gt;<br>
  <br>
  <span style='mso-spacerun:yes'>        </span><i>&lt;!--</i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>单元测试</span><span lang=EN-US>--&gt;<br>
  <span style='mso-spacerun:yes'>        </span></span></i><span lang=EN-US>&lt;<b>dependency</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>groupId</b>&gt;junit&lt;/<b>groupId</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>artifactId</b>&gt;junit&lt;/<b>artifactId</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>version</b>&gt;4.11&lt;/<b>version</b>&gt;<br>
  <span style='mso-spacerun:yes'>        </span>&lt;/<b>dependency</b>&gt;<br>
  <span style='mso-spacerun:yes'>        </span><i>&lt;!--mybatis</i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>框架</span><span lang=EN-US>--&gt;<br>
  <span style='mso-spacerun:yes'>        </span></span></i><span lang=EN-US>&lt;<b>dependency</b>&gt;<br>
  <span style='mso-spacerun:yes'>        </span><span
  style='mso-spacerun:yes'>    </span>&lt;<b>groupId</b>&gt;org.mybatis&lt;/<b>groupId</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>artifactId</b>&gt;mybatis&lt;/<b>artifactId</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>version</b>&gt;3.2.1&lt;/<b>version</b>&gt;<br>
  <span style='mso-spacerun:yes'>        </span>&lt;/<b>dependency</b>&gt;<br>
  <span style='mso-spacerun:yes'>        </span>&lt;<b>dependency</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>groupId</b>&gt;c3p0&lt;/<b>groupId</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>artifactId</b>&gt;c3p0&lt;/<b>artifactId</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>version</b>&gt;0.9.1.2&lt;/<b>version</b>&gt;<br>
  <span style='mso-spacerun:yes'>        </span>&lt;/<b>dependency</b>&gt;<br>
  <span style='mso-spacerun:yes'>        </span>&lt;<b>dependency</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>groupId</b>&gt;org.mybatis&lt;/<b>groupId</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>artifactId</b>&gt;mybatis-spring&lt;/<b>artifactId</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>version</b>&gt;1.3.0&lt;/<b>version</b>&gt;<br>
  <span style='mso-spacerun:yes'>        </span>&lt;/<b>dependency</b>&gt;<br>
  <br>
  <span style='mso-spacerun:yes'>        </span><i>&lt;!--spring</i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>框架</span><span lang=EN-US>--&gt;<br>
  <span style='mso-spacerun:yes'>        </span></span></i><span lang=EN-US>&lt;<b>dependency</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>groupId</b>&gt;org.springframework&lt;/<b>groupId</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>artifactId</b>&gt;spring-webmvc&lt;/<b>artifactId</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>version</b>&gt;4.3.3.RELEASE&lt;/<b>version</b>&gt;<br>
  <span style='mso-spacerun:yes'>        </span>&lt;/<b>dependency</b>&gt;<br>
  <span style='mso-spacerun:yes'>        </span>&lt;<b>dependency</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>groupId</b>&gt;org.springframework&lt;/<b>groupId</b>&gt;<br>
  <span style='mso-spacerun:yes'>       </span><span
  style='mso-spacerun:yes'>     </span>&lt;<b>artifactId</b>&gt;spring-jdbc&lt;/<b>artifactId</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>version</b>&gt;4.3.3.RELEASE&lt;/<b>version</b>&gt;<br>
  <span style='mso-spacerun:yes'>        </span>&lt;/<b>dependency</b>&gt;<br>
  <br>
  <span style='mso-spacerun:yes'>        </span>&lt;<b>dependency</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>groupId</b>&gt;org.aspectj&lt;/<b>groupId</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>artifactId</b>&gt;aspectjweaver&lt;/<b>artifactId</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>version</b>&gt;1.8.10&lt;/<b>version</b>&gt;<br>
  <span style='mso-spacerun:yes'>        </span>&lt;/<b>dependency</b>&gt;<br>
  <span style='mso-spacerun:yes'>        </span>&lt;<b>dependency</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>groupId</b>&gt;javax.servlet&lt;/<b>groupId</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>artifactId</b>&gt;javax.servlet-api&lt;/<b>artifactId</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>version</b>&gt;3.0.1&lt;/<b>version</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>scope</b>&gt;provided&lt;/<b>scope</b>&gt;<br>
  <span style='mso-spacerun:yes'>        </span>&lt;/<b>dependency</b>&gt;<br>
  <br>
  <span style='mso-spacerun:yes'>        </span>&lt;<b>dependency</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>groupId</b>&gt;jstl&lt;/<b>groupId</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>artifactId</b>&gt;jstl&lt;/<b>artifactId</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>version</b>&gt;1.2&lt;/<b>version</b>&gt;<br>
  <span style='mso-spacerun:yes'>        </span>&lt;/<b>dependency</b>&gt;<br>
  <span style='mso-spacerun:yes'>        </span>&lt;<b>dependency</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>groupId</b>&gt;taglibs&lt;/<b>groupId</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>artifactId</b>&gt;standard&lt;/<b>artifactId</b>&gt;<br>
  <span style='mso-spacerun:yes'>    </span><span
  style='mso-spacerun:yes'>        </span>&lt;<b>version</b>&gt;1.1.2&lt;/<b>version</b>&gt;<br>
  <span style='mso-spacerun:yes'>        </span>&lt;/<b>dependency</b>&gt;<br>
  <br>
  <span style='mso-spacerun:yes'>        </span><i>&lt;!--jackson json</i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>解析框架</span><span lang=EN-US>--&gt;<br>
  <span style='mso-spacerun:yes'>        </span></span></i><span lang=EN-US>&lt;<b>dependency</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>groupId</b>&gt;com.fasterxml.jackson.core&lt;/<b>groupId</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>artifactId</b>&gt;jackson-core&lt;/<b>artifactId</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>version</b>&gt;2.8.8&lt;/<b>version</b>&gt;<br>
  <span style='mso-spacerun:yes'>  </span><span
  style='mso-spacerun:yes'>      </span>&lt;/<b>dependency</b>&gt;<br>
  <span style='mso-spacerun:yes'>        </span>&lt;<b>dependency</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>groupId</b>&gt;com.fasterxml.jackson.core&lt;/<b>groupId</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>artifactId</b>&gt;jackson-databind&lt;/<b>artifactId</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>version</b>&gt;2.8.3&lt;/<b>version</b>&gt;<br>
  <span style='mso-spacerun:yes'>        </span>&lt;/<b>dependency</b>&gt;<br>
  <br>
  <span style='mso-spacerun:yes'>        </span><i>&lt;!-- hive</i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>框架</span> <span lang=EN-US>--&gt;<br>
  <span style='mso-spacerun:yes'>        </span></span></i><span lang=EN-US>&lt;<b>dependency</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>groupId</b>&gt;org.apache.hive&lt;/<b>groupId</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>artifactId</b>&gt;hive-jdbc&lt;/<b>artifactId</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>exclusions</b>&gt;<br>
  <span style='mso-spacerun:yes'>                </span>&lt;<b>exclusion</b>&gt;<br>
  <span style='mso-spacerun:yes'>                    </span>&lt;<b>groupId</b>&gt;org.eclipse.jetty.aggregate&lt;/<b>groupId</b>&gt;<br>
  <span style='mso-spacerun:yes'>                    </span>&lt;<b>artifactId</b>&gt;jetty-all&lt;/<b>artifactId</b>&gt;<br>
  <span style='mso-spacerun:yes'>                </span>&lt;/<b>exclusion</b>&gt;<br>
  <span style='mso-spacerun:yes'>                </span>&lt;<b>exclusion</b>&gt;<br>
  <span style='mso-spacerun:yes'>                    </span>&lt;<b>groupId</b>&gt;org.mortbay.jetty&lt;/<b>groupId</b>&gt;<br>
  <span style='mso-spacerun:yes'>                    </span>&lt;<b>artifactId</b>&gt;jetty&lt;/<b>artifactId</b>&gt;<br>
  <span style='mso-spacerun:yes'>                </span>&lt;/<b>exclusion</b>&gt;<br>
  <span style='mso-spacerun:yes'>                </span>&lt;<b>exclusion</b>&gt;<br>
  <span style='mso-spacerun:yes'>                   </span><span
  style='mso-spacerun:yes'> </span>&lt;<b>groupId</b>&gt;tomcat&lt;/<b>groupId</b>&gt;<br>
  <span style='mso-spacerun:yes'>                    </span>&lt;<b>artifactId</b>&gt;jasper-compiler&lt;/<b>artifactId</b>&gt;<br>
  <span style='mso-spacerun:yes'>                </span>&lt;/<b>exclusion</b>&gt;<br>
  <span style='mso-spacerun:yes'>                </span>&lt;<b>exclusion</b>&gt;<br>
  <span style='mso-spacerun:yes'>                    </span>&lt;<b>groupId</b>&gt;tomcat&lt;/<b>groupId</b>&gt;<br>
  <span style='mso-spacerun:yes'>                    </span>&lt;<b>artifactId</b>&gt;jasper-runtime&lt;/<b>artifactId</b>&gt;<br>
  <span style='mso-spacerun:yes'>     </span><span
  style='mso-spacerun:yes'>           </span>&lt;/<b>exclusion</b>&gt;<br>
  <span style='mso-spacerun:yes'>                </span>&lt;<b>exclusion</b>&gt;<br>
  <span style='mso-spacerun:yes'>                    </span>&lt;<b>groupId</b>&gt;org.mortbay.jetty&lt;/<b>groupId</b>&gt;<br>
  <span style='mso-spacerun:yes'>                    </span>&lt;<b>artifactId</b>&gt;jsp-2.1&lt;/<b>artifactId</b>&gt;<br>
  <span style='mso-spacerun:yes'>                </span>&lt;/<b>exclusion</b>&gt;<br>
  <span style='mso-spacerun:yes'>                </span>&lt;<b>exclusion</b>&gt;<br>
  <span style='mso-spacerun:yes'>                    </span>&lt;<b>groupId</b>&gt;org.mortbay.jetty&lt;/<b>groupId</b>&gt;<br>
  <span style='mso-spacerun:yes'>                    </span>&lt;<b>artifactId</b>&gt;jsp-api-2.1&lt;/<b>artifactId</b>&gt;<br>
  <span style='mso-spacerun:yes'>                </span>&lt;/<b>exclusion</b>&gt;<br>
  <span style='mso-spacerun:yes'>                </span>&lt;<b>exclusion</b>&gt;<br>
  <span style='mso-spacerun:yes'>                    </span>&lt;<b>groupId</b>&gt;org.eclipse.jetty.orbit&lt;/<b>groupId</b>&gt;<br>
  <span style='mso-spacerun:yes'>                    </span>&lt;<b>artifactId</b>&gt;javax.servlet&lt;/<b>artifactId</b>&gt;<br>
  <span style='mso-spacerun:yes'>                </span>&lt;/<b>exclusion</b>&gt;<br>
  <span style='mso-spacerun:yes'>                </span>&lt;<b>exclusion</b>&gt;<br>
  <span style='mso-spacerun:yes'>                    </span>&lt;<b>groupId</b>&gt;javax.servlet&lt;/<b>groupId</b>&gt;<br>
  <span style='mso-spacerun:yes'>                    </span>&lt;<b>artifactId</b>&gt;servlet-api&lt;/<b>artifactId</b>&gt;<br>
  <span style='mso-spacerun:yes'>                </span>&lt;/<b>exclusion</b>&gt;<br>
  <span style='mso-spacerun:yes'>                </span>&lt;<b>exclusion</b>&gt;<br>
  <span style='mso-spacerun:yes'>                    </span>&lt;<b>groupId</b>&gt;javax.servlet&lt;/<b>groupId</b>&gt;<br>
  <span style='mso-spacerun:yes'>                    </span>&lt;<b>artifactId</b>&gt;jsp-api&lt;/<b>artifactId</b>&gt;<br>
  <span style='mso-spacerun:yes'>                </span>&lt;/<b>exclusion</b>&gt;<br>
  <span style='mso-spacerun:yes'>                </span>&lt;<b>exclusion</b>&gt;<br>
  <span style='mso-spacerun:yes'>                    </span>&lt;<b>groupId</b>&gt;javax.servlet.jsp&lt;/<b>groupId</b>&gt;<br>
  <span style='mso-spacerun:yes'>                    </span>&lt;<b>artifactId</b>&gt;jsp-api&lt;/<b>artifactId</b>&gt;<br>
  <span style='mso-spacerun:yes'>               </span><span
  style='mso-spacerun:yes'> </span>&lt;/<b>exclusion</b>&gt;<br>
  <span style='mso-spacerun:yes'>                </span>&lt;<b>exclusion</b>&gt;<br>
  <span style='mso-spacerun:yes'>                    </span>&lt;<b>groupId</b>&gt;org.mortbay.jetty&lt;/<b>groupId</b>&gt;<br>
  <span style='mso-spacerun:yes'>                    </span>&lt;<b>artifactId</b>&gt;servlet-api-2.5&lt;/<b>artifactId</b>&gt;<br>
  <span style='mso-spacerun:yes'>                </span>&lt;/<b>exclusion</b>&gt;<br>
  <span style='mso-spacerun:yes'>                </span>&lt;<b>exclusion</b>&gt;<br>
  <span style='mso-spacerun:yes'>                    </span>&lt;<b>groupId</b>&gt;org.mortbay.jetty&lt;/<b>groupId</b>&gt;<br>
  <span style='mso-spacerun:yes'>                    </span>&lt;<b>artifactId</b>&gt;servlet-api&lt;/<b>artifactId</b>&gt;<br>
  <span style='mso-spacerun:yes'>                </span>&lt;/<b>exclusion</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;/<b>exclusions</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>version</b>&gt;2.1.0&lt;/<b>version</b>&gt;<br>
  <span style='mso-spacerun:yes'>        </span>&lt;/<b>dependency</b>&gt;<br>
  <br>
  <span style='mso-spacerun:yes'>    </span>&lt;/<b>dependencies</b>&gt;<br>
  &lt;/<b>project</b>&gt;</span></p>
  </td>
 </tr>
</table>

<h3 style='margin:0cm;margin-bottom:.0001pt'><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'>8.1.2 </span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>导入静态资源并调整</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'>web</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>目录</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'><o:p></o:p></span></h3>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>1</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）向</span><span lang=EN-US>html</span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>文件中导入</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>2</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）导入</span><span lang=EN-US>index.jsp</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>3</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）导入</span><span lang=EN-US>echarts.js</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>4</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）将</span><span lang=EN-US>web</span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>文件夹整体拖拽到</span><span
lang=EN-US>main</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>路径下，并修改</span><span lang=EN-US>web</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>名称为</span><span lang=EN-US>webapp</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US style='mso-no-proof:
yes'><!--[if gte vml 1]><v:shape id="_x0000_i1034" type="#_x0000_t75" alt=""
 style='width:210pt;height:193pt;visibility:visible;mso-width-percent:0;
 mso-height-percent:0;mso-width-percent:0;mso-height-percent:0'>
 <v:imagedata src="APP信息统计分析系统.fld/image049.png" o:title=""/>
</v:shape><![endif]--><![if !vml]><img border=0 width=210 height=193
src="APP信息统计分析系统.fld/image049.png" v:shapes="_x0000_i1034"><![endif]></span></p>

<h3 style='margin:0cm;margin-bottom:.0001pt'><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'>8.1.3 </span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>在</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'>web.xml</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>文件中加载</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'>Spring</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>和</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'>Springmvc</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>配置</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'><o:p></o:p></span></h3>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>web.xml</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none;mso-border-alt:
 solid windowtext .5pt;mso-yfti-tbllook:1184;mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
 mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=548 valign=top style='width:411.1pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><i><span lang=EN-US>&lt;?</span></i><b><span lang=EN-US>xml
  version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;</span></b><i><span
  lang=EN-US>?&gt;<br>
  </span></i><span lang=EN-US>&lt;<b>web-app
  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
  xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;
  xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee
  http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot;
  id=&quot;WebApp_ID&quot; version=&quot;2.5&quot;</b>&gt;<br>
  <span style='mso-spacerun:yes'>  </span>&lt;<b>display-name</b>&gt;app_logs_visualize_web&lt;/<b>display-name</b>&gt;<br>
  <span style='mso-spacerun:yes'>    </span><i>&lt;!--</i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>欢迎页面入口</span><span lang=EN-US>--&gt;<br>
  <span style='mso-spacerun:yes'>  </span></span></i><span lang=EN-US>&lt;<b>welcome-file-list</b>&gt;<br>
  <span style='mso-spacerun:yes'>    </span>&lt;<b>welcome-file</b>&gt;index.html&lt;/<b>welcome-file</b>&gt;<br>
  <span style='mso-spacerun:yes'>    </span>&lt;<b>welcome-file</b>&gt;index.htm&lt;/<b>welcome-file</b>&gt;<br>
  <span style='mso-spacerun:yes'>    </span>&lt;<b>welcome-file</b>&gt;index.jsp&lt;/<b>welcome-file</b>&gt;<br>
  <span style='mso-spacerun:yes'>    </span>&lt;<b>welcome-file</b>&gt;default.html&lt;/<b>welcome-file</b>&gt;<br>
  <span style='mso-spacerun:yes'>    </span>&lt;<b>welcome-file</b>&gt;default.htm&lt;/<b>welcome-file</b>&gt;<br>
  <span style='mso-spacerun:yes'>    </span>&lt;<b>welcome-file</b>&gt;default.jsp&lt;/<b>welcome-file</b>&gt;<br>
  <span style='mso-spacerun:yes'>  </span>&lt;/<b>welcome-file-list</b>&gt;<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><i>&lt;!--1 spring</i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>加载配置</span><span lang=EN-US>--&gt;<br>
  <span style='mso-spacerun:yes'>    </span></span></i><span lang=EN-US>&lt;<b>listener</b>&gt;<br>
  <span style='mso-spacerun:yes'>        </span>&lt;<b>listener-class</b>&gt;org.springframework.web.context.ContextLoaderListener&lt;/<b>listener-class</b>&gt;<br>
  <span style='mso-spacerun:yes'>    </span>&lt;/<b>listener</b>&gt;<br>
  <span style='mso-spacerun:yes'>    </span>&lt;<b>context-param</b>&gt;<br>
  <span style='mso-spacerun:yes'>        </span>&lt;<b>param-name</b>&gt;contextConfigLocation&lt;/<b>param-name</b>&gt;<br>
  <span style='mso-spacerun:yes'>        </span>&lt;<b>param-value</b>&gt;classpath:beans.xml&lt;/<b>param-value</b>&gt;<br>
  <span style='mso-spacerun:yes'>    </span>&lt;/<b>context-param</b>&gt;<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><i>&lt;!--2 springmvc</i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>加载配置</span><span lang=EN-US>--&gt;<br>
  <span style='mso-spacerun:yes'>    </span></span></i><span lang=EN-US>&lt;<b>servlet</b>&gt;<br>
  <span style='mso-spacerun:yes'>        </span>&lt;<b>servlet-name</b>&gt;dispatcher&lt;/<b>servlet-name</b>&gt;<br>
  <span style='mso-spacerun:yes'>        </span>&lt;<b>servlet-class</b>&gt;org.springframework.web.servlet.DispatcherServlet&lt;/<b>servlet-class</b>&gt;<br>
  <span style='mso-spacerun:yes'>        </span>&lt;<b>init-param</b>&gt;<br>
  <span style='mso-spacerun:yes'> </span><span
  style='mso-spacerun:yes'>           </span>&lt;<b>param-name</b>&gt;contextConfigLocation&lt;/<b>param-name</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>param-value</b>&gt;classpath:dispatcher-servlet.xml&lt;/<b>param-value</b>&gt;<br>
  <span style='mso-spacerun:yes'>        </span>&lt;/<b>init-param</b>&gt;<br>
  <span style='mso-spacerun:yes'>        </span>&lt;<b>load-on-startup</b>&gt;1&lt;/<b>load-on-startup</b>&gt;<br>
  <span style='mso-spacerun:yes'>    </span>&lt;/<b>servlet</b>&gt;<br>
  <br>
  <span style='mso-spacerun:yes'>    </span>&lt;<b>servlet-mapping</b>&gt;<br>
  <span style='mso-spacerun:yes'>        </span>&lt;<b>servlet-name</b>&gt;dispatcher&lt;/<b>servlet-name</b>&gt;<br>
  <span style='mso-spacerun:yes'>        </span>&lt;<b>url-pattern</b>&gt;/&lt;/<b>url-pattern</b>&gt;<br>
  <span style='mso-spacerun:yes'>    </span>&lt;/<b>servlet-mapping</b>&gt;<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><i>&lt;!--3 </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>解决传输中文乱码</span><span lang=EN-US>--&gt;<br>
  <span style='mso-spacerun:yes'>    </span></span></i><span lang=EN-US>&lt;<b>filter</b>&gt;<br>
  <span style='mso-spacerun:yes'>        </span>&lt;<b>filter-name</b>&gt;characterEncodingFilter&lt;/<b>filter-name</b>&gt;<br>
  <span style='mso-spacerun:yes'>        </span>&lt;<b>filter-class</b>&gt;org.springframework.web.filter.CharacterEncodingFilter<br>
  <span style='mso-spacerun:yes'>        </span>&lt;/<b>filter-class</b>&gt;<br>
  <span style='mso-spacerun:yes'>        </span>&lt;<b>init-param</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>param-name</b>&gt;encoding&lt;/<b>param-name</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>param-value</b>&gt;UTF-8&lt;/<b>param-value</b>&gt;<br>
  <span style='mso-spacerun:yes'>        </span>&lt;/<b>init-param</b>&gt;<br>
  <span style='mso-spacerun:yes'>        </span>&lt;<b>init-param</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>param-name</b>&gt;forceEncoding&lt;/<b>param-name</b>&gt;<br>
  <span style='mso-spacerun:yes'>            </span>&lt;<b>param-value</b>&gt;true&lt;/<b>param-value</b>&gt;<br>
  <span style='mso-spacerun:yes'>        </span>&lt;/<b>init-param</b>&gt;<br>
  <span style='mso-spacerun:yes'>    </span>&lt;/<b>filter</b>&gt;<br>
  <span style='mso-spacerun:yes'>    </span>&lt;<b>filter-mapping</b>&gt;<br>
  <span style='mso-spacerun:yes'>        </span>&lt;<b>filter-name</b>&gt;characterEncodingFilter&lt;/<b>filter-name</b>&gt;<br>
  <span style='mso-spacerun:yes'>        </span>&lt;<b>url-pattern</b>&gt;/*&lt;/<b>url-pattern</b>&gt;<br>
  <span style='mso-spacerun:yes'>    </span>&lt;/<b>filter-mapping</b>&gt;<br>
  &lt;/<b>web-app</b>&gt;</span></p>
  </td>
 </tr>
</table>

<h3 style='margin:0cm;margin-bottom:.0001pt'><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'>8.1.4 </span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>在</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'>resources</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>路径下添加</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'>Springmvc</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>配置文件</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'><o:p></o:p></span></h3>

<p class=MsoNormal><span lang=EN-US>1</span><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>）添加文件</span></p>

<p class=MsoNormal><span lang=EN-US style='mso-no-proof:yes'><!--[if gte vml 1]><v:shape
 id="_x0000_i1033" type="#_x0000_t75" alt="" style='width:415pt;height:293pt;
 visibility:visible;mso-width-percent:0;mso-height-percent:0;
 mso-width-percent:0;mso-height-percent:0'>
 <v:imagedata src="APP信息统计分析系统.fld/image050.png" o:title=""/>
</v:shape><![endif]--><![if !vml]><img border=0 width=415 height=293
src="APP信息统计分析系统.fld/image050.png" v:shapes="_x0000_i1033"><![endif]></span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>2</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）编写文件：</span><span lang=EN-US>dispatcher-servlet.xml</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none;mso-border-alt:
 solid windowtext .5pt;mso-yfti-tbllook:1184;mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
 mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=548 valign=top style='width:411.1pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><i><span lang=EN-US>&lt;?</span></i><b><span lang=EN-US>xml
  version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;</span></b><i><span
  lang=EN-US>?&gt;<br>
  </span></i><span lang=EN-US>&lt;<b>beans
  xmlns=&quot;http://www.springframework.org/schema/beans&quot;<br>
  <span style='mso-spacerun:yes'>      
  </span>xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;<br>
  <span style='mso-spacerun:yes'>      
  </span>xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;<br>
  <span style='mso-spacerun:yes'>       </span>xmlns:context=&quot;http://www.springframework.org/schema/context&quot;<br>
  <span style='mso-spacerun:yes'>      
  </span>xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans<br>
  <span style='mso-spacerun:yes'>                           
  </span>http://www.springframework.org/schema/beans/spring-beans.xsd<br>
  <span style='mso-spacerun:yes'>                            </span>http://www.springframework.org/schema/mvc<br>
  <span style='mso-spacerun:yes'>                           
  </span>http://www.springframework.org/schema/mvc/spring-mvc.xsd<br>
  <span style='mso-spacerun:yes'>                           
  </span>http://www.springframework.org/schema/context<br>
  <span style='mso-spacerun:yes'>                           
  </span>http://www.springframework.org/schema/context/spring-context.xsd<br>
  <span style='mso-spacerun:yes'>                            </span>&quot;</b>&gt;<br>
  <span style='mso-spacerun:yes'>    </span>&lt;<b>mvc:annotation-driven</b>/&gt;<br>
  <span style='mso-spacerun:yes'>    </span><i>&lt;!-- </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>添加静态资源</span> <span lang=EN-US>--&gt;<br>
  <span style='mso-spacerun:yes'>    </span></span></i><span lang=EN-US>&lt;<b>mvc:resources
  mapping=&quot;/html/**&quot; location=&quot;/html/&quot;</b>/&gt;<br>
  <span style='mso-spacerun:yes'>    </span>&lt;<b>mvc:resources
  mapping=&quot;/js/**&quot; location=&quot;/js/&quot;</b>/&gt;<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><i>&lt;!-- </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>扫描控制器</span> <span lang=EN-US>--&gt;<br>
  <span style='mso-spacerun:yes'>    </span></span></i><span lang=EN-US>&lt;<b>context:component-scan
  base-package=&quot;com.atguigu.applogs.visualize.controller&quot;</b>/&gt;<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><i>&lt;!-- </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>配置视图解析器</span> <span lang=EN-US>--&gt;<br>
  <span style='mso-spacerun:yes'>    </span></span></i><span lang=EN-US>&lt;<b>bean
  id=&quot;viewResolver&quot;
  class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;</b>&gt;<br>
  <span style='mso-spacerun:yes'>        </span>&lt;<b>property
  name=&quot;prefix&quot; value=&quot;/&quot;</b>/&gt;<br>
  <span style='mso-spacerun:yes'>        </span>&lt;<b>property
  name=&quot;suffix&quot; value=&quot;.jsp&quot;</b>/&gt;<br>
  <span style='mso-spacerun:yes'>    </span>&lt;/<b>bean</b>&gt;<br>
  &lt;/<b>beans</b>&gt;</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>3</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）创建</span><span lang=EN-US>package</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>：</span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
lang=EN-US>com.atguigu.applogs.visualize.controller</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US><span
style='mso-tab-count:1'>       </span><span style='mso-bidi-font-weight:bold'>com.atguigu.applogs.visualize.service</span></span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
lang=EN-US style='mso-bidi-font-weight:bold'>com.atguigu.applogs.visualize.dao<o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
lang=EN-US>com.atguigu.applogs.visualize.domain<span style='mso-bidi-font-weight:
bold'><o:p></o:p></span></span></p>

<h3 style='margin:0cm;margin-bottom:.0001pt'><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'>8.1.5 </span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>在</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'>resources</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>路径下添加</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'>Spring</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>配置文件</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'><o:p></o:p></span></h3>

<p class=MsoNormal><span lang=EN-US>1</span><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>）添加文件</span></p>

<p class=MsoNormal><span lang=EN-US style='mso-no-proof:yes'><!--[if gte vml 1]><v:shape
 id="_x0000_i1032" type="#_x0000_t75" alt="" style='width:415pt;height:293pt;
 visibility:visible;mso-width-percent:0;mso-height-percent:0;
 mso-width-percent:0;mso-height-percent:0'>
 <v:imagedata src="APP信息统计分析系统.fld/image050.png" o:title=""/>
</v:shape><![endif]--><![if !vml]><img border=0 width=415 height=293
src="APP信息统计分析系统.fld/image050.png" v:shapes="_x0000_i1032"><![endif]></span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>2</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）编写文件：</span><span lang=EN-US>beans.xml</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none;mso-border-alt:
 solid windowtext .5pt;mso-yfti-tbllook:1184;mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
 mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=548 valign=top style='width:411.1pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><i><span lang=EN-US>&lt;?</span></i><b><span lang=EN-US>xml
  version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;</span></b><i><span
  lang=EN-US>?&gt;<br>
  </span></i><span lang=EN-US>&lt;<b>beans
  xmlns=&quot;http://www.springframework.org/schema/beans&quot;<br>
  <span style='mso-spacerun:yes'>  
  </span>xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;
  xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot;<br>
  <span style='mso-spacerun:yes'>   </span>xmlns:context=&quot;http://www.springframework.org/schema/context&quot;<br>
  <span style='mso-spacerun:yes'>  
  </span>xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;<br>
  <span style='mso-spacerun:yes'>  
  </span>xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans<br>
  <span style='mso-spacerun:yes'>                          
  </span>http://www.springframework.org/schema/beans/spring-beans.xsd<br>
  <span style='mso-spacerun:yes'>        </span><span
  style='mso-spacerun:yes'>                   </span>http://www.springframework.org/schema/context<br>
  <span style='mso-spacerun:yes'>                          
  </span>http://www.springframework.org/schema/context/spring-context-4.3.xsd<br>
  <span style='mso-spacerun:yes'>                          
  </span>http://www.springframework.org/schema/tx<br>
  <span style='mso-spacerun:yes'>                           </span>http://www.springframework.org/schema/tx/spring-tx-4.3.xsd<br>
  <span style='mso-spacerun:yes'>                          
  </span>http://www.springframework.org/schema/aop<br>
  <span style='mso-spacerun:yes'>                          
  </span>http://www.springframework.org/schema/aop/spring-aop-4.3.xsd&quot;</b>&gt;<br>
  <br>
  <span style='mso-spacerun:yes'>   </span><i>&lt;!-- </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>扫描</span><span lang=EN-US>service</span></i><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>包</span> <span lang=EN-US>--&gt;<br>
  <span style='mso-spacerun:yes'>   </span></span></i><span lang=EN-US>&lt;<b>context:component-scan
  base-package=&quot;com.atguigu.applogs.visualize.service&quot; </b>/&gt;<br>
  <br>
  <span style='mso-spacerun:yes'>   </span><i>&lt;!-- </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>连接</span><span lang=EN-US>hive</span></i><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>数据源</span> <span lang=EN-US>--&gt;<br>
  <span style='mso-spacerun:yes'>   </span></span></i><span lang=EN-US>&lt;<b>bean
  id=&quot;dataSource&quot;
  class=&quot;com.mchange.v2.c3p0.ComboPooledDataSource&quot;</b>&gt;<br>
  <span style='mso-spacerun:yes'>      </span>&lt;<b>property
  name=&quot;driverClass&quot;
  value=&quot;org.apache.hive.jdbc.HiveDriver&quot; </b>/&gt;<br>
  <span style='mso-spacerun:yes'>      </span>&lt;<b>property
  name=&quot;jdbcUrl&quot;
  value=&quot;jdbc:hive2://192.168.1.103:10000/applogsdb&quot; </b>/&gt;<br>
  <span style='mso-spacerun:yes'>      </span>&lt;<b>property
  name=&quot;user&quot; value=&quot;atguigu&quot; </b>/&gt;<br>
  <span style='mso-spacerun:yes'>      </span>&lt;<b>property
  name=&quot;password&quot; value=&quot;&quot; </b>/&gt;<br>
  <span style='mso-spacerun:yes'>   </span>&lt;/<b>bean</b>&gt;<br>
  <br>
  <span style='mso-spacerun:yes'>   </span>&lt;<b>bean
  id=&quot;sqlSessionFactoryBean&quot;
  class=&quot;org.mybatis.spring.SqlSessionFactoryBean&quot;</b>&gt;<br>
  <span style='mso-spacerun:yes'>      </span>&lt;<b>property
  name=&quot;dataSource&quot; ref=&quot;dataSource&quot; </b>/&gt;<br>
  <span style='mso-spacerun:yes'>      </span>&lt;<b>property
  name=&quot;configLocation&quot;
  value=&quot;classpath:mybatis-config.xml&quot; </b>/&gt;<br>
  <span style='mso-spacerun:yes'>   </span>&lt;/<b>bean</b>&gt;<br>
  <br>
  <span style='mso-spacerun:yes'>   </span>&lt;<b>bean
  id=&quot;statMapper&quot;
  class=&quot;org.mybatis.spring.mapper.MapperFactoryBean&quot;</b>&gt;<br>
  <span style='mso-spacerun:yes'>      </span>&lt;<b>property name=&quot;mapperInterface&quot;
  value=&quot;com.atguigu.applogs.visualize.dao.StatMapper&quot;</b>&gt;&lt;/<b>property</b>&gt;<br>
  <span style='mso-spacerun:yes'>      </span>&lt;<b>property
  name=&quot;sqlSessionFactory&quot; ref=&quot;sqlSessionFactoryBean&quot;</b>&gt;&lt;/<b>property</b>&gt;<br>
  <span style='mso-spacerun:yes'>   </span>&lt;/<b>bean</b>&gt;<br>
  &lt;/<b>beans</b>&gt;</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US style='mso-bidi-font-weight:
bold'>3</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-weight:bold'>）在</span><span
lang=EN-US style='mso-bidi-font-weight:bold'>com.atguigu.applogs.visualize.dao </span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-weight:bold'>路径下创建</span><span lang=EN-US
style='mso-bidi-font-weight:bold'>StatMapper</span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-weight:bold'>接口</span><span lang=EN-US style='mso-bidi-font-weight:
bold'><o:p></o:p></span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none;mso-border-alt:
 solid windowtext .5pt;mso-yfti-tbllook:1184;mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
 mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=548 valign=top style='width:411.1pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><b><span lang=EN-US>package </span></b><span lang=EN-US>com.atguigu.applogs.visualize.dao;<br>
  <b>public interface </b>StatMapper&lt;T&gt; {<br>
  }</span></p>
  </td>
 </tr>
</table>

<h3 style='margin:0cm;margin-bottom:.0001pt'><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'>7.1.6 </span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>在</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'>resources</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>路径下添加</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'>mybatis</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>配置文件</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'><o:p></o:p></span></h3>

<p class=MsoNormal style='line-height:150%'><b><span lang=EN-US>mybatis-config.xml</span></b></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none;mso-border-alt:
 solid windowtext .5pt;mso-yfti-tbllook:1184;mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
 mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=548 valign=top style='width:411.1pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><i><span lang=EN-US>&lt;?</span></i><span lang=EN-US
  style='mso-bidi-font-weight:bold'>xml version=&quot;1.0&quot;
  encoding=&quot;UTF-8&quot; </span><i><span lang=EN-US>?&gt;<br>
  </span></i><span lang=EN-US style='mso-bidi-font-weight:bold'>&lt;!DOCTYPE
  configuration<br>
  <span style='mso-spacerun:yes'>        </span>PUBLIC
  &quot;-//mybatis.org//DTD Config 3.0//EN&quot;<br>
  <span style='mso-spacerun:yes'>        </span>&quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;<i>&gt;<br>
  </i></span><span lang=EN-US>&lt;<span style='mso-bidi-font-weight:bold'>configuration</span>&gt;<br>
  <br>
  <span style='mso-spacerun:yes'>   </span>&lt;<span style='mso-bidi-font-weight:
  bold'>mappers</span>&gt;<br>
  <span style='mso-spacerun:yes'>      </span>&lt;<span style='mso-bidi-font-weight:
  bold'>mapper resource=&quot;StatMapper.xml&quot; </span>/&gt;<br>
  <span style='mso-spacerun:yes'>   </span>&lt;/<span style='mso-bidi-font-weight:
  bold'>mappers</span>&gt;<br>
  &lt;/<span style='mso-bidi-font-weight:bold'>configuration</span>&gt;</span></p>
  </td>
 </tr>
</table>

<h3 style='margin:0cm;margin-bottom:.0001pt'><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'>7.1.7 </span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>在</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'>resources</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>路径下添加</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'>mybatis</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>的</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'>mapper</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>配置文件</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'><o:p></o:p></span></h3>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>StatMapper.xml</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none;mso-border-alt:
 solid windowtext .5pt;mso-yfti-tbllook:1184;mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
 mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=548 valign=top style='width:411.1pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><i><span lang=EN-US>&lt;?</span></i><b><span lang=EN-US>xml
  version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; </span></b><i><span
  lang=EN-US>?&gt;<br>
  </span></i><b><span lang=EN-US>&lt;!DOCTYPE mapper<br>
  <span style='mso-spacerun:yes'>        </span>PUBLIC
  &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;<br>
  <span style='mso-spacerun:yes'>       
  </span>&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;<i>&gt;<br>
  <br>
  </i></span></b><span lang=EN-US>&lt;<b>mapper
  namespace=&quot;com.atguigu.applogs.visualize.dao.StatMapper&quot;</b>&gt;<br>
  <span style='mso-spacerun:yes'>   </span><i>&lt;!-- </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>查询新增用户</span> <span lang=EN-US>--&gt;<br>
  <span style='mso-spacerun:yes'>   </span></span></i><span lang=EN-US>&lt;<b>select
  id=&quot;findNewUsers&quot; resultMap=&quot;rm_StatBean&quot;</b>&gt;<br>
  <span style='mso-spacerun:yes'>      </span>select <i>count</i>(<i>*</i>) stcount
  from ext_startup_logs<br>
  <span style='mso-spacerun:yes'>   </span>&lt;/<b>select</b>&gt;<br>
  <br>
  <span style='mso-spacerun:yes'>   </span>&lt;<b>resultMap
  id=&quot;rm_StatBean&quot;
  type=&quot;com.atguigu.applogs.visualize.domain.StatBean&quot;</b>&gt;<br>
  <span style='mso-spacerun:yes'>      </span>&lt;<b>result
  column=&quot;stcount&quot; property=&quot;count&quot; </b>/&gt;<br>
  <span style='mso-spacerun:yes'>   </span>&lt;/<b>resultMap</b>&gt;<br>
  <br>
  <span style='mso-spacerun:yes'>   </span>&lt;<b>select
  id=&quot;findThisWeekNewUsers&quot; resultMap=&quot;rm_weekUser&quot;</b>&gt;<br>
  <span style='mso-spacerun:yes'>      </span>select
  formattime(t.mintime,'yyyy/MM/dd') stdate , <i>count</i>(<i>*</i>) stcount<br>
  <span style='mso-spacerun:yes'>        </span>from (<br>
  <span style='mso-spacerun:yes'>          </span>select deviceid,<i>min</i>(createdatms)
  mintime<br>
  <span style='mso-spacerun:yes'>          </span>from ext_startup_logs<br>
  <span style='mso-spacerun:yes'>          </span>where appid = #{appid} group
  by deviceid having mintime <b>&amp;gt;</b>= getweekbegin() and mintime <b>&amp;lt;
  </b>getweekbegin(1)<br>
  <span style='mso-spacerun:yes'>        </span>) t<br>
  <span style='mso-spacerun:yes'>        </span>group by
  formattime(t.mintime,'yyyy/MM/dd')<br>
  <span style='mso-spacerun:yes'>   </span>&lt;/<b>select</b>&gt;<br>
  <span style='mso-spacerun:yes'>   </span>&lt;<b>resultMap
  id=&quot;rm_weekUser&quot;
  type=&quot;com.atguigu.applogs.visualize.domain.StatBean&quot;</b>&gt;<br>
  <span style='mso-spacerun:yes'>      </span>&lt;<b>result
  column=&quot;stcount&quot; property=&quot;count&quot; </b>/&gt;<br>
  <span style='mso-spacerun:yes'>     </span><span
  style='mso-spacerun:yes'> </span>&lt;<b>result column=&quot;stdate&quot;
  property=&quot;date&quot; </b>/&gt;<br>
  <span style='mso-spacerun:yes'>   </span>&lt;/<b>resultMap</b>&gt;<br>
  &lt;/<b>mapper</b>&gt;</span></p>
  </td>
 </tr>
</table>

<h3 style='margin:0cm;margin-bottom:.0001pt'><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'>7.1.8 </span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>在</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'>resources</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>路径下添加</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'>log4j</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>文件</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'><o:p></o:p></span></h3>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>log4j.properties</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none;mso-border-alt:
 solid windowtext .5pt;mso-yfti-tbllook:1184;mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
 mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=548 valign=top style='width:411.1pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US style='mso-bidi-font-weight:bold'>log4j.rootLogger</span><span
  lang=EN-US>=<span style='mso-bidi-font-weight:bold'>info, stdout<br>
  log4j.appender.stdout</span>=<span style='mso-bidi-font-weight:bold'>org.apache.log4j.ConsoleAppender<br>
  log4j.appender.stdout.layout</span>=<span style='mso-bidi-font-weight:bold'>org.apache.log4j.PatternLayout<br>
  log4j.appender.stdout.layout.ConversionPattern</span>=<span style='mso-bidi-font-weight:
  bold'>%d{yyyy-MM-dd HH:mm:ss,SSS}<span style='mso-spacerun:yes'>  </span>%5p
  --- [%50t]<span style='mso-spacerun:yes'>  </span>%-80c(line:%5L)<span
  style='mso-spacerun:yes'>  </span>:<span style='mso-spacerun:yes'> 
  </span>%m%n<br>
  <br>
  log4j.appender.R</span>=<span style='mso-bidi-font-weight:bold'>org.apache.log4j.RollingFileAppender<br>
  log4j.appender.R.File</span>=<span style='mso-bidi-font-weight:bold'>analysis.log<br>
  log4j.appender.R.MaxFileSize</span>=<span style='mso-bidi-font-weight:bold'>1024KB<br>
  log4j.appender.R.MaxBackupIndex</span>=<span style='mso-bidi-font-weight:
  bold'>1<br>
  <br>
  log4j.appender.R.layout</span>=<span style='mso-bidi-font-weight:bold'>org.apache.log4j.PatternLayout<br>
  log4j.appender.R.layout.ConversionPattern</span>=<span style='mso-bidi-font-weight:
  bold'>%d{yyyy-MM-dd HH:mm:ss,SSS}<span style='mso-spacerun:yes'>  </span>%5p
  --- [%50t]<span style='mso-spacerun:yes'>  </span>%-80c(line:%6L)<span
  style='mso-spacerun:yes'>  </span>:<span style='mso-spacerun:yes'> 
  </span>%m%n</span></span></p>
  </td>
 </tr>
</table>

<h3 style='margin:0cm;margin-bottom:.0001pt'><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'>7.1.9 </span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>在</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'>hive</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>端启动</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'>hiveserver2<o:p></o:p></span></h3>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
lang=EN-US style='color:#7030A0'>[atguigu@hadoop103 lib]$ <span
style='mso-spacerun:yes'> </span>hive --service hiveserver2 &amp;<o:p></o:p></span></p>

<h2 style='margin:0cm;margin-bottom:.0001pt'><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'>8.2 </span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%;font-family:黑体;mso-ascii-font-family:
Arial;mso-hansi-font-family:Arial'>代码逻辑实现</span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'><o:p></o:p></span></h2>

<h3 style='margin:0cm;margin-bottom:.0001pt'><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'>8.2.1 </span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>准备统计结果</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'>bean<o:p></o:p></span></h3>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none;mso-border-alt:
 solid windowtext .5pt;mso-yfti-tbllook:1184;mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
 mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=548 valign=top style='width:411.1pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><b><span lang=EN-US>package </span></b><span lang=EN-US>com.atguigu.applogs.visualize.domain;<br>
  <br>
  <i>/**<br>
  <span style='mso-spacerun:yes'> </span>* </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>统计信息</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'> </span>*/<br>
  </span></i><b><span lang=EN-US>public class </span></b><span lang=EN-US>StatBean
  {<br>
  <span style='mso-spacerun:yes'>   </span><i>//</i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>统计日期</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>   </span></span></i><b><span lang=EN-US>private
  </span></b><span lang=EN-US>String <b>date </b>;<br>
  <span style='mso-spacerun:yes'>   </span><i>//</i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>统计数量</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>   </span></span></i><b><span lang=EN-US>private
  long count </span></b><span lang=EN-US>;<br>
  <br>
  <span style='mso-spacerun:yes'>   </span><b>public </b>String getDate() {<br>
  <span style='mso-spacerun:yes'>      </span><b>return date</b>;<br>
  <span style='mso-spacerun:yes'>  </span><span
  style='mso-spacerun:yes'> </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>   </span><b>public void </b>setDate(String
  date) {<br>
  <span style='mso-spacerun:yes'>      </span><b>this</b>.<b>date </b>= date;<br>
  <span style='mso-spacerun:yes'>   </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>   </span><b>public long </b>getCount() {<br>
  <span style='mso-spacerun:yes'>      </span><b>return count</b>;<br>
  <span style='mso-spacerun:yes'>   </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>   </span><b>public void </b>setCount(<b>long </b>count)
  {<br>
  <span style='mso-spacerun:yes'>      </span><b>this</b>.<b>count </b>= count;<br>
  <span style='mso-spacerun:yes'>   </span>}<br>
  }</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<h3 style='margin:0cm;margin-bottom:.0001pt'><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'>8.2.2 </span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>编写</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'>controller</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>逻辑</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'><o:p></o:p></span></h3>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none;mso-border-alt:
 solid windowtext .5pt;mso-yfti-tbllook:1184;mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
 mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=548 valign=top style='width:411.1pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><b><span lang=EN-US>package </span></b><span lang=EN-US>com.atguigu.applogs.visualize.controller;<br>
  <b>import </b>com.atguigu.applogs.visualize.domain.StatBean;<br>
  <b>import </b>com.atguigu.applogs.visualize.service.StatService;<br>
  <b>import </b>org.springframework.stereotype.Controller;<br>
  <b>import </b>org.springframework.web.bind.annotation.RequestMapping;<br>
  <b>import </b>org.springframework.web.bind.annotation.ResponseBody;<br>
  <b>import </b>javax.annotation.Resource;<br>
  <b>import </b>java.util.ArrayList;<br>
  <b>import </b>java.util.HashMap;<br>
  <b>import </b>java.util.List;<br>
  <b>import </b>java.util.Map;<br>
  <i>/**<br>
  <span style='mso-spacerun:yes'> </span>* </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>统计分析类</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'> </span>*/<br>
  </span></i><span lang=EN-US>@Controller<br>
  @RequestMapping(<b>&quot;/stat&quot;</b>)<br>
  <b>public class </b>StatController {<br>
  <br>
  <span style='mso-spacerun:yes'>   </span>@Resource(name=<b>&quot;statService&quot;</b>)<br>
  <span style='mso-spacerun:yes'>   </span><b>private </b>StatService <b>ss </b>;<br>
  <br>
  <span style='mso-spacerun:yes'>   </span><i>/**<br>
  <span style='mso-spacerun:yes'>    </span>* </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>统计每周每天新增用户数</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>    </span>*/<br>
  <span style='mso-spacerun:yes'>   </span></span></i><span lang=EN-US>@RequestMapping(<b>&quot;/week1&quot;</b>)<br>
  <span style='mso-spacerun:yes'>   </span>@ResponseBody<br>
  <span style='mso-spacerun:yes'>   </span><b>public </b>Map&lt;String,
  Object&gt; stat3() {<br>
  <br>
  <span style='mso-spacerun:yes'>      </span><i>// 1 </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>查询每周每天新增用户数</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>      </span></span></i><span lang=EN-US>List&lt;StatBean&gt;
  list = <b>ss</b>.findThisWeekNewUsers(<b>&quot;sdk34734&quot;</b>);<br>
  <span style='mso-spacerun:yes'>      </span>Map&lt;String,Object&gt; map = <b>new
  </b>HashMap&lt;String,Object&gt;();<br>
  <br>
  <span style='mso-spacerun:yes'>      </span>String[] xlabels = <b>new </b>String[list.size()]
  ;<br>
  <span style='mso-spacerun:yes'>      </span><b>long</b>[] newUsers = <b>new
  long</b>[list.size()];<br>
  <br>
  <span style='mso-spacerun:yes'>      </span><i>// 2 </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>将查询结果复制给数组</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>      </span></span></i><b><span lang=EN-US>for</span></b><span
  lang=EN-US>(<b>int </b>i = 0 ; i &lt; list.size() ; i ++){<br>
  <span style='mso-spacerun:yes'>       </span><span
  style='mso-spacerun:yes'>  </span>xlabels[i] = list.get(i).getDate();<br>
  <span style='mso-spacerun:yes'>         </span>newUsers[i] =
  list.get(i).getCount();<br>
  <span style='mso-spacerun:yes'>      </span>}<br>
  <br>
  <span style='mso-spacerun:yes'>      </span><i>// 3 </i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>把数组复制给</span><span lang=EN-US>map</span></i><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>集合</span><span lang=EN-US><br>
  <span style='mso-spacerun:yes'>      </span></span></i><span lang=EN-US>map.put(<b>&quot;date&quot;</b>,xlabels);<br>
  <span style='mso-spacerun:yes'>      </span>map.put(<b>&quot;count&quot;</b>,
  newUsers);<br>
  <br>
  <span style='mso-spacerun:yes'>      </span><b>return </b>map ;<br>
  <span style='mso-spacerun:yes'>   </span>}<br>
  }</span></p>
  </td>
 </tr>
</table>

<h3 style='margin:0cm;margin-bottom:.0001pt'><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'>8.2.3 </span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>编写</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'>service</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>逻辑</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'><o:p></o:p></span></h3>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US style='mso-bidi-font-size:
10.5pt;line-height:150%'>1)</span><span lang=EN-US style='mso-bidi-font-size:
10.5pt;line-height:150%;font-family:Consolas;color:black;mso-font-kerning:0pt'>
</span><span style='mso-bidi-font-size:10.5pt;line-height:150%;font-family:
宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:
Consolas;color:black;mso-font-kerning:0pt'>编写</span><span lang=EN-US
style='mso-bidi-font-size:10.5pt;line-height:150%'>StatService</span><span
style='mso-bidi-font-size:10.5pt;line-height:150%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>接口</span><span
lang=EN-US style='mso-bidi-font-size:10.5pt;line-height:150%'><o:p></o:p></span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none;mso-border-alt:
 solid windowtext .5pt;mso-yfti-tbllook:1184;mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
 mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=548 valign=top style='width:411.1pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US style='mso-bidi-font-weight:bold'>package
  com.atguigu.applogs.visualize.service;<br>
  import com.atguigu.applogs.visualize.domain.StatBean;<br>
  import java.util.List;<br>
  <br>
  <i>/**<br>
  <span style='mso-spacerun:yes'> </span>* Service<br>
  <span style='mso-spacerun:yes'> </span>*/<br>
  </i>public interface StatService {<br>
  <br>
  <span style='mso-spacerun:yes'>   </span>List&lt;StatBean&gt;
  findThisWeekNewUsers(String appid);<br>
  }<o:p></o:p></span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US style='mso-bidi-font-size:
10.5pt;line-height:150%'>2)</span><span lang=EN-US style='mso-bidi-font-size:
10.5pt;line-height:150%;font-family:Consolas;color:black;mso-font-kerning:0pt'>
</span><span style='mso-bidi-font-size:10.5pt;line-height:150%;font-family:
宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:
Consolas;color:black;mso-font-kerning:0pt'>编写</span><span lang=EN-US
style='mso-bidi-font-size:10.5pt;line-height:150%'>StatService</span><span
style='mso-bidi-font-size:10.5pt;line-height:150%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>接口实现类</span><span
lang=EN-US style='mso-bidi-font-size:10.5pt;line-height:150%'><o:p></o:p></span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none;mso-border-alt:
 solid windowtext .5pt;mso-yfti-tbllook:1184;mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
 mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=548 valign=top style='width:411.1pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US style='mso-bidi-font-size:10.5pt;
  mso-bidi-font-weight:bold'>package com.atguigu.applogs.visualize.service;<br>
  import com.atguigu.applogs.visualize.dao.StatMapper;<br>
  import com.atguigu.applogs.visualize.domain.StatBean;<br>
  import org.springframework.beans.factory.annotation.Autowired;<br>
  import org.springframework.stereotype.Service;<br>
  import java.util.List;<br>
  <br>
  <i>/**<br>
  <span style='mso-spacerun:yes'> </span>* </i></span><i><span
  style='mso-bidi-font-size:10.5pt;font-family:宋体;mso-ascii-font-family:"Times New Roman";
  mso-hansi-font-family:"Times New Roman";mso-bidi-font-weight:bold'>统计服务</span></i><i><span
  lang=EN-US style='mso-bidi-font-size:10.5pt;mso-bidi-font-weight:bold'><br>
  <span style='mso-spacerun:yes'> </span>*/<br>
  </span></i><span lang=EN-US style='mso-bidi-font-size:10.5pt;color:red;
  mso-bidi-font-weight:bold'>@Service(&quot;statService&quot;)</span><span
  lang=EN-US style='mso-bidi-font-size:10.5pt;mso-bidi-font-weight:bold'><br>
  public class StatServiceImpl implements StatService {<br>
  <br>
  <span style='mso-spacerun:yes'>    </span>@Autowired<br>
  <span style='mso-spacerun:yes'>    </span>StatMapper statMapper;<br>
  <br>
  <span style='mso-spacerun:yes'>    </span>@Override<br>
  <span style='mso-spacerun:yes'>    </span>public List&lt;StatBean&gt;
  findThisWeekNewUsers(String sdk34734) {<br>
  <span style='mso-spacerun:yes'>        </span>return statMapper.findThisWeekNewUsers(sdk34734);<br>
  <span style='mso-spacerun:yes'>    </span>}<br>
  }<o:p></o:p></span></p>
  </td>
 </tr>
</table>

<h3 style='margin:0cm;margin-bottom:.0001pt'><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'>8.2.4 </span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>编写</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'>dao</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>逻辑</span><span
lang=X-NONE style='font-size:14.0pt;line-height:172%'><o:p></o:p></span></h3>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>1</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）编写到接口</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none;mso-border-alt:
 solid windowtext .5pt;mso-yfti-tbllook:1184;mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
 mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=548 valign=top style='width:411.1pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US style='mso-bidi-font-weight:bold'>package
  com.atguigu.applogs.visualize.dao;<br>
  import com.atguigu.applogs.visualize.domain.StatBean;<br>
  import java.util.List;<br>
  <br>
  <i>/**<br>
  <span style='mso-spacerun:yes'> </span>* BaseDao</i></span><i><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman";mso-bidi-font-weight:bold'>接口</span><span lang=EN-US
  style='mso-bidi-font-weight:bold'><br>
  <span style='mso-spacerun:yes'> </span>*/<br>
  </span></i><span lang=EN-US style='mso-bidi-font-weight:bold'>public
  interface StatMapper&lt;T&gt; {<br>
  <br>
  <span style='mso-spacerun:yes'>   </span>List&lt;StatBean&gt;
  findThisWeekNewUsers(String appid);<br>
  }<o:p></o:p></span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>2</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）具体的</span><span lang=EN-US>dao</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>接口实现类在</span><span lang=EN-US>StatMapper.xml</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>文件中编写</span></p>

<h2 style='margin:0cm;margin-bottom:.0001pt'><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'>8.3 UI</span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%;font-family:黑体;mso-ascii-font-family:
Arial;mso-hansi-font-family:Arial'>页面数据展示</span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'><o:p></o:p></span></h2>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>0</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）</span><span lang=EN-US><span style='mso-tab-count:1'> </span>echarts</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>案例网站：</span><span lang=EN-US>http://echarts.baidu.com/echarts2/doc/example.html</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>1</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）在用户分析的</span><span lang=EN-US>a</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>标签里面增加</span><span lang=EN-US>id</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none;mso-border-alt:
 solid windowtext .5pt;mso-yfti-tbllook:1184;mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
 mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=548 valign=top style='width:411.1pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>&lt;<b>a <span style='color:red'>id=&quot;a_newusers&quot;</span>
  href='javascript:;'</b>&gt;</span><span style='font-family:宋体;mso-ascii-font-family:
  "Times New Roman";mso-hansi-font-family:"Times New Roman"'>新增用户</span><span
  lang=EN-US>&lt;/<b>a</b>&gt;</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>2</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）对</span><span lang=EN-US>a</span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>标签增加异步请求，获取</span><span
lang=EN-US>json</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>数据</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none;mso-border-alt:
 solid windowtext .5pt;mso-yfti-tbllook:1184;mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
 mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=548 valign=top style='width:411.1pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><b><span lang=EN-US>$</span></b><span lang=EN-US>(<b>&quot;#a_newusers&quot;</b>).<b>click</b>(<b>function</b>(){<br>
  <br>
  <span style='mso-spacerun:yes'>    </span><b>$</b>.getJSON(<b>&quot;/stat/week1&quot;</b>,<b>function</b>(d){<br>
  <span style='mso-spacerun:yes'>        </span><b><i>option</i></b>.<b>xAxis</b>.<b>data
  </b>= d.<b>date</b>;<br>
  <span style='mso-spacerun:yes'>        </span><b><i>option</i></b>.<b>series</b>[0].<b>data
  </b>= d.<b>count</b>;<br>
  <br>
  <span style='mso-spacerun:yes'>        </span><b><i>myChart</i></b>.setOption(<b><i>option</i></b>);<br>
  <span style='mso-spacerun:yes'>    </span>});<br>
  });</span></p>
  </td>
 </tr>
</table>

<h2 style='margin:0cm;margin-bottom:.0001pt'><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'>8.4 IDEA</span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%;font-family:黑体;mso-ascii-font-family:
Arial;mso-hansi-font-family:Arial'>上执行</span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%'>Web</span><span lang=X-NONE
style='font-size:14.0pt;line-height:172%;font-family:黑体;mso-ascii-font-family:
Arial;mso-hansi-font-family:Arial'>程序</span><span lang=X-NONE style='font-size:
14.0pt;line-height:172%'><o:p></o:p></span></h2>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>1</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）配置</span><span lang=EN-US>web</span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>执行程序方式</span></p>

<p class=MsoNormal><span lang=EN-US style='mso-no-proof:yes'><!--[if gte vml 1]><v:shape
 id="_x0000_i1031" type="#_x0000_t75" alt="" style='width:416pt;height:55pt;
 visibility:visible;mso-width-percent:0;mso-height-percent:0;
 mso-width-percent:0;mso-height-percent:0'>
 <v:imagedata src="APP信息统计分析系统.fld/image025.png" o:title=""/>
</v:shape><![endif]--><![if !vml]><img border=0 width=416 height=55
src="APP信息统计分析系统.fld/image025.png" v:shapes="_x0000_i1031"><![endif]><o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-no-proof:yes'><!--[if gte vml 1]><v:shape
 id="_x0000_i1030" type="#_x0000_t75" alt="" style='width:415pt;height:260pt;
 visibility:visible;mso-width-percent:0;mso-height-percent:0;
 mso-width-percent:0;mso-height-percent:0'>
 <v:imagedata src="APP信息统计分析系统.fld/image026.png" o:title=""/>
</v:shape><![endif]--><![if !vml]><img border=0 width=415 height=260
src="APP信息统计分析系统.fld/image026.png" v:shapes="_x0000_i1030"><![endif]></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-no-proof:yes'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-no-proof:yes'><!--[if gte vml 1]><v:shape
 id="_x0000_i1029" type="#_x0000_t75" alt="" style='width:415pt;height:243pt;
 visibility:visible;mso-width-percent:0;mso-height-percent:0;
 mso-width-percent:0;mso-height-percent:0'>
 <v:imagedata src="APP信息统计分析系统.fld/image027.png" o:title=""/>
</v:shape><![endif]--><![if !vml]><img border=0 width=415 height=243
src="APP信息统计分析系统.fld/image027.png" v:shapes="_x0000_i1029"><![endif]><o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-no-proof:yes'><!--[if gte vml 1]><v:shape
 id="_x0000_i1028" type="#_x0000_t75" alt="" style='width:329pt;height:334pt;
 visibility:visible;mso-width-percent:0;mso-height-percent:0;
 mso-width-percent:0;mso-height-percent:0'>
 <v:imagedata src="APP信息统计分析系统.fld/image051.png" o:title=""/>
</v:shape><![endif]--><![if !vml]><img border=0 width=329 height=334
src="APP信息统计分析系统.fld/image051.png" v:shapes="_x0000_i1028"><![endif]><o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-no-proof:yes'><!--[if gte vml 1]><v:shape
 id="_x0000_i1027" type="#_x0000_t75" alt="" style='width:415pt;height:262pt;
 visibility:visible;mso-width-percent:0;mso-height-percent:0;
 mso-width-percent:0;mso-height-percent:0'>
 <v:imagedata src="APP信息统计分析系统.fld/image052.png" o:title=""/>
</v:shape><![endif]--><![if !vml]><img border=0 width=415 height=262
src="APP信息统计分析系统.fld/image052.png" v:shapes="_x0000_i1027"><![endif]><o:p></o:p></span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>3</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）向</span><span lang=EN-US>web</span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>工程中添加</span><span
lang=EN-US>jar</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>包依赖</span></p>

<p class=MsoNormal><span lang=EN-US style='mso-no-proof:yes'><!--[if gte vml 1]><v:shape
 id="_x0000_i1026" type="#_x0000_t75" alt="" style='width:415pt;height:295pt;
 visibility:visible;mso-width-percent:0;mso-height-percent:0;
 mso-width-percent:0;mso-height-percent:0'>
 <v:imagedata src="APP信息统计分析系统.fld/image030.png" o:title=""/>
</v:shape><![endif]--><![if !vml]><img border=0 width=415 height=295
src="APP信息统计分析系统.fld/image030.png" v:shapes="_x0000_i1026"><![endif]></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-no-proof:yes'><!--[if gte vml 1]><v:shape
 id="图片_x0020_1" o:spid="_x0000_i1025" type="#_x0000_t75" alt="" style='width:415pt;
 height:330pt;visibility:visible;mso-width-percent:0;mso-height-percent:0;
 mso-width-percent:0;mso-height-percent:0'>
 <v:imagedata src="APP信息统计分析系统.fld/image031.png" o:title=""/>
</v:shape><![endif]--><![if !vml]><img border=0 width=415 height=330
src="APP信息统计分析系统.fld/image031.png" v:shapes="图片_x0020_1"><![endif]><o:p></o:p></span></p>

<h1 style='margin:0cm;margin-bottom:.0001pt'><span lang=X-NONE
style='font-size:15.0pt;line-height:240%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>九</span><span
lang=X-NONE style='font-size:15.0pt;line-height:240%'> </span><span
lang=X-NONE style='font-size:15.0pt;line-height:240%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>项目总结</span><span
lang=X-NONE style='font-size:15.0pt;line-height:240%'><o:p></o:p></span></h1>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>1</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）项目数据基本完整。</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>2</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）数据查询没有达到实时，应该将</span><span lang=EN-US>hive</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>查询的结果保存到</span><span lang=EN-US>mysql</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>数据库中，数据展示服务查询时，可以在</span><span lang=EN-US>mysql</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>中查询，提高查询速度。</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>3</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）数据展示模块，只做了一组数据的查询，后续可以将所有业务查询都展示到页面上。</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>4</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）目前所有业务主要是针对启动日志进行分析，没有对其他</span><span lang=EN-US>4</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>种日志进行分析。</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>5</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）集群启动关闭，可以采用</span><span lang=EN-US>shell</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>脚本。</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>6) hiveserver2 </span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>配置</span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
lang=EN-US>vim conf/hive-site.xml </span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none;mso-border-alt:solid windowtext .5pt;
 mso-yfti-tbllook:1184;mso-padding-alt:0cm 5.4pt 0cm 5.4pt'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes;
  height:689.85pt'>
  <td width=691 valign=top style='width:517.95pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt;height:689.85pt'>
  <p class=MsoNormal style='text-indent:5.25pt;mso-char-indent-count:.5;
  line-height:150%'><span lang=EN-US>&lt;!-- </span><span style='font-family:
  宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>显示表头</span><span
  lang=EN-US>--&gt;<o:p></o:p></span></p>
  <p class=MsoNormal style='text-indent:5.25pt;mso-char-indent-count:.5;
  line-height:150%'><span lang=EN-US>&nbsp; &lt;property&gt;<o:p></o:p></span></p>
  <p class=MsoNormal style='text-indent:5.25pt;mso-char-indent-count:.5;
  line-height:150%'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  &lt;name&gt;hive.cli.print.header&lt;/name&gt;<o:p></o:p></span></p>
  <p class=MsoNormal style='text-indent:5.25pt;mso-char-indent-count:.5;
  line-height:150%'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  &lt;value&gt;true&lt;/value&gt;<o:p></o:p></span></p>
  <p class=MsoNormal style='text-indent:5.25pt;mso-char-indent-count:.5;
  line-height:150%'><span lang=EN-US>&nbsp; &lt;/property&gt;</span></p>
  <p class=MsoNormal style='text-indent:5.25pt;mso-char-indent-count:.5;
  line-height:150%'><span lang=EN-US><o:p>&nbsp;</o:p></span></p>
  <p class=MsoNormal style='text-indent:5.25pt;mso-char-indent-count:.5;
  line-height:150%'><span lang=EN-US>&lt;!-- </span><span style='font-family:
  宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>显示库名</span><span
  lang=EN-US> --&gt;<o:p></o:p></span></p>
  <p class=MsoNormal style='line-height:150%'><span lang=EN-US>&nbsp;
  &lt;property&gt;<o:p></o:p></span></p>
  <p class=MsoNormal style='line-height:150%'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  &lt;name&gt;hive.cli.print.current.db&lt;/name&gt;<o:p></o:p></span></p>
  <p class=MsoNormal style='line-height:150%'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  &lt;value&gt;true&lt;/value&gt;<o:p></o:p></span></p>
  <p class=MsoNormal style='line-height:150%'><span lang=EN-US>&nbsp;
  &lt;/property&gt;<o:p></o:p></span></p>
  <p class=MsoNormal style='line-height:150%'><span style='font-family:"MS Mincho";
  mso-bidi-font-family:"MS Mincho"'> </span><span lang=EN-US><o:p></o:p></span></p>
  <p class=MsoNormal style='line-height:150%'><span lang=EN-US>&nbsp;&lt;!--
  hive</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
  mso-hansi-font-family:"Times New Roman"'>远程访问代理服务</span><span lang=EN-US>uri</span><span
  style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
  "Times New Roman"'>集合</span><span lang=EN-US>--&gt; <o:p></o:p></span></p>
  <p class=MsoNormal style='line-height:150%'><span lang=EN-US>&nbsp;
  &lt;property&gt;<o:p></o:p></span></p>
  <p class=MsoNormal style='line-height:150%'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  &lt;name&gt;hive.metastore.uris&lt;/name&gt;<o:p></o:p></span></p>
  <p class=MsoNormal style='line-height:150%'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  &lt;value&gt;thrift://localhost:9083&lt;/value&gt;<o:p></o:p></span></p>
  <p class=MsoNormal style='line-height:150%'><span lang=EN-US>&nbsp;
  &lt;/property&gt;<o:p></o:p></span></p>
  <p class=MsoNormal style='line-height:150%'><span style='font-family:"MS Mincho";
  mso-bidi-font-family:"MS Mincho"'> </span><span lang=EN-US><o:p></o:p></span></p>
  <p class=MsoNormal style='line-height:150%'><span lang=EN-US>&nbsp;&lt;!--
  hive</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
  mso-hansi-font-family:"Times New Roman"'>远程访问代理服务绑定端口</span><span lang=EN-US>
  --&gt; <o:p></o:p></span></p>
  <p class=MsoNormal style='line-height:150%'><span lang=EN-US>&nbsp;
  &lt;property&gt;<o:p></o:p></span></p>
  <p class=MsoNormal style='line-height:150%'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  &lt;name&gt;hive.server2.thrift.port&lt;/name&gt; <o:p></o:p></span></p>
  <p class=MsoNormal style='line-height:150%'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  &lt;value&gt;10000&lt;/value&gt;<o:p></o:p></span></p>
  <p class=MsoNormal style='line-height:150%'><span lang=EN-US>&nbsp;
  &lt;/property&gt;<o:p></o:p></span></p>
  <p class=MsoNormal style='line-height:150%'><span style='font-family:"MS Mincho";
  mso-bidi-font-family:"MS Mincho"'> </span><span lang=EN-US><o:p></o:p></span></p>
  <p class=MsoNormal style='line-height:150%'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&lt;!--
  hive</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
  mso-hansi-font-family:"Times New Roman"'>远程访问代理服务绑定主机</span><span lang=EN-US>
  --&gt; <o:p></o:p></span></p>
  <p class=MsoNormal style='line-height:150%'><span lang=EN-US>&nbsp;
  &lt;property&gt;<o:p></o:p></span></p>
  <p class=MsoNormal style='line-height:150%'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;name&gt;hive.server2.thrift.bind.host&lt;/name&gt;
  <o:p></o:p></span></p>
  <p class=MsoNormal style='line-height:150%'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;<span
  style='mso-spacerun:yes'>    </span>&lt;value&gt;localhost&lt;/value&gt;<o:p></o:p></span></p>
  <p class=MsoNormal style='line-height:150%'><span lang=EN-US>&nbsp;
  &lt;/property&gt;<o:p></o:p></span></p>
  <p class=MsoNormal style='line-height:150%'><span style='font-family:"MS Mincho";
  mso-bidi-font-family:"MS Mincho"'> </span><span lang=EN-US><o:p></o:p></span></p>
  <p class=MsoNormal style='line-height:150%'><span lang=EN-US>&nbsp; &lt;!--
  hive</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
  mso-hansi-font-family:"Times New Roman"'>远程访问代理服务超时</span><span lang=EN-US>--&gt;<o:p></o:p></span></p>
  <p class=MsoNormal style='line-height:150%'><span lang=EN-US>&nbsp;
  &lt;property&gt;<o:p></o:p></span></p>
  <p class=MsoNormal style='line-height:150%'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;name&gt;hive.server2.long.polling.timeout&lt;/name&gt;
  <o:p></o:p></span></p>
  <p class=MsoNormal style='line-height:150%'><span lang=EN-US>&nbsp;&nbsp;<span
  style='mso-spacerun:yes'>      </span>&lt;value&gt;5000&lt;/value&gt;<o:p></o:p></span></p>
  <p class=MsoNormal style='line-height:150%'><span lang=EN-US><span
  style='mso-spacerun:yes'>  </span>&lt;/property&gt;</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US><span
style='mso-tab-count:1'>       </span></span><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>启动源数据存储访问服务</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US><span
style='mso-tab-count:1'>       </span>sudo nohup hive –service metastore
2&gt;&amp;1 &amp;</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US><span
style='mso-tab-count:1'>       </span>ps -ef | grep metastore<span
style='mso-spacerun:yes'>   </span>&gt;&gt; RunJar</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US><span
style='mso-tab-count:1'>       </span></span><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>启动</span><span
lang=EN-US>hiveserver2</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US><span
style='mso-tab-count:1'>       </span>sudo nohup hive –service hiveserver2
2&gt;&amp;1 &amp;</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US><span
style='mso-tab-count:1'>       </span>ps -ef | grep hiveserver2<span
style='mso-spacerun:yes'>  </span>&gt;&gt; RunJar</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US><span
style='mso-tab-count:1'>       </span></span><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>尝试远程访问</span><span
lang=EN-US>hiveserver2 (</span><span style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>注这里的</span><span
lang=EN-US> user passwd </span><span style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>必须是可通过</span> <span
lang=EN-US>HQL </span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>执行</span> <span lang=EN-US>MR </span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>的授权用户</span><span lang=EN-US>)</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US><span
style='mso-tab-count:1'>       </span>beeline -u jdbc:hive2://localhost:10000
-n &quot;huhao&quot; -p 'huhao' </span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US><span
style='mso-tab-count:1'>       </span></span><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>等效于</span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
lang=EN-US>huhao:conf huhao$ beeline</span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
lang=EN-US>beeline&gt; !connect jdbc:hive2://localhost:10000 huhao huhao</span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
lang=EN-US>0: jdbc:hive2://localhost:10000&gt; show databases;<o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
lang=EN-US>+----------------+--+<o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
lang=EN-US>| database_name<span style='mso-spacerun:yes'>  </span>|<o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
lang=EN-US>+----------------+--+<o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
lang=EN-US>| applogsdb<span style='mso-spacerun:yes'>      </span>|<o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
lang=EN-US>| default<span style='mso-spacerun:yes'>        </span>|<o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
lang=EN-US>+----------------+--+<o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
lang=EN-US>2 rows selected (2.475 seconds)</span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
lang=EN-US>0: jdbc:hive2://localhost:10000&gt; use applogsdb;<o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
lang=EN-US>No rows affected (0.092 seconds)<o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
lang=EN-US>0: jdbc:hive2://localhost:10000&gt; select count(*) from
ext_error_logs;<o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
lang=EN-US>+------+--+<o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
lang=EN-US>| _c0<span style='mso-spacerun:yes'>  </span>|<o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
lang=EN-US>+------+--+<o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
lang=EN-US>| 4<span style='mso-spacerun:yes'>    </span>|<o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
lang=EN-US>+------+--+</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<h1 style='margin:0cm;margin-bottom:.0001pt'><span lang=X-NONE
style='font-size:15.0pt;line-height:240%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>十</span><span
lang=X-NONE style='font-size:15.0pt;line-height:240%'> </span><span
lang=X-NONE style='font-size:15.0pt;line-height:240%;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>问题总结</span><span
lang=X-NONE style='font-size:15.0pt;line-height:240%'><o:p></o:p></span></h1>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>1</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）执行</span><span lang=EN-US>hive</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>自定义函数时，报如下错误：</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US><span
style='mso-tab-count:1'>       </span></span><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>（</span><span
lang=EN-US>1</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>）问题描述</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;mso-table-layout-alt:fixed;
 border:none;mso-border-alt:solid windowtext .5pt;mso-yfti-tbllook:1184;
 mso-padding-alt:0cm 5.4pt 0cm 5.4pt;mso-border-insideh:.5pt solid windowtext;
 mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=548 valign=top style='width:411.1pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>hive (applogsdb)&gt; select formattime(t.mintime,'yyyy/MM/dd')
  stdate , count(*) stcount</span></p>
  <p class=MsoNormal><span lang=EN-US><span
  style='mso-spacerun:yes'>                </span>&gt;<span
  style='mso-spacerun:yes'>         </span>from (</span></p>
  <p class=MsoNormal><span lang=EN-US><span
  style='mso-spacerun:yes'>                </span>&gt;<span
  style='mso-spacerun:yes'>           </span>select deviceid,min(createdatms)
  mintime</span></p>
  <p class=MsoNormal><span lang=EN-US><span
  style='mso-spacerun:yes'>                </span>&gt;<span
  style='mso-spacerun:yes'>           </span>from ext_startup_logs</span></p>
  <p class=MsoNormal><span lang=EN-US><span
  style='mso-spacerun:yes'>                </span>&gt;<span
  style='mso-spacerun:yes'>           </span>where appid = 'sdk34734' group by
  deviceid having mintime &gt;= getweekbegin() and mintime &lt; getweekbegin(1)</span></p>
  <p class=MsoNormal><span lang=EN-US><span
  style='mso-spacerun:yes'>                </span>&gt;<span
  style='mso-spacerun:yes'>         </span>) t</span></p>
  <p class=MsoNormal><span lang=EN-US><span
  style='mso-spacerun:yes'>                </span>&gt;<span
  style='mso-spacerun:yes'>         </span>group by
  formattime(t.mintime,'yyyy/MM/dd');</span></p>
  <p class=MsoNormal><span lang=EN-US>WARNING: Hive-on-MR is deprecated in Hive
  2 and may not be available in the future versions. Consider using a different
  execution engine (i.e. spark, tez) or using Hive 1.X releases.</span></p>
  <p class=MsoNormal><span lang=EN-US>Query ID =
  atguigu_20171108101504_776b483d-2888-4059-a96b-669f7ad18e2e</span></p>
  <p class=MsoNormal><span lang=EN-US>Total jobs = 2</span></p>
  <p class=MsoNormal><span lang=EN-US>Launching Job 1 out of 2</span></p>
  <p class=MsoNormal><span lang=EN-US>Number of reduce tasks not specified.
  Estimated from input data size: 1</span></p>
  <p class=MsoNormal><span lang=EN-US>In order to change the average load for a
  reducer (in bytes):</span></p>
  <p class=MsoNormal><span lang=EN-US><span style='mso-spacerun:yes'> 
  </span>set hive.exec.reducers.bytes.per.reducer=&lt;number&gt;</span></p>
  <p class=MsoNormal><span lang=EN-US>In order to limit the maximum number of
  reducers:</span></p>
  <p class=MsoNormal><span lang=EN-US><span style='mso-spacerun:yes'> 
  </span>set hive.exec.reducers.max=&lt;number&gt;</span></p>
  <p class=MsoNormal><span lang=EN-US>In order to set a constant number of
  reducers:</span></p>
  <p class=MsoNormal><span lang=EN-US><span style='mso-spacerun:yes'> 
  </span>set mapreduce.job.reduces=&lt;number&gt;</span></p>
  <p class=MsoNormal><span lang=EN-US>Starting Job = job_1510104352730_0007,
  Tracking URL = http://hadoop103:8088/proxy/application_1510104352730_0007/</span></p>
  <p class=MsoNormal><span lang=EN-US>Kill Command =
  /opt/module/hadoop-2.7.2/bin/hadoop job<span style='mso-spacerun:yes'> 
  </span>-kill job_1510104352730_0007</span></p>
  <p class=MsoNormal><span lang=EN-US>Hadoop job information for Stage-1:
  number of mappers: 0; number of reducers: 1</span></p>
  <p class=MsoNormal><span lang=EN-US>2017-11-08 10:15:50,492 Stage-1 map =
  0%,<span style='mso-spacerun:yes'>  </span>reduce = 0%</span></p>
  <p class=MsoNormal><span lang=EN-US>2017-11-08 10:16:17,854 Stage-1 map =
  0%,<span style='mso-spacerun:yes'>  </span>reduce = 100%</span></p>
  <p class=MsoNormal><span lang=EN-US>Ended Job = job_1510104352730_0007 with
  errors</span></p>
  <p class=MsoNormal><span lang=EN-US>Error during job, obtaining debugging
  information...</span></p>
  <p class=MsoNormal><span lang=EN-US>Examining task ID:
  task_1510104352730_0007_r_000000 (and more) from job job_1510104352730_0007</span></p>
  <p class=MsoNormal><span lang=EN-US><o:p>&nbsp;</o:p></span></p>
  <p class=MsoNormal><span lang=EN-US>Task with the most failures(4): </span></p>
  <p class=MsoNormal><span lang=EN-US>-----</span></p>
  <p class=MsoNormal><span lang=EN-US>Task ID:</span></p>
  <p class=MsoNormal><span lang=EN-US><span style='mso-spacerun:yes'> 
  </span>task_1510104352730_0007_r_000000</span></p>
  <p class=MsoNormal><span lang=EN-US><o:p>&nbsp;</o:p></span></p>
  <p class=MsoNormal><span lang=EN-US>URL:</span></p>
  <p class=MsoNormal><span lang=EN-US><span style='mso-spacerun:yes'> 
  </span>http://hadoop103:8088/taskdetails.jsp?jobid=job_1510104352730_0007&amp;tipid=task_1510104352730_0007_r_000000</span></p>
  <p class=MsoNormal><span lang=EN-US>-----</span></p>
  <p class=MsoNormal><span lang=EN-US>Diagnostic Messages for this Task:</span></p>
  <p class=MsoNormal><span lang=EN-US>Error: java.lang.RuntimeException: Error
  in configuring object</span></p>
  <p class=MsoNormal><span lang=EN-US><span style='mso-spacerun:yes'>       
  </span>at org.apache.hadoop.util.ReflectionUtils.setJobConf(ReflectionUtils.java:112)</span></p>
  <p class=MsoNormal><span lang=EN-US><span style='mso-spacerun:yes'>       
  </span>at
  org.apache.hadoop.util.ReflectionUtils.setConf(ReflectionUtils.java:78)</span></p>
  <p class=MsoNormal><span lang=EN-US><span style='mso-spacerun:yes'>       
  </span>at
  org.apache.hadoop.util.ReflectionUtils.newInstance(ReflectionUtils.java:136)</span></p>
  <p class=MsoNormal><span lang=EN-US><span style='mso-spacerun:yes'>       
  </span>at org.apache.hadoop.mapred.ReduceTask.runOldReducer(ReduceTask.java:409)</span></p>
  <p class=MsoNormal><span lang=EN-US><span style='mso-spacerun:yes'>       
  </span>at org.apache.hadoop.mapred.ReduceTask.run(ReduceTask.java:392)</span></p>
  <p class=MsoNormal><span lang=EN-US><span style='mso-spacerun:yes'>       
  </span>at org.apache.hadoop.mapred.YarnChild$2.run(YarnChild.java:164)</span></p>
  <p class=MsoNormal><span lang=EN-US><span style='mso-spacerun:yes'>       
  </span>at java.security.AccessController.doPrivileged(Native Method)</span></p>
  <p class=MsoNormal><span lang=EN-US><span style='mso-spacerun:yes'>       
  </span>at javax.security.auth.Subject.doAs(Subject.java:415)</span></p>
  <p class=MsoNormal><span lang=EN-US><span style='mso-spacerun:yes'>       
  </span>at
  org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1657)</span></p>
  <p class=MsoNormal><span lang=EN-US><span style='mso-spacerun:yes'>       
  </span>at org.apache.hadoop.mapred.YarnChild.main(YarnChild.java:158)</span></p>
  <p class=MsoNormal><span lang=EN-US>Caused by:
  java.lang.reflect.InvocationTargetException</span></p>
  <p class=MsoNormal><span lang=EN-US><span style='mso-spacerun:yes'>       
  </span>at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</span></p>
  <p class=MsoNormal><span lang=EN-US><span style='mso-spacerun:yes'>       
  </span>at
  sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)</span></p>
  <p class=MsoNormal><span lang=EN-US><span style='mso-spacerun:yes'>       
  </span>at
  sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)</span></p>
  <p class=MsoNormal><span lang=EN-US><span style='mso-spacerun:yes'>       
  </span>at java.lang.reflect.Method.invoke(Method.java:606)</span></p>
  <p class=MsoNormal><span lang=EN-US><span style='mso-spacerun:yes'>       
  </span>at
  org.apache.hadoop.util.ReflectionUtils.setJobConf(ReflectionUtils.java:109)</span></p>
  <p class=MsoNormal><span lang=EN-US><span style='mso-spacerun:yes'>       
  </span>... 9 more</span></p>
  <p class=MsoNormal><span lang=EN-US>Caused by: java.lang.RuntimeException:
  Reduce operator initialization failed</span></p>
  <p class=MsoNormal><span lang=EN-US><span style='mso-spacerun:yes'>  </span><span
  style='mso-spacerun:yes'>      </span>at
  org.apache.hadoop.hive.ql.exec.mr.ExecReducer.configure(ExecReducer.java:157)</span></p>
  <p class=MsoNormal><span lang=EN-US><span style='mso-spacerun:yes'>       
  </span>... 14 more</span></p>
  <p class=MsoNormal><span lang=EN-US>Caused by:
  java.lang.UnsupportedClassVersionError: com/atguigu/hive/FormatTimeUDF :
  Unsupported major.minor version 52.0</span></p>
  <p class=MsoNormal><span lang=EN-US><span style='mso-spacerun:yes'>       
  </span>at java.lang.ClassLoader.defineClass1(Native Method)</span></p>
  <p class=MsoNormal><span lang=EN-US><span style='mso-spacerun:yes'>       
  </span>at java.lang.ClassLoader.defineClass(ClassLoader.java:800)</span></p>
  <p class=MsoNormal><span lang=EN-US><span style='mso-spacerun:yes'>       
  </span>at
  java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)</span></p>
  <p class=MsoNormal><span lang=EN-US><span style='mso-spacerun:yes'>       
  </span>at java.net.URLClassLoader.defineClass(URLClassLoader.java:449)</span></p>
  <p class=MsoNormal><span lang=EN-US><span style='mso-spacerun:yes'> </span><span
  style='mso-spacerun:yes'>       </span>at
  java.net.URLClassLoader.access$100(URLClassLoader.java:71)</span></p>
  <p class=MsoNormal><span lang=EN-US><span style='mso-spacerun:yes'>       
  </span>at java.net.URLClassLoader$1.run(URLClassLoader.java:361)</span></p>
  <p class=MsoNormal><span lang=EN-US><span style='mso-spacerun:yes'>       
  </span>at java.net.URLClassLoader$1.run(URLClassLoader.java:355)</span></p>
  <p class=MsoNormal><span lang=EN-US><span style='mso-spacerun:yes'>       
  </span>at java.security.AccessController.doPrivileged(Native Method)</span></p>
  <p class=MsoNormal><span lang=EN-US><span style='mso-spacerun:yes'>       
  </span>at java.net.URLClassLoader.findClass(URLClassLoader.java:354)</span></p>
  <p class=MsoNormal><span lang=EN-US><span style='mso-spacerun:yes'>       
  </span>at java.lang.ClassLoader.loadClass(ClassLoader.java:425)</span></p>
  <p class=MsoNormal><span lang=EN-US><span style='mso-spacerun:yes'>       
  </span>at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:308)</span></p>
  <p class=MsoNormal><span lang=EN-US><span style='mso-spacerun:yes'>       
  </span>at java.lang.ClassLoader.loadClass(ClassLoader.java:358)</span></p>
  <p class=MsoNormal><span lang=EN-US><span style='mso-spacerun:yes'>       
  </span>at java.lang.Class.forName0(Native Method)</span></p>
  <p class=MsoNormal><span lang=EN-US><span style='mso-spacerun:yes'>       
  </span>at java.lang.Class.forName(Class.java:274)</span></p>
  <p class=MsoNormal><span lang=EN-US><span style='mso-spacerun:yes'>       
  </span>at
  org.apache.hadoop.hive.ql.udf.generic.GenericUDFBridge.getUdfClassInternal(GenericUDFBridge.java:142)</span></p>
  <p class=MsoNormal><span lang=EN-US><span style='mso-spacerun:yes'>       
  </span>at
  org.apache.hadoop.hive.ql.udf.generic.GenericUDFBridge.initialize(GenericUDFBridge.java:154)</span></p>
  <p class=MsoNormal><span lang=EN-US><span style='mso-spacerun:yes'>       
  </span>at
  org.apache.hadoop.hive.ql.udf.generic.GenericUDF.initializeAndFoldConstants(GenericUDF.java:139)</span></p>
  <p class=MsoNormal><span lang=EN-US><span style='mso-spacerun:yes'>       
  </span>at org.apache.hadoop.hive.ql.exec.ExprNodeGenericFuncEvaluator.initialize(ExprNodeGenericFuncEvaluator.java:145)</span></p>
  <p class=MsoNormal><span lang=EN-US><span style='mso-spacerun:yes'>       
  </span>at
  org.apache.hadoop.hive.ql.exec.GroupByOperator.initializeOp(GroupByOperator.java:210)</span></p>
  <p class=MsoNormal><span lang=EN-US><span style='mso-spacerun:yes'>       
  </span>at
  org.apache.hadoop.hive.ql.exec.Operator.initialize(Operator.java:358)</span></p>
  <p class=MsoNormal><span lang=EN-US><span style='mso-spacerun:yes'>       
  </span>at
  org.apache.hadoop.hive.ql.exec.Operator.initialize(Operator.java:546)</span></p>
  <p class=MsoNormal><span lang=EN-US><span style='mso-spacerun:yes'>       
  </span>at
  org.apache.hadoop.hive.ql.exec.Operator.initializeChildren(Operator.java:498)</span></p>
  <p class=MsoNormal><span lang=EN-US><span style='mso-spacerun:yes'>       
  </span>at
  org.apache.hadoop.hive.ql.exec.Operator.initialize(Operator.java:368)</span></p>
  <p class=MsoNormal><span lang=EN-US><span style='mso-spacerun:yes'>       
  </span>at org.apache.hadoop.hive.ql.exec.Operator.initialize(Operator.java:546)</span></p>
  <p class=MsoNormal><span lang=EN-US><span style='mso-spacerun:yes'>       
  </span>at
  org.apache.hadoop.hive.ql.exec.Operator.initializeChildren(Operator.java:498)</span></p>
  <p class=MsoNormal><span lang=EN-US><span style='mso-spacerun:yes'>       
  </span>at
  org.apache.hadoop.hive.ql.exec.Operator.initialize(Operator.java:368)</span></p>
  <p class=MsoNormal><span lang=EN-US><span style='mso-spacerun:yes'>       
  </span>at org.apache.hadoop.hive.ql.exec.Operator.initialize(Operator.java:546)</span></p>
  <p class=MsoNormal><span lang=EN-US><span style='mso-spacerun:yes'>       
  </span>at
  org.apache.hadoop.hive.ql.exec.Operator.initializeChildren(Operator.java:498)</span></p>
  <p class=MsoNormal><span lang=EN-US><span style='mso-spacerun:yes'>       
  </span>at
  org.apache.hadoop.hive.ql.exec.Operator.initialize(Operator.java:368)</span></p>
  <p class=MsoNormal><span lang=EN-US><span style='mso-spacerun:yes'>       
  </span>at org.apache.hadoop.hive.ql.exec.mr.ExecReducer.configure(ExecReducer.java:150)</span></p>
  <p class=MsoNormal><span lang=EN-US><span style='mso-spacerun:yes'>       
  </span>... 14 more</span></p>
  <p class=MsoNormal><span lang=EN-US>FAILED: Execution Error, return code 2
  from org.apache.hadoop.hive.ql.exec.mr.MapRedTask</span></p>
  <p class=MsoNormal><span lang=EN-US>MapReduce Jobs Launched: </span></p>
  <p class=MsoNormal><span lang=EN-US>Stage-Stage-1: Reduce: 1<span
  style='mso-spacerun:yes'>   </span>HDFS Read: 0 HDFS Write: 0 FAIL</span></p>
  <p class=MsoNormal><span lang=EN-US>Total MapReduce CPU Time Spent: 0 msec</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US><span
style='mso-tab-count:1'>       </span></span><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>（</span><span
lang=EN-US>2</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>）问题原因：原来</span><span lang=EN-US>hadoop</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>集群配置的是</span><span lang=EN-US>jdk1.7</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>版本，后升级为</span><span lang=EN-US>jdk1.8</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>。</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US><span
style='mso-tab-count:2'>              </span></span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>升级后</span><span
lang=EN-US>HAOOP_HOME</span><span style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>还是配置的</span><span
lang=EN-US>jdk1.7</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>路径。</span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>（</span><span lang=EN-US>3</span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>）问题解决</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US><span
style='mso-tab-count:2'>              </span>A)</span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>更改：</span><span
lang=EN-US>hadoop-env.sh</span><span style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>、</span><span
lang=EN-US>mapred-env.sh</span><span style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>、</span><span
lang=EN-US>yarn-env.sh</span><span style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>三个文件中的</span><span
lang=EN-US>HAOOP_HOME</span><span style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>。</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US><span
style='mso-tab-count:2'>              </span>B)</span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>一定要添加</span><span
lang=EN-US>jar</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>包</span></p>

<p class=MsoNormal style='margin-left:42.0pt;text-indent:21.0pt;line-height:
150%'><span lang=EN-US>hive (applogsdb)&gt; add jar
/opt/module/hive/lib/app_logs_hive.jar</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>2</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）</span><span lang=EN-US>flume</span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>和</span><span
lang=EN-US>hive</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>最好放到同一台设备上、或者保证服务器时间同步。</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=EN-US>3</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>）</span><span lang=EN-US>flume</span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>启动就失败，</span><span
lang=EN-US><span style='mso-spacerun:yes'>  </span></span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>查看</span><span lang=EN-US>hadoop</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>是否加载成功，</span> <span style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>不成功可以将</span><span
lang=EN-US>hadoop</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>所有</span><span lang=EN-US>jar</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>包拷贝到</span><span lang=EN-US>flume/lib</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>目录下。</span></p>

<p class=MsoNormal style='margin-left:42.0pt;text-indent:21.0pt;line-height:
150%'><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

</div>

</body>

</html>
